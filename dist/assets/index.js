var _E=Object.defineProperty;var EE=(t,e,s)=>e in t?_E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var re=(t,e,s)=>EE(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Dt(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const Ie=Object.freeze({}),Vi=Object.freeze([]),mt=()=>{},Vr=()=>!1,An=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ec=t=>t.startsWith("onUpdate:"),Pe=Object.assign,Lf=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},wE=Object.prototype.hasOwnProperty,ze=(t,e)=>wE.call(t,e),le=Array.isArray,ei=t=>mr(t)==="[object Map]",_i=t=>mr(t)==="[object Set]",xm=t=>mr(t)==="[object Date]",CE=t=>mr(t)==="[object RegExp]",be=t=>typeof t=="function",_e=t=>typeof t=="string",ys=t=>typeof t=="symbol",Ne=t=>t!==null&&typeof t=="object",Bc=t=>(Ne(t)||be(t))&&be(t.then)&&be(t.catch),tv=Object.prototype.toString,mr=t=>tv.call(t),zf=t=>mr(t).slice(8,-1),Uc=t=>mr(t)==="[object Object]",$f=t=>_e(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,bn=Dt(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),sv=Dt("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),jc=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},SE=/-(\w)/g,Ke=jc(t=>t.replace(SE,(e,s)=>s?s.toUpperCase():"")),xE=/\B([A-Z])/g,jt=jc(t=>t.replace(xE,"-$1").toLowerCase()),vo=jc(t=>t.charAt(0).toUpperCase()+t.slice(1)),fo=jc(t=>t?`on${vo(t)}`:""),ts=(t,e)=>!Object.is(t,e),dn=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Gi=(t,e,s,o=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:o,value:s})},tc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},sc=t=>{const e=_e(t)?Number(t):NaN;return isNaN(e)?t:e};let km;const za=()=>km||(km=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kE(t,e){return t+JSON.stringify(e,(s,o)=>typeof o=="function"?o.toString():o)}const Tl={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},DE={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},AE="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",TE=Dt(AE),Dm=2;function ME(t,e=0,s=t.length){if(e=Math.max(0,Math.min(e,t.length)),s=Math.max(0,Math.min(s,t.length)),e>s)return"";let o=t.split(/(\r?\n)/);const n=o.filter((a,l)=>l%2===1);o=o.filter((a,l)=>l%2===0);let i=0;const r=[];for(let a=0;a<o.length;a++)if(i+=o[a].length+(n[a]&&n[a].length||0),i>=e){for(let l=a-Dm;l<=a+Dm||s>i;l++){if(l<0||l>=o.length)continue;const d=l+1;r.push(`${d}${" ".repeat(Math.max(3-String(d).length,0))}|  ${o[l]}`);const u=o[l].length,f=n[l]&&n[l].length||0;if(l===a){const h=e-(i-(u+f)),m=Math.max(1,s>i?u-h:s-e);r.push("   |  "+" ".repeat(h)+"^".repeat(m))}else if(l>a){if(s>i){const h=Math.max(Math.min(s-i,u),1);r.push("   |  "+"^".repeat(h))}i+=u+f}}break}return r.join(`
`)}function Tn(t){if(le(t)){const e={};for(let s=0;s<t.length;s++){const o=t[s],n=_e(o)?ov(o):Tn(o);if(n)for(const i in n)e[i]=n[i]}return e}else if(_e(t)||Ne(t))return t}const PE=/;(?![^(]*\))/g,IE=/:([^]+)/,FE=/\/\*[^]*?\*\//g;function ov(t){const e={};return t.replace(FE,"").split(PE).forEach(s=>{if(s){const o=s.split(IE);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function RE(t){if(!t)return"";if(_e(t))return t;let e="";for(const s in t){const o=t[s];if(_e(o)||typeof o=="number"){const n=s.startsWith("--")?s:jt(s);e+=`${n}:${o};`}}return e}function j(t){let e="";if(_e(t))e=t;else if(le(t))for(let s=0;s<t.length;s++){const o=j(t[s]);o&&(e+=o+" ")}else if(Ne(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}function OE(t){if(!t)return null;let{class:e,style:s}=t;return e&&!_e(e)&&(t.class=j(e)),s&&(t.style=Tn(s)),t}const NE="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",LE="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",zE="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",$E="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",nv=Dt(NE),iv=Dt(LE),rv=Dt(zE),VE=Dt($E),av="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",BE=Dt(av),Am=Dt(av+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function Vf(t){return!!t||t===""}const UE=Dt("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),jE=Dt("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan");function HE(t){if(t==null)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"}const qE=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function WE(t,e){return t.replace(qE,s=>`\\${s}`)}function KE(t,e){if(t.length!==e.length)return!1;let s=!0;for(let o=0;s&&o<t.length;o++)s=wn(t[o],e[o]);return s}function wn(t,e){if(t===e)return!0;let s=xm(t),o=xm(e);if(s||o)return s&&o?t.getTime()===e.getTime():!1;if(s=ys(t),o=ys(e),s||o)return t===e;if(s=le(t),o=le(e),s||o)return s&&o?KE(t,e):!1;if(s=Ne(t),o=Ne(e),s||o){if(!s||!o)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const r in t){const a=t.hasOwnProperty(r),l=e.hasOwnProperty(r);if(a&&!l||!a&&l||!wn(t[r],e[r]))return!1}}return String(t)===String(e)}function Hc(t,e){return t.findIndex(s=>wn(s,e))}const lv=t=>!!(t&&t.__v_isRef===!0),S=t=>_e(t)?t:t==null?"":le(t)||Ne(t)&&(t.toString===tv||!be(t.toString))?lv(t)?S(t.value):JSON.stringify(t,cv,2):String(t),cv=(t,e)=>lv(e)?cv(t,e.value):ei(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[o,n],i)=>(s[Nd(o,i)+" =>"]=n,s),{})}:_i(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Nd(s))}:ys(e)?Nd(e):Ne(e)&&!le(e)&&!Uc(e)?String(e):e,Nd=(t,e="")=>{var s;return ys(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};function Ls(t,...e){console.warn(`[Vue warn] ${t}`,...e)}let es;class Bf{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=es,!e&&es&&(this.index=(es.scopes||(es.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=es;try{return es=this,e()}finally{es=s}}else Ls("cannot run an inactive effect scope.")}on(){es=this}off(){es=this.parent}stop(e){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Uf(t){return new Bf(t)}function jf(){return es}function dv(t,e=!1){es?es.cleanups.push(t):e||Ls("onScopeDispose() is called when there is no active effect scope to be associated with.")}let Be;const Ld=new WeakSet;class ha{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,es&&es.active&&es.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ld.has(this)&&(Ld.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fv(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Tm(this),hv(this);const e=Be,s=Zs;Be=this,Zs=!0;try{return this.fn()}finally{Be!==this&&Ls("Active effect was not restored correctly - this is likely a Vue internal bug."),mv(this),Be=e,Zs=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Wf(e);this.deps=this.depsTail=void 0,Tm(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ld.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Eu(this)&&this.run()}get dirty(){return Eu(this)}}let uv=0,Yr,Jr;function fv(t,e=!1){if(t.flags|=8,e){t.next=Jr,Jr=t;return}t.next=Yr,Yr=t}function Hf(){uv++}function qf(){if(--uv>0)return;if(Jr){let e=Jr;for(Jr=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Yr;){let e=Yr;for(Yr=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){t||(t=o)}e=s}}if(t)throw t}function hv(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function mv(t){let e,s=t.depsTail,o=s;for(;o;){const n=o.prevDep;o.version===-1?(o===s&&(s=n),Wf(o),GE(o)):e=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=n}t.deps=e,t.depsTail=s}function Eu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(pv(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function pv(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ma))return;t.globalVersion=ma;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Eu(t)){t.flags&=-3;return}const s=Be,o=Zs;Be=t,Zs=!0;try{hv(t);const n=t.fn(t._value);(e.version===0||ts(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{Be=s,Zs=o,mv(t),t.flags&=-3}}function Wf(t,e=!1){const{dep:s,prevSub:o,nextSub:n}=t;if(o&&(o.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=o,t.nextSub=void 0),s.subsHead===t&&(s.subsHead=n),s.subs===t&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Wf(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function GE(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}function XE(t,e){t.effect instanceof ha&&(t=t.effect.fn);const s=new ha(t);e&&Pe(s,e);try{s.run()}catch(n){throw s.stop(),n}const o=s.run.bind(s);return o.effect=s,o}function ZE(t){t.effect.stop()}let Zs=!0;const gv=[];function Ho(){gv.push(Zs),Zs=!1}function qo(){const t=gv.pop();Zs=t===void 0?!0:t}function Tm(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Be;Be=void 0;try{e()}finally{Be=s}}}let ma=0;class YE{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class qc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.subsHead=void 0}track(e){if(!Be||!Zs||Be===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Be)s=this.activeLink=new YE(Be,this),Be.deps?(s.prevDep=Be.depsTail,Be.depsTail.nextDep=s,Be.depsTail=s):Be.deps=Be.depsTail=s,bv(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=Be.depsTail,s.nextDep=void 0,Be.depsTail.nextDep=s,Be.depsTail=s,Be.deps===s&&(Be.deps=o)}return Be.onTrack&&Be.onTrack(Pe({effect:Be},e)),s}trigger(e){this.version++,ma++,this.notify(e)}notify(e){Hf();try{for(let s=this.subsHead;s;s=s.nextSub)s.sub.onTrigger&&!(s.sub.flags&8)&&s.sub.onTrigger(Pe({effect:s.sub},e));for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{qf()}}}function bv(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let o=e.deps;o;o=o.nextDep)bv(o)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subsHead===void 0&&(t.dep.subsHead=t),t.dep.subs=t}}const oc=new WeakMap,ti=Symbol("Object iterate"),wu=Symbol("Map keys iterate"),pa=Symbol("Array iterate");function xt(t,e,s){if(Zs&&Be){let o=oc.get(t);o||oc.set(t,o=new Map);let n=o.get(s);n||(o.set(s,n=new qc),n.map=o,n.key=s),n.track({target:t,type:e,key:s})}}function ho(t,e,s,o,n,i){const r=oc.get(t);if(!r){ma++;return}const a=l=>{l&&l.trigger({target:t,type:e,key:s,newValue:o,oldValue:n,oldTarget:i})};if(Hf(),e==="clear")r.forEach(a);else{const l=le(t),d=l&&$f(s);if(l&&s==="length"){const u=Number(o);r.forEach((f,h)=>{(h==="length"||h===pa||!ys(h)&&h>=u)&&a(f)})}else switch((s!==void 0||r.has(void 0))&&a(r.get(s)),d&&a(r.get(pa)),e){case"add":l?d&&a(r.get("length")):(a(r.get(ti)),ei(t)&&a(r.get(wu)));break;case"delete":l||(a(r.get(ti)),ei(t)&&a(r.get(wu)));break;case"set":ei(t)&&a(r.get(ti));break}}qf()}function JE(t,e){const s=oc.get(t);return s&&s.get(e)}function xi(t){const e=Se(t);return e===t?e:(xt(e,"iterate",pa),Kt(t)?e:e.map(Ut))}function Wc(t){return xt(t=Se(t),"iterate",pa),t}const QE={__proto__:null,[Symbol.iterator](){return zd(this,Symbol.iterator,Ut)},concat(...t){return xi(this).concat(...t.map(e=>le(e)?xi(e):e))},entries(){return zd(this,"entries",t=>(t[1]=Ut(t[1]),t))},every(t,e){return Co(this,"every",t,e,void 0,arguments)},filter(t,e){return Co(this,"filter",t,e,s=>s.map(Ut),arguments)},find(t,e){return Co(this,"find",t,e,Ut,arguments)},findIndex(t,e){return Co(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Co(this,"findLast",t,e,Ut,arguments)},findLastIndex(t,e){return Co(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Co(this,"forEach",t,e,void 0,arguments)},includes(...t){return $d(this,"includes",t)},indexOf(...t){return $d(this,"indexOf",t)},join(t){return xi(this).join(t)},lastIndexOf(...t){return $d(this,"lastIndexOf",t)},map(t,e){return Co(this,"map",t,e,void 0,arguments)},pop(){return xr(this,"pop")},push(...t){return xr(this,"push",t)},reduce(t,...e){return Mm(this,"reduce",t,e)},reduceRight(t,...e){return Mm(this,"reduceRight",t,e)},shift(){return xr(this,"shift")},some(t,e){return Co(this,"some",t,e,void 0,arguments)},splice(...t){return xr(this,"splice",t)},toReversed(){return xi(this).toReversed()},toSorted(t){return xi(this).toSorted(t)},toSpliced(...t){return xi(this).toSpliced(...t)},unshift(...t){return xr(this,"unshift",t)},values(){return zd(this,"values",Ut)}};function zd(t,e,s){const o=Wc(t),n=o[e]();return o!==t&&!Kt(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const ew=Array.prototype;function Co(t,e,s,o,n,i){const r=Wc(t),a=r!==t&&!Kt(t),l=r[e];if(l!==ew[e]){const f=l.apply(t,i);return a?Ut(f):f}let d=s;r!==t&&(a?d=function(f,h){return s.call(this,Ut(f),h,t)}:s.length>2&&(d=function(f,h){return s.call(this,f,h,t)}));const u=l.call(r,d,o);return a&&n?n(u):u}function Mm(t,e,s,o){const n=Wc(t);let i=s;return n!==t&&(Kt(t)?s.length>3&&(i=function(r,a,l){return s.call(this,r,a,l,t)}):i=function(r,a,l){return s.call(this,r,Ut(a),l,t)}),n[e](i,...o)}function $d(t,e,s){const o=Se(t);xt(o,"iterate",pa);const n=o[e](...s);return(n===-1||n===!1)&&Xi(s[0])?(s[0]=Se(s[0]),o[e](...s)):n}function xr(t,e,s=[]){Ho(),Hf();const o=Se(t)[e].apply(t,s);return qf(),qo(),o}const tw=Dt("__proto__,__v_isRef,__isVue"),vv=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ys));function sw(t){ys(t)||(t=String(t));const e=Se(this);return xt(e,"has",t),e.hasOwnProperty(t)}class yv{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,o){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return o===(n?i?xv:Sv:i?Cv:wv).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const r=le(e);if(!n){let l;if(r&&(l=QE[s]))return l;if(s==="hasOwnProperty")return sw}const a=Reflect.get(e,s,Ge(e)?e:o);return(ys(s)?vv.has(s):tw(s))||(n||xt(e,"get",s),i)?a:Ge(a)?r&&$f(s)?a:a.value:Ne(a)?n?Gc(a):yo(a):a}}class _v extends yv{constructor(e=!1){super(!1,e)}set(e,s,o,n){let i=e[s];if(!this._isShallow){const l=_o(i);if(!Kt(o)&&!_o(o)&&(i=Se(i),o=Se(o)),!le(e)&&Ge(i)&&!Ge(o))return l?!1:(i.value=o,!0)}const r=le(e)&&$f(s)?Number(s)<e.length:ze(e,s),a=Reflect.set(e,s,o,Ge(e)?e:n);return e===Se(n)&&(r?ts(o,i)&&ho(e,"set",s,o,i):ho(e,"add",s,o)),a}deleteProperty(e,s){const o=ze(e,s),n=e[s],i=Reflect.deleteProperty(e,s);return i&&o&&ho(e,"delete",s,void 0,n),i}has(e,s){const o=Reflect.has(e,s);return(!ys(s)||!vv.has(s))&&xt(e,"has",s),o}ownKeys(e){return xt(e,"iterate",le(e)?"length":ti),Reflect.ownKeys(e)}}class Ev extends yv{constructor(e=!1){super(!0,e)}set(e,s){return Ls(`Set operation on key "${String(s)}" failed: target is readonly.`,e),!0}deleteProperty(e,s){return Ls(`Delete operation on key "${String(s)}" failed: target is readonly.`,e),!0}}const ow=new _v,nw=new Ev,iw=new _v(!0),rw=new Ev(!0),Cu=t=>t,tl=t=>Reflect.getPrototypeOf(t);function aw(t,e,s){return function(...o){const n=this.__v_raw,i=Se(n),r=ei(i),a=t==="entries"||t===Symbol.iterator&&r,l=t==="keys"&&r,d=n[t](...o),u=s?Cu:e?Su:Ut;return!e&&xt(i,"iterate",l?wu:ti),{next(){const{value:f,done:h}=d.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function sl(t){return function(...e){{const s=e[0]?`on key "${e[0]}" `:"";Ls(`${vo(t)} operation ${s}failed: target is readonly.`,Se(this))}return t==="delete"?!1:t==="clear"?void 0:this}}function lw(t,e){const s={get(n){const i=this.__v_raw,r=Se(i),a=Se(n);t||(ts(n,a)&&xt(r,"get",n),xt(r,"get",a));const{has:l}=tl(r),d=e?Cu:t?Su:Ut;if(l.call(r,n))return d(i.get(n));if(l.call(r,a))return d(i.get(a));i!==r&&i.get(n)},get size(){const n=this.__v_raw;return!t&&xt(Se(n),"iterate",ti),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,r=Se(i),a=Se(n);return t||(ts(n,a)&&xt(r,"has",n),xt(r,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const r=this,a=r.__v_raw,l=Se(a),d=e?Cu:t?Su:Ut;return!t&&xt(l,"iterate",ti),a.forEach((u,f)=>n.call(i,d(u),d(f),r))}};return Pe(s,t?{add:sl("add"),set:sl("set"),delete:sl("delete"),clear:sl("clear")}:{add(n){!e&&!Kt(n)&&!_o(n)&&(n=Se(n));const i=Se(this);return tl(i).has.call(i,n)||(i.add(n),ho(i,"add",n,n)),this},set(n,i){!e&&!Kt(i)&&!_o(i)&&(i=Se(i));const r=Se(this),{has:a,get:l}=tl(r);let d=a.call(r,n);d?Pm(r,a,n):(n=Se(n),d=a.call(r,n));const u=l.call(r,n);return r.set(n,i),d?ts(i,u)&&ho(r,"set",n,i,u):ho(r,"add",n,i),this},delete(n){const i=Se(this),{has:r,get:a}=tl(i);let l=r.call(i,n);l?Pm(i,r,n):(n=Se(n),l=r.call(i,n));const d=a?a.call(i,n):void 0,u=i.delete(n);return l&&ho(i,"delete",n,void 0,d),u},clear(){const n=Se(this),i=n.size!==0,r=ei(n)?new Map(n):new Set(n),a=n.clear();return i&&ho(n,"clear",void 0,void 0,r),a}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=aw(n,t,e)}),s}function Kc(t,e){const s=lw(t,e);return(o,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?o:Reflect.get(ze(s,n)&&n in o?s:o,n,i)}const cw={get:Kc(!1,!1)},dw={get:Kc(!1,!0)},uw={get:Kc(!0,!1)},fw={get:Kc(!0,!0)};function Pm(t,e,s){const o=Se(s);if(o!==s&&e.call(t,o)){const n=zf(t);Ls(`Reactive ${n} contains both the raw and reactive versions of the same object${n==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const wv=new WeakMap,Cv=new WeakMap,Sv=new WeakMap,xv=new WeakMap;function hw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mw(t){return t.__v_skip||!Object.isExtensible(t)?0:hw(zf(t))}function yo(t){return _o(t)?t:Xc(t,!1,ow,cw,wv)}function Kf(t){return Xc(t,!1,iw,dw,Cv)}function Gc(t){return Xc(t,!0,nw,uw,Sv)}function qs(t){return Xc(t,!0,rw,fw,xv)}function Xc(t,e,s,o,n){if(!Ne(t))return Ls(`value cannot be made ${e?"readonly":"reactive"}: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const r=mw(t);if(r===0)return t;const a=new Proxy(t,r===2?o:s);return n.set(t,a),a}function Ys(t){return _o(t)?Ys(t.__v_raw):!!(t&&t.__v_isReactive)}function _o(t){return!!(t&&t.__v_isReadonly)}function Kt(t){return!!(t&&t.__v_isShallow)}function Xi(t){return t?!!t.__v_raw:!1}function Se(t){const e=t&&t.__v_raw;return e?Se(e):t}function Zc(t){return!ze(t,"__v_skip")&&Object.isExtensible(t)&&Gi(t,"__v_skip",!0),t}const Ut=t=>Ne(t)?yo(t):t,Su=t=>Ne(t)?Gc(t):t;function Ge(t){return t?t.__v_isRef===!0:!1}function ge(t){return kv(t,!1)}function Gf(t){return kv(t,!0)}function kv(t,e){return Ge(t)?t:new pw(t,e)}class pw{constructor(e,s){this.dep=new qc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Se(e),this._value=s?e:Ut(e),this.__v_isShallow=s}get value(){return this.dep.track({target:this,type:"get",key:"value"}),this._value}set value(e){const s=this._rawValue,o=this.__v_isShallow||Kt(e)||_o(e);e=o?e:Se(e),ts(e,s)&&(this._rawValue=e,this._value=o?e:Ut(e),this.dep.trigger({target:this,type:"set",key:"value",newValue:e,oldValue:s}))}}function gw(t){t.dep&&t.dep.trigger({target:t,type:"set",key:"value",newValue:t._value})}function Bo(t){return Ge(t)?t.value:t}function bw(t){return be(t)?t():Bo(t)}const vw={get:(t,e,s)=>e==="__v_raw"?t:Bo(Reflect.get(t,e,s)),set:(t,e,s,o)=>{const n=t[e];return Ge(n)&&!Ge(s)?(n.value=s,!0):Reflect.set(t,e,s,o)}};function Xf(t){return Ys(t)?t:new Proxy(t,vw)}class yw{constructor(e){this.__v_isRef=!0,this._value=void 0;const s=this.dep=new qc,{get:o,set:n}=e(s.track.bind(s),s.trigger.bind(s));this._get=o,this._set=n}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Dv(t){return new yw(t)}function Av(t){Xi(t)||Ls("toRefs() expects a reactive object but received a plain one.");const e=le(t)?new Array(t.length):{};for(const s in t)e[s]=Mv(t,s);return e}class _w{constructor(e,s,o){this._object=e,this._key=s,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return JE(Se(this._object),this._key)}}class Ew{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Tv(t,e,s){return Ge(t)?t:be(t)?new Ew(t):Ne(t)&&arguments.length>1?Mv(t,e,s):ge(t)}function Mv(t,e,s){const o=t[e];return Ge(o)?o:new _w(t,e,s)}class ww{constructor(e,s,o){this.fn=e,this.setter=s,this._value=void 0,this.dep=new qc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ma-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Be!==this)return fv(this,!0),!0}get value(){const e=this.dep.track({target:this,type:"get",key:"value"});return pv(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter?this.setter(e):Ls("Write operation failed: computed value is readonly")}}function Cw(t,e,s=!1){let o,n;be(t)?o=t:(o=t.get,n=t.set);const i=new ww(o,n,s);return e&&!s&&(i.onTrack=e.onTrack,i.onTrigger=e.onTrigger),i}const Sw={GET:"get",HAS:"has",ITERATE:"iterate"},xw={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},ol={},nc=new WeakMap;let on;function kw(){return on}function Pv(t,e=!1,s=on){if(s){let o=nc.get(s);o||nc.set(s,o=[]),o.push(t)}else e||Ls("onWatcherCleanup() was called when there was no active watcher to associate with.")}function Dw(t,e,s=Ie){const{immediate:o,deep:n,once:i,scheduler:r,augmentJob:a,call:l}=s,d=k=>{(s.onWarn||Ls)("Invalid watch source: ",k,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=k=>n?k:Kt(k)||n===!1||n===0?No(k,1):No(k);let f,h,m,g,b=!1,v=!1;if(Ge(t)?(h=()=>t.value,b=Kt(t)):Ys(t)?(h=()=>u(t),b=!0):le(t)?(v=!0,b=t.some(k=>Ys(k)||Kt(k)),h=()=>t.map(k=>{if(Ge(k))return k.value;if(Ys(k))return u(k);if(be(k))return l?l(k,2):k();d(k)})):be(t)?e?h=l?()=>l(t,2):t:h=()=>{if(m){Ho();try{m()}finally{qo()}}const k=on;on=f;try{return l?l(t,3,[g]):t(g)}finally{on=k}}:(h=mt,d(t)),e&&n){const k=h,T=n===!0?1/0:n;h=()=>No(k(),T)}const w=jf(),E=()=>{f.stop(),w&&w.active&&Lf(w.effects,f)};if(i&&e){const k=e;e=(...T)=>{k(...T),E()}}let _=v?new Array(t.length).fill(ol):ol;const D=k=>{if(!(!(f.flags&1)||!f.dirty&&!k))if(e){const T=f.run();if(n||b||(v?T.some((O,P)=>ts(O,_[P])):ts(T,_))){m&&m();const O=on;on=f;try{const P=[T,_===ol?void 0:v&&_[0]===ol?[]:_,g];l?l(e,3,P):e(...P),_=T}finally{on=O}}}else f.run()};return a&&a(D),f=new ha(h),f.scheduler=r?()=>r(D,!1):D,g=k=>Pv(k,!1,f),m=f.onStop=()=>{const k=nc.get(f);if(k){if(l)l(k,4);else for(const T of k)T();nc.delete(f)}},f.onTrack=s.onTrack,f.onTrigger=s.onTrigger,e?o?D(!0):_=f.run():r?r(D.bind(null,!0),!0):f.run(),E.pause=f.pause.bind(f),E.resume=f.resume.bind(f),E.stop=E,E}function No(t,e=1/0,s){if(e<=0||!Ne(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,Ge(t))No(t.value,e,s);else if(le(t))for(let o=0;o<t.length;o++)No(t[o],e,s);else if(_i(t)||ei(t))t.forEach(o=>{No(o,e,s)});else if(Uc(t)){for(const o in t)No(t[o],e,s);for(const o of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,o)&&No(t[o],e,s)}return t}const si=[];function Bi(t){si.push(t)}function Ui(){si.pop()}let Vd=!1;function H(t,...e){if(Vd)return;Vd=!0,Ho();const s=si.length?si[si.length-1].component:null,o=s&&s.appContext.config.warnHandler,n=Aw();if(o)Ei(o,s,11,[t+e.map(i=>{var r,a;return(a=(r=i.toString)==null?void 0:r.call(i))!=null?a:JSON.stringify(i)}).join(""),s&&s.proxy,n.map(({vnode:i})=>`at <${ad(s,i.type)}>`).join(`
`),n]);else{const i=[`[Vue warn]: ${t}`,...e];n.length&&i.push(`
`,...Tw(n)),console.warn(...i)}qo(),Vd=!1}function Aw(){let t=si[si.length-1];if(!t)return[];const e=[];for(;t;){const s=e[0];s&&s.vnode===t?s.recurseCount++:e.push({vnode:t,recurseCount:0});const o=t.component&&t.component.parent;t=o&&o.vnode}return e}function Tw(t){const e=[];return t.forEach((s,o)=>{e.push(...o===0?[]:[`
`],...Mw(s))}),e}function Mw({vnode:t,recurseCount:e}){const s=e>0?`... (${e} recursive calls)`:"",o=t.component?t.component.parent==null:!1,n=` at <${ad(t.component,t.type,o)}`,i=">"+s;return t.props?[n,...Pw(t.props),i]:[n+i]}function Pw(t){const e=[],s=Object.keys(t);return s.slice(0,3).forEach(o=>{e.push(...Iv(o,t[o]))}),s.length>3&&e.push(" ..."),e}function Iv(t,e,s){return _e(e)?(e=JSON.stringify(e),s?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?s?e:[`${t}=${e}`]:Ge(e)?(e=Iv(t,Se(e.value),!0),s?e:[`${t}=Ref<`,e,">"]):be(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Se(e),s?e:[`${t}=`,e])}function Zf(t,e){t!==void 0&&(typeof t!="number"?H(`${e} is not a valid number - got ${JSON.stringify(t)}.`):isNaN(t)&&H(`${e} is NaN - the duration expression might be incorrect.`))}const Iw={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},Yc={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Ei(t,e,s,o){try{return o?t(...o):t()}catch(n){Mn(n,e,s)}}function zs(t,e,s,o){if(be(t)){const n=Ei(t,e,s,o);return n&&Bc(n)&&n.catch(i=>{Mn(i,e,s)}),n}if(le(t)){const n=[];for(let i=0;i<t.length;i++)n.push(zs(t[i],e,s,o));return n}else H(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof t}`)}function Mn(t,e,s,o=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:r}=e&&e.appContext.config||Ie;if(e){let a=e.parent;const l=e.proxy,d=Yc[s];for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,l,d)===!1)return}a=a.parent}if(i){Ho(),Ei(i,null,10,[t,l,d]),qo();return}}Fw(t,s,n,o,r)}function Fw(t,e,s,o=!0,n=!1){{const i=Yc[e];if(s&&Bi(s),H(`Unhandled error${i?` during execution of ${i}`:""}`),s&&Ui(),o)throw t;console.error(t)}}const ss=[];let ao=-1;const ji=[];let nn=null,Ni=0;const Fv=Promise.resolve();let ic=null;const Rw=100;function pr(t){const e=ic||Fv;return t?e.then(this?t.bind(this):t):e}function Ow(t){let e=ao+1,s=ss.length;for(;e<s;){const o=e+s>>>1,n=ss[o],i=ga(n);i<t||i===t&&n.flags&2?e=o+1:s=o}return e}function Jc(t){if(!(t.flags&1)){const e=ga(t),s=ss[ss.length-1];!s||!(t.flags&2)&&e>=ga(s)?ss.push(t):ss.splice(Ow(e),0,t),t.flags|=1,Rv()}}function Rv(){ic||(ic=Fv.then(Ov))}function Zi(t){le(t)?ji.push(...t):nn&&t.id===-1?nn.splice(Ni+1,0,t):t.flags&1||(ji.push(t),t.flags|=1),Rv()}function Im(t,e,s=ao+1){for(e=e||new Map;s<ss.length;s++){const o=ss[s];if(o&&o.flags&2){if(t&&o.id!==t.uid||Yf(e,o))continue;ss.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function rc(t){if(ji.length){const e=[...new Set(ji)].sort((s,o)=>ga(s)-ga(o));if(ji.length=0,nn){nn.push(...e);return}for(nn=e,t=t||new Map,Ni=0;Ni<nn.length;Ni++){const s=nn[Ni];Yf(t,s)||(s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2)}nn=null,Ni=0}}const ga=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ov(t){t=t||new Map;const e=s=>Yf(t,s);try{for(ao=0;ao<ss.length;ao++){const s=ss[ao];if(s&&!(s.flags&8)){if(e(s))continue;s.flags&4&&(s.flags&=-2),Ei(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2)}}}finally{for(;ao<ss.length;ao++){const s=ss[ao];s&&(s.flags&=-2)}ao=-1,ss.length=0,rc(t),ic=null,(ss.length||ji.length)&&Ov(t)}}function Yf(t,e){const s=t.get(e)||0;if(s>Rw){const o=e.i,n=o&&Ea(o.type);return Mn(`Maximum recursive updates exceeded${n?` in component <${n}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}return t.set(e,s+1),!1}let Ws=!1;const Ml=new Map;za().__VUE_HMR_RUNTIME__={createRecord:Bd(Nv),rerender:Bd(zw),reload:Bd($w)};const fi=new Map;function Nw(t){const e=t.type.__hmrId;let s=fi.get(e);s||(Nv(e,t.type),s=fi.get(e)),s.instances.add(t)}function Lw(t){fi.get(t.type.__hmrId).instances.delete(t)}function Nv(t,e){return fi.has(t)?!1:(fi.set(t,{initialDef:ac(e),instances:new Set}),!0)}function ac(t){return Hy(t)?t.__vccOpts:t}function zw(t,e){const s=fi.get(t);s&&(s.initialDef.render=e,[...s.instances].forEach(o=>{e&&(o.render=e,ac(o.type).render=e),o.renderCache=[],Ws=!0,o.update(),Ws=!1}))}function $w(t,e){const s=fi.get(t);if(!s)return;e=ac(e),Fm(s.initialDef,e);const o=[...s.instances];for(let n=0;n<o.length;n++){const i=o[n],r=ac(i.type);let a=Ml.get(r);a||(r!==s.initialDef&&Fm(r,e),Ml.set(r,a=new Set)),a.add(i),i.appContext.propsCache.delete(i.type),i.appContext.emitsCache.delete(i.type),i.appContext.optionsCache.delete(i.type),i.ceReload?(a.add(i),i.ceReload(e.styles),a.delete(i)):i.parent?Jc(()=>{Ws=!0,i.parent.update(),Ws=!1,a.delete(i)}):i.appContext.reload?i.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required."),i.root.ce&&i!==i.root&&i.root.ce._removeChildStyle(r)}Zi(()=>{Ml.clear()})}function Fm(t,e){Pe(t,e);for(const s in t)s!=="__file"&&!(s in e)&&delete t[s]}function Bd(t){return(e,s)=>{try{return t(e,s)}catch(o){console.error(o),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let js,Br=[],xu=!1;function $a(t,...e){js?js.emit(t,...e):xu||Br.push({event:t,args:e})}function Jf(t,e){var s,o;js=t,js?(js.enabled=!0,Br.forEach(({event:n,args:i})=>js.emit(n,...i)),Br=[]):typeof window<"u"&&window.HTMLElement&&!((o=(s=window.navigator)==null?void 0:s.userAgent)!=null&&o.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{Jf(i,e)}),setTimeout(()=>{js||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,xu=!0,Br=[])},3e3)):(xu=!0,Br=[])}function Vw(t,e){$a("app:init",t,e,{Fragment:he,Text:po,Comment:tt,Static:yn})}function Bw(t){$a("app:unmount",t)}const ku=Qf("component:added"),Lv=Qf("component:updated"),Uw=Qf("component:removed"),jw=t=>{js&&typeof js.cleanupBuffer=="function"&&!js.cleanupBuffer(t)&&Uw(t)};/*! #__NO_SIDE_EFFECTS__ */function Qf(t){return e=>{$a(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}const Hw=zv("perf:start"),qw=zv("perf:end");function zv(t){return(e,s,o)=>{$a(t,e.appContext.app,e.uid,e,s,o)}}function Ww(t,e,s){$a("component:emit",t.appContext.app,t,e,s)}let dt=null,Qc=null;function ba(t){const e=dt;return dt=t,Qc=t&&t.type.__scopeId||null,e}function Kw(t){Qc=t}function Gw(){Qc=null}const Xw=t=>Ee;function Ee(t,e=dt,s){if(!e||t._n)return t;const o=(...n)=>{o._d&&Ou(-1);const i=ba(e);let r;try{r=t(...n)}finally{ba(i),o._d&&Ou(1)}return Lv(e),r};return o._n=!0,o._c=!0,o._d=!0,o}function $v(t){sv(t)&&H("Do not use built-in directive ids as custom directive id: "+t)}function se(t,e){if(dt===null)return H("withDirectives can only be used inside render functions."),t;const s=Ua(dt),o=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,r,a,l=Ie]=e[n];i&&(be(i)&&(i={mounted:i,updated:i}),i.deep&&No(r),o.push({dir:i,instance:s,value:r,oldValue:void 0,arg:a,modifiers:l}))}return t}function co(t,e,s,o){const n=t.dirs,i=e&&e.dirs;for(let r=0;r<n.length;r++){const a=n[r];i&&(a.oldValue=i[r].value);let l=a.dir[o];l&&(Ho(),zs(l,s,8,[t.el,a,t,e]),qo())}}const Vv=Symbol("_vte"),Bv=t=>t.__isTeleport,oi=t=>t&&(t.disabled||t.disabled===""),Rm=t=>t&&(t.defer||t.defer===""),Om=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Nm=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Du=(t,e)=>{const s=t&&t.to;if(_e(s))if(e){const o=e(s);return!o&&!oi(t)&&H(`Failed to locate Teleport target with selector "${s}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),o}else return H("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!s&&!oi(t)&&H(`Invalid Teleport target: ${s}`),s},Uv={name:"Teleport",__isTeleport:!0,process(t,e,s,o,n,i,r,a,l,d){const{mc:u,pc:f,pbc:h,o:{insert:m,querySelector:g,createText:b,createComment:v}}=d,w=oi(e.props);let{shapeFlag:E,children:_,dynamicChildren:D}=e;if(Ws&&(l=!1,D=null),t==null){const k=e.el=v("teleport start"),T=e.anchor=v("teleport end");m(k,s,o),m(T,s,o);const O=(M,F)=>{E&16&&(n&&n.isCE&&(n.ce._teleportTarget=M),u(_,M,F,n,i,r,a,l))},P=()=>{const M=e.target=Du(e.props,g),F=jv(M,e,b,m);M?(r!=="svg"&&Om(M)?r="svg":r!=="mathml"&&Nm(M)&&(r="mathml"),w||(O(M,F),Pl(e,!1))):w||H("Invalid Teleport target on mount:",M,`(${typeof M})`)};w&&(O(s,T),Pl(e,!0)),Rm(e.props)?vt(()=>{P(),e.el.__isMounted=!0},i):P()}else{if(Rm(e.props)&&!t.el.__isMounted){vt(()=>{Uv.process(t,e,s,o,n,i,r,a,l,d),delete t.el.__isMounted},i);return}e.el=t.el,e.targetStart=t.targetStart;const k=e.anchor=t.anchor,T=e.target=t.target,O=e.targetAnchor=t.targetAnchor,P=oi(t.props),M=P?s:T,F=P?k:O;if(r==="svg"||Om(T)?r="svg":(r==="mathml"||Nm(T))&&(r="mathml"),D?(h(t.dynamicChildren,D,M,n,i,r,a),fc(t,e,!0)):l||f(t,e,M,F,n,i,r,a,!1),w)P?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):nl(e,s,k,d,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const L=e.target=Du(e.props,g);L?nl(e,L,null,d,0):H("Invalid Teleport target on update:",T,`(${typeof T})`)}else P&&nl(e,T,O,d,1);Pl(e,w)}},remove(t,e,s,{um:o,o:{remove:n}},i){const{shapeFlag:r,children:a,anchor:l,targetStart:d,targetAnchor:u,target:f,props:h}=t;if(f&&(n(d),n(u)),i&&n(l),r&16){const m=i||!oi(h);for(let g=0;g<a.length;g++){const b=a[g];o(b,e,s,m,!!b.dynamicChildren)}}},move:nl,hydrate:Zw};function nl(t,e,s,{o:{insert:o},m:n},i=2){i===0&&o(t.targetAnchor,e,s);const{el:r,anchor:a,shapeFlag:l,children:d,props:u}=t,f=i===2;if(f&&o(r,e,s),(!f||oi(u))&&l&16)for(let h=0;h<d.length;h++)n(d[h],e,s,2);f&&o(a,e,s)}function Zw(t,e,s,o,n,i,{o:{nextSibling:r,parentNode:a,querySelector:l,insert:d,createText:u}},f){const h=e.target=Du(e.props,l);if(h){const m=oi(e.props),g=h._lpa||h.firstChild;if(e.shapeFlag&16)if(m)e.anchor=f(r(t),e,a(t),s,o,n,i),e.targetStart=g,e.targetAnchor=g&&r(g);else{e.anchor=r(t);let b=g;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,h._lpa=e.targetAnchor&&r(e.targetAnchor);break}}b=r(b)}e.targetAnchor||jv(h,e,u,d),f(g&&r(g),e,h,s,o,n,i)}Pl(e,m)}return e.anchor&&r(e.anchor)}const Yw=Uv;function Pl(t,e){const s=t.ctx;if(s&&s.ut){let o,n;for(e?(o=t.el,n=t.anchor):(o=t.targetStart,n=t.targetAnchor);o&&o!==n;)o.nodeType===1&&o.setAttribute("data-v-owner",s.uid),o=o.nextSibling;s.ut()}}function jv(t,e,s,o){const n=e.targetStart=s(""),i=e.targetAnchor=s("");return n[Vv]=i,t&&(o(n,t),o(i,t)),i}const rn=Symbol("_leaveCb"),il=Symbol("_enterCb");function eh(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return is(()=>{t.isMounted=!0}),od(()=>{t.isUnmounting=!0}),t}const Is=[Function,Array],th={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Is,onEnter:Is,onAfterEnter:Is,onEnterCancelled:Is,onBeforeLeave:Is,onLeave:Is,onAfterLeave:Is,onLeaveCancelled:Is,onBeforeAppear:Is,onAppear:Is,onAfterAppear:Is,onAppearCancelled:Is},Hv=t=>{const e=t.subTree;return e.component?Hv(e.component):e},Jw={name:"BaseTransition",props:th,setup(t,{slots:e}){const s=Ts(),o=eh();return()=>{const n=e.default&&ed(e.default(),!0);if(!n||!n.length)return;const i=qv(n),r=Se(t),{mode:a}=r;if(a&&a!=="in-out"&&a!=="out-in"&&a!=="default"&&H(`invalid <transition> mode: ${a}`),o.isLeaving)return Ud(i);const l=Lm(i);if(!l)return Ud(i);let d=Yi(l,r,o,s,f=>d=f);l.type!==tt&&jo(l,d);let u=s.subTree&&Lm(s.subTree);if(u&&u.type!==tt&&!Hs(l,u)&&Hv(s).type!==tt){let f=Yi(u,r,o,s);if(jo(u,f),a==="out-in"&&l.type!==tt)return o.isLeaving=!0,f.afterLeave=()=>{o.isLeaving=!1,s.job.flags&8||s.update(),delete f.afterLeave,u=void 0},Ud(i);a==="in-out"&&l.type!==tt?f.delayLeave=(h,m,g)=>{const b=Kv(o,u);b[String(u.key)]=u,h[rn]=()=>{m(),h[rn]=void 0,delete d.delayedLeave,u=void 0},d.delayedLeave=()=>{g(),delete d.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function qv(t){let e=t[0];if(t.length>1){let s=!1;for(const o of t)if(o.type!==tt){if(s){H("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}e=o,s=!0}}return e}const Wv=Jw;function Kv(t,e){const{leavingVNodes:s}=t;let o=s.get(e.type);return o||(o=Object.create(null),s.set(e.type,o)),o}function Yi(t,e,s,o,n){const{appear:i,mode:r,persisted:a=!1,onBeforeEnter:l,onEnter:d,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:h,onLeave:m,onAfterLeave:g,onLeaveCancelled:b,onBeforeAppear:v,onAppear:w,onAfterAppear:E,onAppearCancelled:_}=e,D=String(t.key),k=Kv(s,t),T=(M,F)=>{M&&zs(M,o,9,F)},O=(M,F)=>{const L=F[1];T(M,F),le(M)?M.every(N=>N.length<=1)&&L():M.length<=1&&L()},P={mode:r,persisted:a,beforeEnter(M){let F=l;if(!s.isMounted)if(i)F=v||l;else return;M[rn]&&M[rn](!0);const L=k[D];L&&Hs(t,L)&&L.el[rn]&&L.el[rn](),T(F,[M])},enter(M){let F=d,L=u,N=f;if(!s.isMounted)if(i)F=w||d,L=E||u,N=_||f;else return;let z=!1;const G=M[il]=te=>{z||(z=!0,te?T(N,[M]):T(L,[M]),P.delayedLeave&&P.delayedLeave(),M[il]=void 0)};F?O(F,[M,G]):G()},leave(M,F){const L=String(t.key);if(M[il]&&M[il](!0),s.isUnmounting)return F();T(h,[M]);let N=!1;const z=M[rn]=G=>{N||(N=!0,F(),G?T(b,[M]):T(g,[M]),M[rn]=void 0,k[L]===t&&delete k[L])};k[L]=t,m?O(m,[M,z]):z()},clone(M){const F=Yi(M,e,s,o,n);return n&&n(F),F}};return P}function Ud(t){if(br(t))return t=$s(t),t.children=null,t}function Lm(t){if(!br(t))return Bv(t.type)&&t.children?qv(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&be(s.default))return s.default()}}function jo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,jo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ed(t,e=!1,s){let o=[],n=0;for(let i=0;i<t.length;i++){let r=t[i];const a=s==null?r.key:String(s)+String(r.key!=null?r.key:i);r.type===he?(r.patchFlag&128&&n++,o=o.concat(ed(r.children,e,a))):(e||r.type!==tt)&&o.push(a!=null?$s(r,{key:a}):r)}if(n>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function gr(t,e){return be(t)?Pe({name:t.name},e,{setup:t}):t}function Qw(){const t=Ts();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:(H("useId() is called when there is no active component instance to be associated with."),"")}function sh(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Gv=new WeakSet;function eC(t){const e=Ts(),s=Gf(null);if(e){const n=e.refs===Ie?e.refs={}:e.refs;let i;(i=Object.getOwnPropertyDescriptor(n,t))&&!i.configurable?H(`useTemplateRef('${t}') already exists.`):Object.defineProperty(n,t,{enumerable:!0,get:()=>s.value,set:r=>s.value=r})}else H("useTemplateRef() is called when there is no active component instance to be associated with.");const o=Gc(s);return Gv.add(o),o}function va(t,e,s,o,n=!1){if(le(t)){t.forEach((g,b)=>va(g,e&&(le(e)?e[b]:e),s,o,n));return}if(vn(o)&&!n){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&va(t,e,s,o.component.subTree);return}const i=o.shapeFlag&4?Ua(o.component):o.el,r=n?null:i,{i:a,r:l}=t;if(!a){H("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const d=e&&e.r,u=a.refs===Ie?a.refs={}:a.refs,f=a.setupState,h=Se(f),m=f===Ie?()=>!1:g=>(ze(h,g)&&!Ge(h[g])&&H(`Template ref "${g}" used on a non-ref value. It will not work in the production build.`),Gv.has(h[g])?!1:ze(h,g));if(d!=null&&d!==l&&(_e(d)?(u[d]=null,m(d)&&(f[d]=null)):Ge(d)&&(d.value=null)),be(l))Ei(l,a,12,[r,u]);else{const g=_e(l),b=Ge(l);if(g||b){const v=()=>{if(t.f){const w=g?m(l)?f[l]:u[l]:l.value;n?le(w)&&Lf(w,i):le(w)?w.includes(i)||w.push(i):g?(u[l]=[i],m(l)&&(f[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else g?(u[l]=r,m(l)&&(f[l]=r)):b?(l.value=r,t.k&&(u[t.k]=r)):H("Invalid template ref type:",l,`(${typeof l})`)};r?(v.id=-1,vt(v,s)):v()}else H("Invalid template ref type:",l,`(${typeof l})`)}}let zm=!1;const On=()=>{zm||(console.error("Hydration completed but contains mismatches."),zm=!0)},tC=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",sC=t=>t.namespaceURI.includes("MathML"),rl=t=>{if(t.nodeType===1){if(tC(t))return"svg";if(sC(t))return"mathml"}},Gn=t=>t.nodeType===8;function oC(t){const{mt:e,p:s,o:{patchProp:o,createText:n,nextSibling:i,parentNode:r,remove:a,insert:l,createComment:d}}=t,u=(_,D)=>{if(!D.hasChildNodes()){H("Attempting to hydrate existing markup but container is empty. Performing full mount instead."),s(null,_,D),rc(),D._vnode=_;return}f(D.firstChild,_,null,null,null),rc(),D._vnode=_},f=(_,D,k,T,O,P=!1)=>{P=P||!!D.dynamicChildren;const M=Gn(_)&&_.data==="[",F=()=>b(_,D,k,T,O,M),{type:L,ref:N,shapeFlag:z,patchFlag:G}=D;let te=_.nodeType;D.el=_,Gi(_,"__vnode",D,!0),Gi(_,"__vueParentComponent",k,!0),G===-2&&(P=!1,D.dynamicChildren=null);let Z=null;switch(L){case po:te!==3?D.children===""?(l(D.el=n(""),r(_),_),Z=_):Z=F():(_.data!==D.children&&(H("Hydration text mismatch in",_.parentNode,`
  - rendered on server: ${JSON.stringify(_.data)}
  - expected on client: ${JSON.stringify(D.children)}`),On(),_.data=D.children),Z=i(_));break;case tt:E(_)?(Z=i(_),w(D.el=_.content.firstChild,_,k)):te!==8||M?Z=F():Z=i(_);break;case yn:if(M&&(_=i(_),te=_.nodeType),te===1||te===3){Z=_;const Q=!D.children.length;for(let ie=0;ie<D.staticCount;ie++)Q&&(D.children+=Z.nodeType===1?Z.outerHTML:Z.data),ie===D.staticCount-1&&(D.anchor=Z),Z=i(Z);return M?i(Z):Z}else F();break;case he:M?Z=g(_,D,k,T,O,P):Z=F();break;default:if(z&1)(te!==1||D.type.toLowerCase()!==_.tagName.toLowerCase())&&!E(_)?Z=F():Z=h(_,D,k,T,O,P);else if(z&6){D.slotScopeIds=O;const Q=r(_);if(M?Z=v(_):Gn(_)&&_.data==="teleport start"?Z=v(_,_.data,"teleport end"):Z=i(_),e(D,Q,null,k,T,rl(Q),P),vn(D)&&!D.type.__asyncResolved){let ie;M?(ie=x(he),ie.anchor=Z?Z.previousSibling:Q.lastChild):ie=_.nodeType===3?V(""):x("div"),ie.el=_,D.component.subTree=ie}}else z&64?te!==8?Z=F():Z=D.type.hydrate(_,D,k,T,O,P,t,m):z&128?Z=D.type.hydrate(_,D,k,T,rl(r(_)),O,P,t,f):H("Invalid HostVNode type:",L,`(${typeof L})`)}return N!=null&&va(N,null,T,D),Z},h=(_,D,k,T,O,P)=>{P=P||!!D.dynamicChildren;const{type:M,props:F,patchFlag:L,shapeFlag:N,dirs:z,transition:G}=D,te=M==="input"||M==="option";{z&&co(D,null,k,"created");let Z=!1;if(E(_)){Z=Ey(null,G)&&k&&k.vnode.props&&k.vnode.props.appear;const ie=_.content.firstChild;Z&&G.beforeEnter(ie),w(ie,_,k),D.el=_=ie}if(N&16&&!(F&&(F.innerHTML||F.textContent))){let ie=m(_.firstChild,D,_,k,T,O,P),xe=!1;for(;ie;){Ur(_,1)||(xe||(H("Hydration children mismatch on",_,`
Server rendered element contains more child nodes than client vdom.`),xe=!0),On());const nt=ie;ie=ie.nextSibling,a(nt)}}else if(N&8){let ie=D.children;ie[0]===`
`&&(_.tagName==="PRE"||_.tagName==="TEXTAREA")&&(ie=ie.slice(1)),_.textContent!==ie&&(Ur(_,0)||(H("Hydration text content mismatch on",_,`
  - rendered on server: ${_.textContent}
  - expected on client: ${D.children}`),On()),_.textContent=D.children)}if(F){const ie=_.tagName.includes("-");for(const xe in F)!(z&&z.some(nt=>nt.dir.created))&&nC(_,xe,F[xe],D,k)&&On(),(te&&(xe.endsWith("value")||xe==="indeterminate")||An(xe)&&!bn(xe)||xe[0]==="."||ie)&&o(_,xe,null,F[xe],void 0,k)}let Q;(Q=F&&F.onVnodeBeforeMount)&&fs(Q,k,D),z&&co(D,null,k,"beforeMount"),((Q=F&&F.onVnodeMounted)||z||Z)&&Py(()=>{Q&&fs(Q,k,D),Z&&G.enter(_),z&&co(D,null,k,"mounted")},T)}return _.nextSibling},m=(_,D,k,T,O,P,M)=>{M=M||!!D.dynamicChildren;const F=D.children,L=F.length;let N=!1;for(let z=0;z<L;z++){const G=M?F[z]:F[z]=os(F[z]),te=G.type===po;_?(te&&!M&&z+1<L&&os(F[z+1]).type===po&&(l(n(_.data.slice(G.children.length)),k,i(_)),_.data=G.children),_=f(_,G,T,O,P,M)):te&&!G.children?l(G.el=n(""),k):(Ur(k,1)||(N||(H("Hydration children mismatch on",k,`
Server rendered element contains fewer child nodes than client vdom.`),N=!0),On()),s(null,G,k,null,T,O,rl(k),P))}return _},g=(_,D,k,T,O,P)=>{const{slotScopeIds:M}=D;M&&(O=O?O.concat(M):M);const F=r(_),L=m(i(_),D,F,k,T,O,P);return L&&Gn(L)&&L.data==="]"?i(D.anchor=L):(On(),l(D.anchor=d("]"),F,L),L)},b=(_,D,k,T,O,P)=>{if(Ur(_.parentElement,1)||(H(`Hydration node mismatch:
- rendered on server:`,_,_.nodeType===3?"(text)":Gn(_)&&_.data==="["?"(start of fragment)":"",`
- expected on client:`,D.type),On()),D.el=null,P){const L=v(_);for(;;){const N=i(_);if(N&&N!==L)a(N);else break}}const M=i(_),F=r(_);return a(_),s(null,D,F,M,k,T,rl(F),O),k&&(k.vnode.el=D.el,rd(k,D.el)),M},v=(_,D="[",k="]")=>{let T=0;for(;_;)if(_=i(_),_&&Gn(_)&&(_.data===D&&T++,_.data===k)){if(T===0)return i(_);T--}return _},w=(_,D,k)=>{const T=D.parentNode;T&&T.replaceChild(_,D);let O=k;for(;O;)O.vnode.el===D&&(O.vnode.el=O.subTree.el=_),O=O.parent},E=_=>_.nodeType===1&&_.tagName==="TEMPLATE";return[u,f]}function nC(t,e,s,o,n){let i,r,a,l;if(e==="class")a=t.getAttribute("class"),l=j(s),iC($m(a||""),$m(l))||(i=2,r="class");else if(e==="style"){a=t.getAttribute("style")||"",l=_e(s)?s:RE(Tn(s));const d=Vm(a),u=Vm(l);if(o.dirs)for(const{dir:f,value:h}of o.dirs)f.name==="show"&&!h&&u.set("display","none");n&&Xv(n,o,u),rC(d,u)||(i=3,r="style")}else(t instanceof SVGElement&&jE(e)||t instanceof HTMLElement&&(Am(e)||UE(e)))&&(Am(e)?(a=t.hasAttribute(e),l=Vf(s)):s==null?(a=t.hasAttribute(e),l=!1):(t.hasAttribute(e)?a=t.getAttribute(e):e==="value"&&t.tagName==="TEXTAREA"?a=t.value:a=!1,l=HE(s)?String(s):!1),a!==l&&(i=4,r=e));if(i!=null&&!Ur(t,i)){const d=h=>h===!1?"(not rendered)":`${r}="${h}"`,u=`Hydration ${Zv[i]} mismatch on`,f=`
  - rendered on server: ${d(a)}
  - expected on client: ${d(l)}
  Note: this mismatch is check-only. The DOM will not be rectified in production due to performance overhead.
  You should fix the source of the mismatch.`;return H(u,t,f),!0}return!1}function $m(t){return new Set(t.trim().split(/\s+/))}function iC(t,e){if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0}function Vm(t){const e=new Map;for(const s of t.split(";")){let[o,n]=s.split(":");o=o.trim(),n=n&&n.trim(),o&&n&&e.set(o,n)}return e}function rC(t,e){if(t.size!==e.size)return!1;for(const[s,o]of t)if(o!==e.get(s))return!1;return!0}function Xv(t,e,s){const o=t.subTree;if(t.getCssVars&&(e===o||o&&o.type===he&&o.children.includes(e))){const n=t.getCssVars();for(const i in n)s.set(`--${WE(i)}`,String(n[i]))}e===o&&t.parent&&Xv(t.parent,t.vnode,s)}const Bm="data-allow-mismatch",Zv={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Ur(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(Bm);)t=t.parentElement;const s=t&&t.getAttribute(Bm);if(s==null)return!1;if(s==="")return!0;{const o=s.split(",");return e===0&&o.includes("children")?!0:s.split(",").includes(Zv[e])}}const aC=za().requestIdleCallback||(t=>setTimeout(t,1)),lC=za().cancelIdleCallback||(t=>clearTimeout(t)),cC=(t=1e4)=>e=>{const s=aC(e,{timeout:t});return()=>lC(s)};function dC(t){const{top:e,left:s,bottom:o,right:n}=t.getBoundingClientRect(),{innerHeight:i,innerWidth:r}=window;return(e>0&&e<i||o>0&&o<i)&&(s>0&&s<r||n>0&&n<r)}const uC=t=>(e,s)=>{const o=new IntersectionObserver(n=>{for(const i of n)if(i.isIntersecting){o.disconnect(),e();break}},t);return s(n=>{if(n instanceof Element){if(dC(n))return e(),o.disconnect(),!1;o.observe(n)}}),()=>o.disconnect()},fC=t=>e=>{if(t){const s=matchMedia(t);if(s.matches)e();else return s.addEventListener("change",e,{once:!0}),()=>s.removeEventListener("change",e)}},hC=(t=[])=>(e,s)=>{_e(t)&&(t=[t]);let o=!1;const n=r=>{o||(o=!0,i(),e(),r.target.dispatchEvent(new r.constructor(r.type,r)))},i=()=>{s(r=>{for(const a of t)r.removeEventListener(a,n)})};return s(r=>{for(const a of t)r.addEventListener(a,n,{once:!0})}),i};function mC(t,e){if(Gn(t)&&t.data==="["){let s=1,o=t.nextSibling;for(;o;){if(o.nodeType===1){if(e(o)===!1)break}else if(Gn(o))if(o.data==="]"){if(--s===0)break}else o.data==="["&&s++;o=o.nextSibling}}else e(t)}const vn=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function pC(t){be(t)&&(t={loader:t});const{loader:e,loadingComponent:s,errorComponent:o,delay:n=200,hydrate:i,timeout:r,suspensible:a=!0,onError:l}=t;let d=null,u,f=0;const h=()=>(f++,d=null,m()),m=()=>{let g;return d||(g=d=e().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((v,w)=>{l(b,()=>v(h()),()=>w(b),f+1)});throw b}).then(b=>{if(g!==d&&d)return d;if(b||H("Async component loader resolved to undefined. If you are using retry(), make sure to return its return value."),b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),b&&!Ne(b)&&!be(b))throw new Error(`Invalid async component load result: ${b}`);return u=b,b}))};return gr({name:"AsyncComponentWrapper",__asyncLoader:m,__asyncHydrate(g,b,v){const w=i?()=>{const E=i(v,_=>mC(g,_));E&&(b.bum||(b.bum=[])).push(E)}:v;u?w():m().then(()=>!b.isUnmounted&&w())},get __asyncResolved(){return u},setup(){const g=ht;if(sh(g),u)return()=>jd(u,g);const b=_=>{d=null,Mn(_,g,13,!o)};if(a&&g.suspense||Ji)return m().then(_=>()=>jd(_,g)).catch(_=>(b(_),()=>o?x(o,{error:_}):null));const v=ge(!1),w=ge(),E=ge(!!n);return n&&setTimeout(()=>{E.value=!1},n),r!=null&&setTimeout(()=>{if(!v.value&&!w.value){const _=new Error(`Async component timed out after ${r}ms.`);b(_),w.value=_}},r),m().then(()=>{v.value=!0,g.parent&&br(g.parent.vnode)&&g.parent.update()}).catch(_=>{b(_),w.value=_}),()=>{if(v.value&&u)return jd(u,g);if(w.value&&o)return x(o,{error:w.value});if(s&&!E.value)return x(s)}}})}function jd(t,e){const{ref:s,props:o,children:n,ce:i}=e.vnode,r=x(t,o,n);return r.ref=s,r.ce=i,delete e.vnode.ce,r}const br=t=>t.type.__isKeepAlive,gC={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const s=Ts(),o=s.ctx;if(!o.renderer)return()=>{const E=e.default&&e.default();return E&&E.length===1?E[0]:E};const n=new Map,i=new Set;let r=null;s.__v_cache=n;const a=s.suspense,{renderer:{p:l,m:d,um:u,o:{createElement:f}}}=o,h=f("div");o.activate=(E,_,D,k,T)=>{const O=E.component;d(E,_,D,0,a),l(O.vnode,E,_,D,O,a,k,E.slotScopeIds,T),vt(()=>{O.isDeactivated=!1,O.a&&dn(O.a);const P=E.props&&E.props.onVnodeMounted;P&&fs(P,O.parent,E)},a),ku(O)},o.deactivate=E=>{const _=E.component;hc(_.m),hc(_.a),d(E,h,null,1,a),vt(()=>{_.da&&dn(_.da);const D=E.props&&E.props.onVnodeUnmounted;D&&fs(D,_.parent,E),_.isDeactivated=!0},a),ku(_)};function m(E){Hd(E),u(E,s,a,!0)}function g(E){n.forEach((_,D)=>{const k=Ea(_.type);k&&!E(k)&&b(D)})}function b(E){const _=n.get(E);_&&(!r||!Hs(_,r))?m(_):r&&Hd(r),n.delete(E),i.delete(E)}Os(()=>[t.include,t.exclude],([E,_])=>{E&&g(D=>jr(E,D)),_&&g(D=>!jr(_,D))},{flush:"post",deep:!0});let v=null;const w=()=>{v!=null&&(pc(s.subTree.type)?vt(()=>{n.set(v,al(s.subTree))},s.subTree.suspense):n.set(v,al(s.subTree)))};return is(w),sd(w),od(()=>{n.forEach(E=>{const{subTree:_,suspense:D}=s,k=al(_);if(E.type===k.type&&E.key===k.key){Hd(k);const T=k.component.da;T&&vt(T,D);return}m(E)})}),()=>{if(v=null,!e.default)return r=null;const E=e.default(),_=E[0];if(E.length>1)return H("KeepAlive should contain exactly one component child."),r=null,E;if(!Eo(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return r=null,_;let D=al(_);if(D.type===tt)return r=null,D;const k=D.type,T=Ea(vn(D)?D.type.__asyncResolved||{}:k),{include:O,exclude:P,max:M}=t;if(O&&(!T||!jr(O,T))||P&&T&&jr(P,T))return D.shapeFlag&=-257,r=D,_;const F=D.key==null?k:D.key,L=n.get(F);return D.el&&(D=$s(D),_.shapeFlag&128&&(_.ssContent=D)),v=F,L?(D.el=L.el,D.component=L.component,D.transition&&jo(D,D.transition),D.shapeFlag|=512,i.delete(F),i.add(F)):(i.add(F),M&&i.size>parseInt(M,10)&&b(i.values().next().value)),D.shapeFlag|=256,r=D,pc(_.type)?_:D}}},bC=gC;function jr(t,e){return le(t)?t.some(s=>jr(s,e)):_e(t)?t.split(",").includes(e):CE(t)?(t.lastIndex=0,t.test(e)):!1}function Yv(t,e){Qv(t,"a",e)}function Jv(t,e){Qv(t,"da",e)}function Qv(t,e,s=ht){const o=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(td(e,o,s),s){let n=s.parent;for(;n&&n.parent;)br(n.parent.vnode)&&vC(o,e,s,n),n=n.parent}}function vC(t,e,s,o){const n=td(e,t,o,!0);Va(()=>{Lf(o[e],n)},s)}function Hd(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function al(t){return t.shapeFlag&128?t.ssContent:t}function td(t,e,s=ht,o=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...r)=>{Ho();const a=mi(s),l=zs(e,s,t,r);return a(),qo(),l});return o?n.unshift(i):n.push(i),i}else{const n=fo(Yc[t].replace(/ hook$/,""));H(`${n} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Wo=t=>(e,s=ht)=>{(!Ji||t==="sp")&&td(t,(...o)=>e(...o),s)},ey=Wo("bm"),is=Wo("m"),oh=Wo("bu"),sd=Wo("u"),od=Wo("bum"),Va=Wo("um"),ty=Wo("sp"),sy=Wo("rtg"),oy=Wo("rtc");function ny(t,e=ht){td("ec",t,e)}const lc="components",yC="directives";function C(t,e){return ih(lc,t,!0,e)||t}const nh=Symbol.for("v-ndc");function mo(t){return _e(t)?ih(lc,t,!1)||t:t||nh}function _C(t){return ih(yC,t)}function ih(t,e,s=!0,o=!1){const n=dt||ht;if(n){const i=n.type;if(t===lc){const a=Ea(i,!1);if(a&&(a===e||a===Ke(e)||a===vo(Ke(e))))return i}const r=Um(n[t]||i[t],e)||Um(n.appContext[t],e);if(!r&&o)return i;if(s&&!r){const a=t===lc?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";H(`Failed to resolve ${t.slice(0,-1)}: ${e}${a}`)}return r}else H(`resolve${vo(t.slice(0,-1))} can only be used in render() or setup().`)}function Um(t,e){return t&&(t[e]||t[Ke(e)]||t[vo(Ke(e))])}function De(t,e,s,o){let n;const i=s&&s[o],r=le(t);if(r||_e(t)){const a=r&&Ys(t);let l=!1;a&&(l=!Kt(t),t=Wc(t)),n=new Array(t.length);for(let d=0,u=t.length;d<u;d++)n[d]=e(l?Ut(t[d]):t[d],d,void 0,i&&i[d])}else if(typeof t=="number"){Number.isInteger(t)||H(`The v-for range expect an integer value but got ${t}.`),n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i&&i[a])}else if(Ne(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i&&i[l]));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,d=a.length;l<d;l++){const u=a[l];n[l]=e(t[u],u,l,i&&i[l])}}else n=[];return s&&(s[o]=n),n}function EC(t,e){for(let s=0;s<e.length;s++){const o=e[s];if(le(o))for(let n=0;n<o.length;n++)t[o[n].name]=o[n].fn;else o&&(t[o.name]=o.key?(...n)=>{const i=o.fn(...n);return i&&(i.key=o.key),i}:o.fn)}return t}function cc(t,e,s={},o,n){if(dt.ce||dt.parent&&vn(dt.parent)&&dt.parent.ce)return e!=="default"&&(s.name=e),p(),q(he,null,[x("slot",s,o&&o())],64);let i=t[e];i&&i.length>1&&(H("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),i=()=>[]),i&&i._c&&(i._d=!1),p();const r=i&&rh(i(s)),a=s.key||r&&r.key,l=q(he,{key:(a&&!ys(a)?a:`_${e}`)+(!r&&o?"_fb":"")},r||(o?o():[]),r&&t._===1?64:-2);return!n&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function rh(t){return t.some(e=>Eo(e)?!(e.type===tt||e.type===he&&!rh(e.children)):!0)?t:null}function wC(t,e){const s={};if(!Ne(t))return H("v-on with no argument expects an object value."),s;for(const o in t)s[e&&/[A-Z]/.test(o)?`on:${o}`:fo(o)]=t[o];return s}const Au=t=>t?$y(t)?Ua(t):Au(t.parent):null,ni=Pe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>qs(t.props),$attrs:t=>qs(t.attrs),$slots:t=>qs(t.slots),$refs:t=>qs(t.refs),$parent:t=>Au(t.parent),$root:t=>Au(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>lh(t),$forceUpdate:t=>t.f||(t.f=()=>{Jc(t.update)}),$nextTick:t=>t.n||(t.n=pr.bind(t.proxy)),$watch:t=>dS.bind(t)}),ah=t=>t==="_"||t==="$",qd=(t,e)=>t!==Ie&&!t.__isScriptSetup&&ze(t,e),Qr={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:o,data:n,props:i,accessCache:r,type:a,appContext:l}=t;if(e==="__isVue")return!0;let d;if(e[0]!=="$"){const m=r[e];if(m!==void 0)switch(m){case 1:return o[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(qd(o,e))return r[e]=1,o[e];if(n!==Ie&&ze(n,e))return r[e]=2,n[e];if((d=t.propsOptions[0])&&ze(d,e))return r[e]=3,i[e];if(s!==Ie&&ze(s,e))return r[e]=4,s[e];Tu&&(r[e]=0)}}const u=ni[e];let f,h;if(u)return e==="$attrs"?(xt(t.attrs,"get",""),mc()):e==="$slots"&&xt(t,"get",e),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(s!==Ie&&ze(s,e))return r[e]=4,s[e];if(h=l.config.globalProperties,ze(h,e))return h[e];dt&&(!_e(e)||e.indexOf("__v")!==0)&&(n!==Ie&&ah(e[0])&&ze(n,e)?H(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):t===dt&&H(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:t},e,s){const{data:o,setupState:n,ctx:i}=t;return qd(n,e)?(n[e]=s,!0):n.__isScriptSetup&&ze(n,e)?(H(`Cannot mutate <script setup> binding "${e}" from Options API.`),!1):o!==Ie&&ze(o,e)?(o[e]=s,!0):ze(t.props,e)?(H(`Attempting to mutate prop "${e}". Props are readonly.`),!1):e[0]==="$"&&e.slice(1)in t?(H(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`),!1):(e in t.appContext.config.globalProperties?Object.defineProperty(i,e,{enumerable:!0,configurable:!0,value:s}):i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:o,appContext:n,propsOptions:i}},r){let a;return!!s[r]||t!==Ie&&ze(t,r)||qd(e,r)||(a=i[0])&&ze(a,r)||ze(o,r)||ze(ni,r)||ze(n.config.globalProperties,r)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:ze(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};Qr.ownKeys=t=>(H("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t));const CC=Pe({},Qr,{get(t,e){if(e!==Symbol.unscopables)return Qr.get(t,e,t)},has(t,e){const s=e[0]!=="_"&&!TE(e);return!s&&Qr.has(t,e)&&H(`Property ${JSON.stringify(e)} should not start with _ which is a reserved prefix for Vue internals.`),s}});function SC(t){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>t}),Object.keys(ni).forEach(s=>{Object.defineProperty(e,s,{configurable:!0,enumerable:!1,get:()=>ni[s](t),set:mt})}),e}function xC(t){const{ctx:e,propsOptions:[s]}=t;s&&Object.keys(s).forEach(o=>{Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>t.props[o],set:mt})})}function kC(t){const{ctx:e,setupState:s}=t;Object.keys(Se(s)).forEach(o=>{if(!s.__isScriptSetup){if(ah(o[0])){H(`setup() return property ${JSON.stringify(o)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s[o],set:mt})}})}const wi=t=>H(`${t}() is a compiler-hint helper that is only usable inside <script setup> of a single file component. Its arguments should be compiled away and passing it at runtime has no effect.`);function DC(){return wi("defineProps"),null}function AC(){return wi("defineEmits"),null}function TC(t){wi("defineExpose")}function MC(t){wi("defineOptions")}function PC(){return wi("defineSlots"),null}function IC(){wi("defineModel")}function FC(t,e){return wi("withDefaults"),null}function RC(){return iy().slots}function OC(){return iy().attrs}function iy(){const t=Ts();return t||H("useContext() called without active instance."),t.setupContext||(t.setupContext=jy(t))}function ya(t){return le(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}function NC(t,e){const s=ya(t);for(const o in e){if(o.startsWith("__skip"))continue;let n=s[o];n?le(n)||be(n)?n=s[o]={type:n,default:e[o]}:n.default=e[o]:n===null?n=s[o]={default:e[o]}:H(`props default key "${o}" has no corresponding declaration.`),n&&e[`__skip_${o}`]&&(n.skipFactory=!0)}return s}function LC(t,e){return!t||!e?t||e:le(t)&&le(e)?t.concat(e):Pe({},ya(t),ya(e))}function zC(t,e){const s={};for(const o in t)e.includes(o)||Object.defineProperty(s,o,{enumerable:!0,get:()=>t[o]});return s}function $C(t){const e=Ts();e||H("withAsyncContext called without active current instance. This is likely a bug.");let s=t();return zu(),Bc(s)&&(s=s.catch(o=>{throw mi(e),o})),[s,()=>mi(e)]}function VC(){const t=Object.create(null);return(e,s)=>{t[s]?H(`${e} property "${s}" is already defined in ${t[s]}.`):t[s]=e}}let Tu=!0;function BC(t){const e=lh(t),s=t.proxy,o=t.ctx;Tu=!1,e.beforeCreate&&jm(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:r,watch:a,provide:l,inject:d,created:u,beforeMount:f,mounted:h,beforeUpdate:m,updated:g,activated:b,deactivated:v,beforeDestroy:w,beforeUnmount:E,destroyed:_,unmounted:D,render:k,renderTracked:T,renderTriggered:O,errorCaptured:P,serverPrefetch:M,expose:F,inheritAttrs:L,components:N,directives:z,filters:G}=e,te=VC();{const[Q]=t.propsOptions;if(Q)for(const ie in Q)te("Props",ie)}if(d&&UC(d,o,te),r)for(const Q in r){const ie=r[Q];be(ie)?(Object.defineProperty(o,Q,{value:ie.bind(s),configurable:!0,enumerable:!0,writable:!0}),te("Methods",Q)):H(`Method "${Q}" has type "${typeof ie}" in the component definition. Did you reference the function correctly?`)}if(n){be(n)||H("The data option must be a function. Plain object usage is no longer supported.");const Q=n.call(s,s);if(Bc(Q)&&H("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Ne(Q))H("data() should return an object.");else{t.data=yo(Q);for(const ie in Q)te("Data",ie),ah(ie[0])||Object.defineProperty(o,ie,{configurable:!0,enumerable:!0,get:()=>Q[ie],set:mt})}}if(Tu=!0,i)for(const Q in i){const ie=i[Q],xe=be(ie)?ie.bind(s,s):be(ie.get)?ie.get.bind(s,s):mt;xe===mt&&H(`Computed property "${Q}" has no getter.`);const nt=!be(ie)&&be(ie.set)?ie.set.bind(s):()=>{H(`Write operation failed: computed property "${Q}" is readonly.`)},Mt=we({get:xe,set:nt});Object.defineProperty(o,Q,{enumerable:!0,configurable:!0,get:()=>Mt.value,set:Pt=>Mt.value=Pt}),te("Computed",Q)}if(a)for(const Q in a)ry(a[Q],o,s,Q);if(l){const Q=be(l)?l.call(s):l;Reflect.ownKeys(Q).forEach(ie=>{ea(ie,Q[ie])})}u&&jm(u,t,"c");function Z(Q,ie){le(ie)?ie.forEach(xe=>Q(xe.bind(s))):ie&&Q(ie.bind(s))}if(Z(ey,f),Z(is,h),Z(oh,m),Z(sd,g),Z(Yv,b),Z(Jv,v),Z(ny,P),Z(oy,T),Z(sy,O),Z(od,E),Z(Va,D),Z(ty,M),le(F))if(F.length){const Q=t.exposed||(t.exposed={});F.forEach(ie=>{Object.defineProperty(Q,ie,{get:()=>s[ie],set:xe=>s[ie]=xe})})}else t.exposed||(t.exposed={});k&&t.render===mt&&(t.render=k),L!=null&&(t.inheritAttrs=L),N&&(t.components=N),z&&(t.directives=z),M&&sh(t)}function UC(t,e,s=mt){le(t)&&(t=Mu(t));for(const o in t){const n=t[o];let i;Ne(n)?"default"in n?i=Ds(n.from||o,n.default,!0):i=Ds(n.from||o):i=Ds(n),Ge(i)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):e[o]=i,s("Inject",o)}}function jm(t,e,s){zs(le(t)?t.map(o=>o.bind(e.proxy)):t.bind(e.proxy),e,s)}function ry(t,e,s,o){let n=o.includes(".")?ky(s,o):()=>s[o];if(_e(t)){const i=e[t];be(i)?Os(n,i):H(`Invalid watch handler specified by key "${t}"`,i)}else if(be(t))Os(n,t.bind(s));else if(Ne(t))if(le(t))t.forEach(i=>ry(i,e,s,o));else{const i=be(t.handler)?t.handler.bind(s):e[t.handler];be(i)?Os(n,i,t):H(`Invalid watch handler specified by key "${t.handler}"`,i)}else H(`Invalid watch option: "${o}"`,t)}function lh(t){const e=t.type,{mixins:s,extends:o}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:r}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!o?l=e:(l={},n.length&&n.forEach(d=>dc(l,d,r,!0)),dc(l,e,r)),Ne(e)&&i.set(e,l),l}function dc(t,e,s,o=!1){const{mixins:n,extends:i}=e;i&&dc(t,i,s,!0),n&&n.forEach(r=>dc(t,r,s,!0));for(const r in e)if(o&&r==="expose")H('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const a=jC[r]||s&&s[r];t[r]=a?a(t[r],e[r]):e[r]}return t}const jC={data:Hm,props:qm,emits:qm,methods:Hr,computed:Hr,beforeCreate:Qt,created:Qt,beforeMount:Qt,mounted:Qt,beforeUpdate:Qt,updated:Qt,beforeDestroy:Qt,beforeUnmount:Qt,destroyed:Qt,unmounted:Qt,activated:Qt,deactivated:Qt,errorCaptured:Qt,serverPrefetch:Qt,components:Hr,directives:Hr,watch:qC,provide:Hm,inject:HC};function Hm(t,e){return e?t?function(){return Pe(be(t)?t.call(this,this):t,be(e)?e.call(this,this):e)}:e:t}function HC(t,e){return Hr(Mu(t),Mu(e))}function Mu(t){if(le(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Qt(t,e){return t?[...new Set([].concat(t,e))]:e}function Hr(t,e){return t?Pe(Object.create(null),t,e):e}function qm(t,e){return t?le(t)&&le(e)?[...new Set([...t,...e])]:Pe(Object.create(null),ya(t),ya(e??{})):e}function qC(t,e){if(!t)return e;if(!e)return t;const s=Pe(Object.create(null),t);for(const o in e)s[o]=Qt(t[o],e[o]);return s}function ay(){return{app:null,config:{isNativeTag:Vr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let WC=0;function KC(t,e){return function(o,n=null){be(o)||(o=Pe({},o)),n!=null&&!Ne(n)&&(H("root props passed to app.mount() must be an object."),n=null);const i=ay(),r=new WeakSet,a=[];let l=!1;const d=i.app={_uid:WC++,_component:o,_props:n,_container:null,_context:i,_instance:null,version:Uu,get config(){return i.config},set config(u){H("app.config cannot be replaced. Modify individual options instead.")},use(u,...f){return r.has(u)?H("Plugin has already been applied to target app."):u&&be(u.install)?(r.add(u),u.install(d,...f)):be(u)?(r.add(u),u(d,...f)):H('A plugin must either be a function or an object with an "install" function.'),d},mixin(u){return i.mixins.includes(u)?H("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):i.mixins.push(u),d},component(u,f){return $u(u,i.config),f?(i.components[u]&&H(`Component "${u}" has already been registered in target app.`),i.components[u]=f,d):i.components[u]},directive(u,f){return $v(u),f?(i.directives[u]&&H(`Directive "${u}" has already been registered in target app.`),i.directives[u]=f,d):i.directives[u]},mount(u,f,h){if(l)H("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{u.__vue_app__&&H("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const m=d._ceVNode||x(o,n);return m.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),i.reload=()=>{t($s(m),u,h)},f&&e?e(m,u):t(m,u,h),l=!0,d._container=u,u.__vue_app__=d,d._instance=m.component,Vw(d,Uu),Ua(m.component)}},onUnmount(u){typeof u!="function"&&H(`Expected function as first argument to app.onUnmount(), but got ${typeof u}`),a.push(u)},unmount(){l?(zs(a,d._instance,16),t(null,d._container),d._instance=null,Bw(d),delete d._container.__vue_app__):H("Cannot unmount an app that is not mounted.")},provide(u,f){return u in i.provides&&H(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`),i.provides[u]=f,d},runWithContext(u){const f=ii;ii=d;try{return u()}finally{ii=f}}};return d}}let ii=null;function ea(t,e){if(!ht)H("provide() can only be used inside setup().");else{let s=ht.provides;const o=ht.parent&&ht.parent.provides;o===s&&(s=ht.provides=Object.create(o)),s[t]=e}}function Ds(t,e,s=!1){const o=ht||dt;if(o||ii){const n=ii?ii._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&be(e)?e.call(o&&o.proxy):e;H(`injection "${String(t)}" not found.`)}else H("inject() can only be used inside setup() or functional components.")}function ly(){return!!(ht||dt||ii)}const cy={},dy=()=>Object.create(cy),uy=t=>Object.getPrototypeOf(t)===cy;function GC(t,e,s,o=!1){const n={},i=dy();t.propsDefaults=Object.create(null),fy(t,e,n,i);for(const r in t.propsOptions[0])r in n||(n[r]=void 0);my(e||{},n,t),s?t.props=o?n:Kf(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function XC(t){for(;t;){if(t.type.__hmrId)return!0;t=t.parent}}function ZC(t,e,s,o){const{props:n,attrs:i,vnode:{patchFlag:r}}=t,a=Se(n),[l]=t.propsOptions;let d=!1;if(!XC(t)&&(o||r>0)&&!(r&16)){if(r&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(nd(t.emitsOptions,h))continue;const m=e[h];if(l)if(ze(i,h))m!==i[h]&&(i[h]=m,d=!0);else{const g=Ke(h);n[g]=Pu(l,a,g,m,t,!1)}else m!==i[h]&&(i[h]=m,d=!0)}}}else{fy(t,e,n,i)&&(d=!0);let u;for(const f in a)(!e||!ze(e,f)&&((u=jt(f))===f||!ze(e,u)))&&(l?s&&(s[f]!==void 0||s[u]!==void 0)&&(n[f]=Pu(l,a,f,void 0,t,!0)):delete n[f]);if(i!==a)for(const f in i)(!e||!ze(e,f))&&(delete i[f],d=!0)}d&&ho(t.attrs,"set",""),my(e||{},n,t)}function fy(t,e,s,o){const[n,i]=t.propsOptions;let r=!1,a;if(e)for(let l in e){if(bn(l))continue;const d=e[l];let u;n&&ze(n,u=Ke(l))?!i||!i.includes(u)?s[u]=d:(a||(a={}))[u]=d:nd(t.emitsOptions,l)||(!(l in o)||d!==o[l])&&(o[l]=d,r=!0)}if(i){const l=Se(s),d=a||Ie;for(let u=0;u<i.length;u++){const f=i[u];s[f]=Pu(n,l,f,d[f],t,!ze(d,f))}}return r}function Pu(t,e,s,o,n,i){const r=t[s];if(r!=null){const a=ze(r,"default");if(a&&o===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&be(l)){const{propsDefaults:d}=n;if(s in d)o=d[s];else{const u=mi(n);o=d[s]=l.call(null,e),u()}}else o=l;n.ce&&n.ce._setProp(s,o)}r[0]&&(i&&!a?o=!1:r[1]&&(o===""||o===jt(s))&&(o=!0))}return o}const YC=new WeakMap;function hy(t,e,s=!1){const o=s?YC:e.propsCache,n=o.get(t);if(n)return n;const i=t.props,r={},a=[];let l=!1;if(!be(t)){const u=f=>{l=!0;const[h,m]=hy(f,e,!0);Pe(r,h),m&&a.push(...m)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Ne(t)&&o.set(t,Vi),Vi;if(le(i))for(let u=0;u<i.length;u++){_e(i[u])||H("props must be strings when using array syntax.",i[u]);const f=Ke(i[u]);Wm(f)&&(r[f]=Ie)}else if(i){Ne(i)||H("invalid props options",i);for(const u in i){const f=Ke(u);if(Wm(f)){const h=i[u],m=r[f]=le(h)||be(h)?{type:h}:Pe({},h),g=m.type;let b=!1,v=!0;if(le(g))for(let w=0;w<g.length;++w){const E=g[w],_=be(E)&&E.name;if(_==="Boolean"){b=!0;break}else _==="String"&&(v=!1)}else b=be(g)&&g.name==="Boolean";m[0]=b,m[1]=v,(b||ze(m,"default"))&&a.push(f)}}}const d=[r,a];return Ne(t)&&o.set(t,d),d}function Wm(t){return t[0]!=="$"&&!bn(t)?!0:(H(`Invalid prop name: "${t}" is a reserved property.`),!1)}function JC(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function my(t,e,s){const o=Se(e),n=s.propsOptions[0],i=Object.keys(t).map(r=>Ke(r));for(const r in n){let a=n[r];a!=null&&QC(r,o[r],a,qs(o),!i.includes(r))}}function QC(t,e,s,o,n){const{type:i,required:r,validator:a,skipCheck:l}=s;if(r&&n){H('Missing required prop: "'+t+'"');return}if(!(e==null&&!r)){if(i!=null&&i!==!0&&!l){let d=!1;const u=le(i)?i:[i],f=[];for(let h=0;h<u.length&&!d;h++){const{valid:m,expectedType:g}=tS(e,u[h]);f.push(g||""),d=m}if(!d){H(sS(t,e,f));return}}a&&!a(e,o)&&H('Invalid prop: custom validator check failed for prop "'+t+'".')}}const eS=Dt("String,Number,Boolean,Function,Symbol,BigInt");function tS(t,e){let s;const o=JC(e);if(o==="null")s=t===null;else if(eS(o)){const n=typeof t;s=n===o.toLowerCase(),!s&&n==="object"&&(s=t instanceof e)}else o==="Object"?s=Ne(t):o==="Array"?s=le(t):s=t instanceof e;return{valid:s,expectedType:o}}function sS(t,e,s){if(s.length===0)return`Prop type [] for prop "${t}" won't match anything. Did you mean to use type Array instead?`;let o=`Invalid prop: type check failed for prop "${t}". Expected ${s.map(vo).join(" | ")}`;const n=s[0],i=zf(e),r=Km(e,n),a=Km(e,i);return s.length===1&&Gm(n)&&!oS(n,i)&&(o+=` with value ${r}`),o+=`, got ${i} `,Gm(i)&&(o+=`with value ${a}.`),o}function Km(t,e){return e==="String"?`"${t}"`:e==="Number"?`${Number(t)}`:`${t}`}function Gm(t){return["string","number","boolean"].some(s=>t.toLowerCase()===s)}function oS(...t){return t.some(e=>e.toLowerCase()==="boolean")}const py=t=>t[0]==="_"||t==="$stable",ch=t=>le(t)?t.map(os):[os(t)],nS=(t,e,s)=>{if(e._n)return e;const o=Ee((...n)=>(ht&&(!s||s.root===ht.root)&&H(`Slot "${t}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),ch(e(...n))),s);return o._c=!1,o},gy=(t,e,s)=>{const o=t._ctx;for(const n in t){if(py(n))continue;const i=t[n];if(be(i))e[n]=nS(n,i,o);else if(i!=null){H(`Non-function value encountered for slot "${n}". Prefer function slots for better performance.`);const r=ch(i);e[n]=()=>r}}},by=(t,e)=>{br(t.vnode)||H("Non-function value encountered for default slot. Prefer function slots for better performance.");const s=ch(e);t.slots.default=()=>s},Iu=(t,e,s)=>{for(const o in e)(s||o!=="_")&&(t[o]=e[o])},iS=(t,e,s)=>{const o=t.slots=dy();if(t.vnode.shapeFlag&32){const n=e._;n?(Iu(o,e,s),s&&Gi(o,"_",n,!0)):gy(e,o)}else e&&by(t,e)},rS=(t,e,s)=>{const{vnode:o,slots:n}=t;let i=!0,r=Ie;if(o.shapeFlag&32){const a=e._;a?Ws?(Iu(n,e,s),ho(t,"set","$slots")):s&&a===1?i=!1:Iu(n,e,s):(i=!e.$stable,gy(e,n)),r=e}else e&&(by(t,e),r={default:1});if(i)for(const a in n)!py(a)&&r[a]==null&&delete n[a]};let kr,un;function Ao(t,e){t.appContext.config.performance&&uc()&&un.mark(`vue-${e}-${t.uid}`),Hw(t,e,uc()?un.now():Date.now())}function To(t,e){if(t.appContext.config.performance&&uc()){const s=`vue-${e}-${t.uid}`,o=s+":end";un.mark(o),un.measure(`<${ad(t,t.type)}> ${e}`,s,o),un.clearMarks(s),un.clearMarks(o)}qw(t,e,uc()?un.now():Date.now())}function uc(){return kr!==void 0||(typeof window<"u"&&window.performance?(kr=!0,un=window.performance):kr=!1),kr}const vt=Py;function vy(t){return _y(t)}function yy(t){return _y(t,oC)}function _y(t,e){const s=za();s.__VUE__=!0,Jf(s.__VUE_DEVTOOLS_GLOBAL_HOOK__,s);const{insert:o,remove:n,patchProp:i,createElement:r,createText:a,createComment:l,setText:d,setElementText:u,parentNode:f,nextSibling:h,setScopeId:m=mt,insertStaticContent:g}=t,b=(A,R,B,K=null,Y=null,J=null,ae=void 0,ne=null,oe=Ws?!1:!!R.dynamicChildren)=>{if(A===R)return;A&&!Hs(A,R)&&(K=me(A),Ct(A,Y,J,!0),A=null),R.patchFlag===-2&&(oe=!1,R.dynamicChildren=null);const{type:ee,ref:Ce,shapeFlag:ce}=R;switch(ee){case po:v(A,R,B,K);break;case tt:w(A,R,B,K);break;case yn:A==null?E(R,B,K,ae):_(A,R,B,ae);break;case he:z(A,R,B,K,Y,J,ae,ne,oe);break;default:ce&1?T(A,R,B,K,Y,J,ae,ne,oe):ce&6?G(A,R,B,K,Y,J,ae,ne,oe):ce&64||ce&128?ee.process(A,R,B,K,Y,J,ae,ne,oe,$e):H("Invalid VNode type:",ee,`(${typeof ee})`)}Ce!=null&&Y&&va(Ce,A&&A.ref,J,R||A,!R)},v=(A,R,B,K)=>{if(A==null)o(R.el=a(R.children),B,K);else{const Y=R.el=A.el;R.children!==A.children&&d(Y,R.children)}},w=(A,R,B,K)=>{A==null?o(R.el=l(R.children||""),B,K):R.el=A.el},E=(A,R,B,K)=>{[A.el,A.anchor]=g(A.children,R,B,K,A.el,A.anchor)},_=(A,R,B,K)=>{if(R.children!==A.children){const Y=h(A.anchor);k(A),[R.el,R.anchor]=g(R.children,B,Y,K)}else R.el=A.el,R.anchor=A.anchor},D=({el:A,anchor:R},B,K)=>{let Y;for(;A&&A!==R;)Y=h(A),o(A,B,K),A=Y;o(R,B,K)},k=({el:A,anchor:R})=>{let B;for(;A&&A!==R;)B=h(A),n(A),A=B;n(R)},T=(A,R,B,K,Y,J,ae,ne,oe)=>{R.type==="svg"?ae="svg":R.type==="math"&&(ae="mathml"),A==null?O(R,B,K,Y,J,ae,ne,oe):F(A,R,Y,J,ae,ne,oe)},O=(A,R,B,K,Y,J,ae,ne)=>{let oe,ee;const{props:Ce,shapeFlag:ce,transition:ve,dirs:ke}=A;if(oe=A.el=r(A.type,J,Ce&&Ce.is,Ce),ce&8?u(oe,A.children):ce&16&&M(A.children,oe,null,K,Y,Wd(A,J),ae,ne),ke&&co(A,null,K,"created"),P(oe,A,A.scopeId,ae,K),Ce){for(const Ze in Ce)Ze!=="value"&&!bn(Ze)&&i(oe,Ze,null,Ce[Ze],J,K);"value"in Ce&&i(oe,"value",null,Ce.value,J),(ee=Ce.onVnodeBeforeMount)&&fs(ee,K,A)}Gi(oe,"__vnode",A,!0),Gi(oe,"__vueParentComponent",K,!0),ke&&co(A,null,K,"beforeMount");const Le=Ey(Y,ve);Le&&ve.beforeEnter(oe),o(oe,R,B),((ee=Ce&&Ce.onVnodeMounted)||Le||ke)&&vt(()=>{ee&&fs(ee,K,A),Le&&ve.enter(oe),ke&&co(A,null,K,"mounted")},Y)},P=(A,R,B,K,Y)=>{if(B&&m(A,B),K)for(let J=0;J<K.length;J++)m(A,K[J]);if(Y){let J=Y.subTree;if(J.patchFlag>0&&J.patchFlag&2048&&(J=id(J.children)||J),R===J||pc(J.type)&&(J.ssContent===R||J.ssFallback===R)){const ae=Y.vnode;P(A,ae,ae.scopeId,ae.slotScopeIds,Y.parent)}}},M=(A,R,B,K,Y,J,ae,ne,oe=0)=>{for(let ee=oe;ee<A.length;ee++){const Ce=A[ee]=ne?an(A[ee]):os(A[ee]);b(null,Ce,R,B,K,Y,J,ae,ne)}},F=(A,R,B,K,Y,J,ae)=>{const ne=R.el=A.el;ne.__vnode=R;let{patchFlag:oe,dynamicChildren:ee,dirs:Ce}=R;oe|=A.patchFlag&16;const ce=A.props||Ie,ve=R.props||Ie;let ke;if(B&&Nn(B,!1),(ke=ve.onVnodeBeforeUpdate)&&fs(ke,B,R,A),Ce&&co(R,A,B,"beforeUpdate"),B&&Nn(B,!0),Ws&&(oe=0,ae=!1,ee=null),(ce.innerHTML&&ve.innerHTML==null||ce.textContent&&ve.textContent==null)&&u(ne,""),ee?(L(A.dynamicChildren,ee,ne,B,K,Wd(R,Y),J),fc(A,R)):ae||xe(A,R,ne,null,B,K,Wd(R,Y),J,!1),oe>0){if(oe&16)N(ne,ce,ve,B,Y);else if(oe&2&&ce.class!==ve.class&&i(ne,"class",null,ve.class,Y),oe&4&&i(ne,"style",ce.style,ve.style,Y),oe&8){const Le=R.dynamicProps;for(let Ze=0;Ze<Le.length;Ze++){const je=Le[Ze],_s=ce[je],zt=ve[je];(zt!==_s||je==="value")&&i(ne,je,_s,zt,Y,B)}}oe&1&&A.children!==R.children&&u(ne,R.children)}else!ae&&ee==null&&N(ne,ce,ve,B,Y);((ke=ve.onVnodeUpdated)||Ce)&&vt(()=>{ke&&fs(ke,B,R,A),Ce&&co(R,A,B,"updated")},K)},L=(A,R,B,K,Y,J,ae)=>{for(let ne=0;ne<R.length;ne++){const oe=A[ne],ee=R[ne],Ce=oe.el&&(oe.type===he||!Hs(oe,ee)||oe.shapeFlag&70)?f(oe.el):B;b(oe,ee,Ce,null,K,Y,J,ae,!0)}},N=(A,R,B,K,Y)=>{if(R!==B){if(R!==Ie)for(const J in R)!bn(J)&&!(J in B)&&i(A,J,R[J],null,Y,K);for(const J in B){if(bn(J))continue;const ae=B[J],ne=R[J];ae!==ne&&J!=="value"&&i(A,J,ne,ae,Y,K)}"value"in B&&i(A,"value",R.value,B.value,Y)}},z=(A,R,B,K,Y,J,ae,ne,oe)=>{const ee=R.el=A?A.el:a(""),Ce=R.anchor=A?A.anchor:a("");let{patchFlag:ce,dynamicChildren:ve,slotScopeIds:ke}=R;(Ws||ce&2048)&&(ce=0,oe=!1,ve=null),ke&&(ne=ne?ne.concat(ke):ke),A==null?(o(ee,B,K),o(Ce,B,K),M(R.children||[],B,Ce,Y,J,ae,ne,oe)):ce>0&&ce&64&&ve&&A.dynamicChildren?(L(A.dynamicChildren,ve,B,Y,J,ae,ne),fc(A,R)):xe(A,R,B,Ce,Y,J,ae,ne,oe)},G=(A,R,B,K,Y,J,ae,ne,oe)=>{R.slotScopeIds=ne,A==null?R.shapeFlag&512?Y.ctx.activate(R,B,K,ae,oe):te(R,B,K,Y,J,ae,oe):Z(A,R,oe)},te=(A,R,B,K,Y,J,ae)=>{const ne=A.component=zy(A,K,Y);if(ne.type.__hmrId&&Nw(ne),Bi(A),Ao(ne,"mount"),br(A)&&(ne.ctx.renderer=$e),Ao(ne,"init"),Vy(ne,!1,ae),To(ne,"init"),ne.asyncDep){if(Ws&&(A.el=null),Y&&Y.registerDep(ne,Q,ae),!A.el){const oe=ne.subTree=x(tt);w(null,oe,R,B)}}else Q(ne,A,R,B,Y,J,ae);Ui(),To(ne,"mount")},Z=(A,R,B)=>{const K=R.component=A.component;if(pS(A,R,B))if(K.asyncDep&&!K.asyncResolved){Bi(R),ie(K,R,B),Ui();return}else K.next=R,K.update();else R.el=A.el,K.vnode=R},Q=(A,R,B,K,Y,J,ae)=>{const ne=()=>{if(A.isMounted){let{next:ce,bu:ve,u:ke,parent:Le,vnode:Ze}=A;{const Es=wy(A);if(Es){ce&&(ce.el=Ze.el,ie(A,ce,ae)),Es.asyncDep.then(()=>{A.isUnmounted||ne()});return}}let je=ce,_s;Bi(ce||A.vnode),Nn(A,!1),ce?(ce.el=Ze.el,ie(A,ce,ae)):ce=Ze,ve&&dn(ve),(_s=ce.props&&ce.props.onVnodeBeforeUpdate)&&fs(_s,Le,ce,Ze),Nn(A,!0),Ao(A,"render");const zt=Il(A);To(A,"render");const Bs=A.subTree;A.subTree=zt,Ao(A,"patch"),b(Bs,zt,f(Bs.el),me(Bs),A,Y,J),To(A,"patch"),ce.el=zt.el,je===null&&rd(A,zt.el),ke&&vt(ke,Y),(_s=ce.props&&ce.props.onVnodeUpdated)&&vt(()=>fs(_s,Le,ce,Ze),Y),Lv(A),Ui()}else{let ce;const{el:ve,props:ke}=R,{bm:Le,m:Ze,parent:je,root:_s,type:zt}=A,Bs=vn(R);if(Nn(A,!1),Le&&dn(Le),!Bs&&(ce=ke&&ke.onVnodeBeforeMount)&&fs(ce,je,R),Nn(A,!0),ve&&Fe){const Es=()=>{Ao(A,"render"),A.subTree=Il(A),To(A,"render"),Ao(A,"hydrate"),Fe(ve,A.subTree,A,Y,null),To(A,"hydrate")};Bs&&zt.__asyncHydrate?zt.__asyncHydrate(ve,A,Es):Es()}else{_s.ce&&_s.ce._injectChildStyle(zt),Ao(A,"render");const Es=A.subTree=Il(A);To(A,"render"),Ao(A,"patch"),b(null,Es,B,K,A,Y,J),To(A,"patch"),R.el=Es.el}if(Ze&&vt(Ze,Y),!Bs&&(ce=ke&&ke.onVnodeMounted)){const Es=R;vt(()=>fs(ce,je,Es),Y)}(R.shapeFlag&256||je&&vn(je.vnode)&&je.vnode.shapeFlag&256)&&A.a&&vt(A.a,Y),A.isMounted=!0,ku(A),R=B=K=null}};A.scope.on();const oe=A.effect=new ha(ne);A.scope.off();const ee=A.update=oe.run.bind(oe),Ce=A.job=oe.runIfDirty.bind(oe);Ce.i=A,Ce.id=A.uid,oe.scheduler=()=>Jc(Ce),Nn(A,!0),oe.onTrack=A.rtc?ce=>dn(A.rtc,ce):void 0,oe.onTrigger=A.rtg?ce=>dn(A.rtg,ce):void 0,ee()},ie=(A,R,B)=>{R.component=A;const K=A.vnode.props;A.vnode=R,A.next=null,ZC(A,R.props,K,B),rS(A,R.children,B),Ho(),Im(A),qo()},xe=(A,R,B,K,Y,J,ae,ne,oe=!1)=>{const ee=A&&A.children,Ce=A?A.shapeFlag:0,ce=R.children,{patchFlag:ve,shapeFlag:ke}=R;if(ve>0){if(ve&128){Mt(ee,ce,B,K,Y,J,ae,ne,oe);return}else if(ve&256){nt(ee,ce,B,K,Y,J,ae,ne,oe);return}}ke&8?(Ce&16&&W(ee,Y,J),ce!==ee&&u(B,ce)):Ce&16?ke&16?Mt(ee,ce,B,K,Y,J,ae,ne,oe):W(ee,Y,J,!0):(Ce&8&&u(B,""),ke&16&&M(ce,B,K,Y,J,ae,ne,oe))},nt=(A,R,B,K,Y,J,ae,ne,oe)=>{A=A||Vi,R=R||Vi;const ee=A.length,Ce=R.length,ce=Math.min(ee,Ce);let ve;for(ve=0;ve<ce;ve++){const ke=R[ve]=oe?an(R[ve]):os(R[ve]);b(A[ve],ke,B,null,Y,J,ae,ne,oe)}ee>Ce?W(A,Y,J,!0,!1,ce):M(R,B,K,Y,J,ae,ne,oe,ce)},Mt=(A,R,B,K,Y,J,ae,ne,oe)=>{let ee=0;const Ce=R.length;let ce=A.length-1,ve=Ce-1;for(;ee<=ce&&ee<=ve;){const ke=A[ee],Le=R[ee]=oe?an(R[ee]):os(R[ee]);if(Hs(ke,Le))b(ke,Le,B,null,Y,J,ae,ne,oe);else break;ee++}for(;ee<=ce&&ee<=ve;){const ke=A[ce],Le=R[ve]=oe?an(R[ve]):os(R[ve]);if(Hs(ke,Le))b(ke,Le,B,null,Y,J,ae,ne,oe);else break;ce--,ve--}if(ee>ce){if(ee<=ve){const ke=ve+1,Le=ke<Ce?R[ke].el:K;for(;ee<=ve;)b(null,R[ee]=oe?an(R[ee]):os(R[ee]),B,Le,Y,J,ae,ne,oe),ee++}}else if(ee>ve)for(;ee<=ce;)Ct(A[ee],Y,J,!0),ee++;else{const ke=ee,Le=ee,Ze=new Map;for(ee=Le;ee<=ve;ee++){const Jt=R[ee]=oe?an(R[ee]):os(R[ee]);Jt.key!=null&&(Ze.has(Jt.key)&&H("Duplicate keys found during update:",JSON.stringify(Jt.key),"Make sure keys are unique."),Ze.set(Jt.key,ee))}let je,_s=0;const zt=ve-Le+1;let Bs=!1,Es=0;const Sr=new Array(zt);for(ee=0;ee<zt;ee++)Sr[ee]=0;for(ee=ke;ee<=ce;ee++){const Jt=A[ee];if(_s>=zt){Ct(Jt,Y,J,!0);continue}let oo;if(Jt.key!=null)oo=Ze.get(Jt.key);else for(je=Le;je<=ve;je++)if(Sr[je-Le]===0&&Hs(Jt,R[je])){oo=je;break}oo===void 0?Ct(Jt,Y,J,!0):(Sr[oo-Le]=ee+1,oo>=Es?Es=oo:Bs=!0,b(Jt,R[oo],B,null,Y,J,ae,ne,oe),_s++)}const Cm=Bs?aS(Sr):Vi;for(je=Cm.length-1,ee=zt-1;ee>=0;ee--){const Jt=Le+ee,oo=R[Jt],Sm=Jt+1<Ce?R[Jt+1].el:K;Sr[ee]===0?b(null,oo,B,Sm,Y,J,ae,ne,oe):Bs&&(je<0||ee!==Cm[je]?Pt(oo,B,Sm,2):je--)}}},Pt=(A,R,B,K,Y=null)=>{const{el:J,type:ae,transition:ne,children:oe,shapeFlag:ee}=A;if(ee&6){Pt(A.component.subTree,R,B,K);return}if(ee&128){A.suspense.move(R,B,K);return}if(ee&64){ae.move(A,R,B,$e);return}if(ae===he){o(J,R,B);for(let ce=0;ce<oe.length;ce++)Pt(oe[ce],R,B,K);o(A.anchor,R,B);return}if(ae===yn){D(A,R,B);return}if(K!==2&&ee&1&&ne)if(K===0)ne.beforeEnter(J),o(J,R,B),vt(()=>ne.enter(J),Y);else{const{leave:ce,delayLeave:ve,afterLeave:ke}=ne,Le=()=>o(J,R,B),Ze=()=>{ce(J,()=>{Le(),ke&&ke()})};ve?ve(J,Le,Ze):Ze()}else o(J,R,B)},Ct=(A,R,B,K=!1,Y=!1)=>{const{type:J,props:ae,ref:ne,children:oe,dynamicChildren:ee,shapeFlag:Ce,patchFlag:ce,dirs:ve,cacheIndex:ke}=A;if(ce===-2&&(Y=!1),ne!=null&&va(ne,null,B,A,!0),ke!=null&&(R.renderCache[ke]=void 0),Ce&256){R.ctx.deactivate(A);return}const Le=Ce&1&&ve,Ze=!vn(A);let je;if(Ze&&(je=ae&&ae.onVnodeBeforeUnmount)&&fs(je,R,A),Ce&6)Lt(A.component,B,K);else{if(Ce&128){A.suspense.unmount(B,K);return}Le&&co(A,null,R,"beforeUnmount"),Ce&64?A.type.remove(A,R,B,$e,K):ee&&!ee.hasOnce&&(J!==he||ce>0&&ce&64)?W(ee,R,B,!1,!0):(J===he&&ce&384||!Y&&Ce&16)&&W(oe,R,B),K&&Nt(A)}(Ze&&(je=ae&&ae.onVnodeUnmounted)||Le)&&vt(()=>{je&&fs(je,R,A),Le&&co(A,null,R,"unmounted")},B)},Nt=A=>{const{type:R,el:B,anchor:K,transition:Y}=A;if(R===he){A.patchFlag>0&&A.patchFlag&2048&&Y&&!Y.persisted?A.children.forEach(ae=>{ae.type===tt?n(ae.el):Nt(ae)}):so(B,K);return}if(R===yn){k(A);return}const J=()=>{n(B),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(A.shapeFlag&1&&Y&&!Y.persisted){const{leave:ae,delayLeave:ne}=Y,oe=()=>ae(B,J);ne?ne(A.el,J,oe):oe()}else J()},so=(A,R)=>{let B;for(;A!==R;)B=h(A),n(A),A=B;n(R)},Lt=(A,R,B)=>{A.type.__hmrId&&Lw(A);const{bum:K,scope:Y,job:J,subTree:ae,um:ne,m:oe,a:ee}=A;hc(oe),hc(ee),K&&dn(K),Y.stop(),J&&(J.flags|=8,Ct(ae,A,R,B)),ne&&vt(ne,R),vt(()=>{A.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve()),jw(A)},W=(A,R,B,K=!1,Y=!1,J=0)=>{for(let ae=J;ae<A.length;ae++)Ct(A[ae],R,B,K,Y)},me=A=>{if(A.shapeFlag&6)return me(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const R=h(A.anchor||A.el),B=R&&R[Vv];return B?h(B):R};let ue=!1;const ye=(A,R,B)=>{A==null?R._vnode&&Ct(R._vnode,null,null,!0):b(R._vnode||null,A,R,null,null,null,B),R._vnode=A,ue||(ue=!0,Im(),rc(),ue=!1)},$e={p:b,um:Ct,m:Pt,r:Nt,mt:te,mc:M,pc:xe,pbc:L,n:me,o:t};let it,Fe;return e&&([it,Fe]=e($e)),{render:ye,hydrate:it,createApp:KC(ye,it)}}function Wd({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Nn({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Ey(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function fc(t,e,s=!1){const o=t.children,n=e.children;if(le(o)&&le(n))for(let i=0;i<o.length;i++){const r=o[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=an(n[i]),a.el=r.el),!s&&a.patchFlag!==-2&&fc(r,a)),a.type===po&&(a.el=r.el),a.type===tt&&!a.el&&(a.el=r.el)}}function aS(t){const e=t.slice(),s=[0];let o,n,i,r,a;const l=t.length;for(o=0;o<l;o++){const d=t[o];if(d!==0){if(n=s[s.length-1],t[n]<d){e[o]=n,s.push(o);continue}for(i=0,r=s.length-1;i<r;)a=i+r>>1,t[s[a]]<d?i=a+1:r=a;d<t[s[i]]&&(i>0&&(e[o]=s[i-1]),s[i]=o)}}for(i=s.length,r=s[i-1];i-- >0;)s[i]=r,r=e[r];return s}function wy(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:wy(e)}function hc(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Cy=Symbol.for("v-scx"),Sy=()=>{{const t=Ds(Cy);return t||H("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function lS(t,e){return Ba(t,null,e)}function cS(t,e){return Ba(t,null,Pe({},e,{flush:"post"}))}function xy(t,e){return Ba(t,null,Pe({},e,{flush:"sync"}))}function Os(t,e,s){return be(e)||H("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Ba(t,e,s)}function Ba(t,e,s=Ie){const{immediate:o,deep:n,flush:i,once:r}=s;e||(o!==void 0&&H('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),n!==void 0&&H('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&H('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const a=Pe({},s);a.onWarn=H;const l=e&&o||!e&&i!=="post";let d;if(Ji){if(i==="sync"){const m=Sy();d=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=mt,m.resume=mt,m.pause=mt,m}}const u=ht;a.call=(m,g,b)=>zs(m,u,g,b);let f=!1;i==="post"?a.scheduler=m=>{vt(m,u&&u.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(m,g)=>{g?m():Jc(m)}),a.augmentJob=m=>{e&&(m.flags|=4),f&&(m.flags|=2,u&&(m.id=u.uid,m.i=u))};const h=Dw(t,e,a);return Ji&&(d?d.push(h):l&&h()),h}function dS(t,e,s){const o=this.proxy,n=_e(t)?t.includes(".")?ky(o,t):()=>o[t]:t.bind(o,o);let i;be(e)?i=e:(i=e.handler,s=e);const r=mi(this),a=Ba(n,i.bind(o),s);return r(),a}function ky(t,e){const s=e.split(".");return()=>{let o=t;for(let n=0;n<s.length&&o;n++)o=o[s[n]];return o}}function uS(t,e,s=Ie){const o=Ts();if(!o)return H("useModel() called without active instance."),ge();const n=Ke(e);if(!o.propsOptions[0][n])return H(`useModel() called with prop "${e}" which is not declared.`),ge();const i=jt(e),r=Dy(t,n),a=Dv((l,d)=>{let u,f=Ie,h;return xy(()=>{const m=t[n];ts(u,m)&&(u=m,d())}),{get(){return l(),s.get?s.get(u):u},set(m){const g=s.set?s.set(m):m;if(!ts(g,u)&&!(f!==Ie&&ts(m,f)))return;const b=o.vnode.props;b&&(e in b||n in b||i in b)&&(`onUpdate:${e}`in b||`onUpdate:${n}`in b||`onUpdate:${i}`in b)||(u=m,d()),o.emit(`update:${e}`,g),ts(m,g)&&ts(m,f)&&!ts(g,h)&&d(),f=m,h=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?r||Ie:a,done:!1}:{done:!0}}}},a}const Dy=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ke(e)}Modifiers`]||t[`${jt(e)}Modifiers`];function fS(t,e,...s){if(t.isUnmounted)return;const o=t.vnode.props||Ie;{const{emitsOptions:u,propsOptions:[f]}=t;if(u)if(!(e in u))(!f||!(fo(Ke(e))in f))&&H(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${fo(Ke(e))}" prop.`);else{const h=u[e];be(h)&&(h(...s)||H(`Invalid event arguments: event validation failed for event "${e}".`))}}let n=s;const i=e.startsWith("update:"),r=i&&Dy(o,e.slice(7));r&&(r.trim&&(n=s.map(u=>_e(u)?u.trim():u)),r.number&&(n=s.map(tc))),Ww(t,e,n);{const u=e.toLowerCase();u!==e&&o[fo(u)]&&H(`Event "${u}" is emitted in component ${ad(t,t.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${jt(e)}" instead of "${e}".`)}let a,l=o[a=fo(e)]||o[a=fo(Ke(e))];!l&&i&&(l=o[a=fo(jt(e))]),l&&zs(l,t,6,n);const d=o[a+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,zs(d,t,6,n)}}function Ay(t,e,s=!1){const o=e.emitsCache,n=o.get(t);if(n!==void 0)return n;const i=t.emits;let r={},a=!1;if(!be(t)){const l=d=>{const u=Ay(d,e,!0);u&&(a=!0,Pe(r,u))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Ne(t)&&o.set(t,null),null):(le(i)?i.forEach(l=>r[l]=null):Pe(r,i),Ne(t)&&o.set(t,r),r)}function nd(t,e){return!t||!An(e)?!1:(e=e.slice(2).replace(/Once$/,""),ze(t,e[0].toLowerCase()+e.slice(1))||ze(t,jt(e))||ze(t,e))}let Fu=!1;function mc(){Fu=!0}function Il(t){const{type:e,vnode:s,proxy:o,withProxy:n,propsOptions:[i],slots:r,attrs:a,emit:l,render:d,renderCache:u,props:f,data:h,setupState:m,ctx:g,inheritAttrs:b}=t,v=ba(t);let w,E;Fu=!1;try{if(s.shapeFlag&4){const k=n||o,T=m.__isScriptSetup?new Proxy(k,{get(O,P,M){return H(`Property '${String(P)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(O,P,M)}}):k;w=os(d.call(T,k,u,qs(f),m,h,g)),E=a}else{const k=e;a===f&&mc(),w=os(k.length>1?k(qs(f),{get attrs(){return mc(),qs(a)},slots:r,emit:l}):k(qs(f),null)),E=e.props?a:hS(a)}}catch(k){ta.length=0,Mn(k,t,1),w=x(tt)}let _=w,D;if(w.patchFlag>0&&w.patchFlag&2048&&([_,D]=Ty(w)),E&&b!==!1){const k=Object.keys(E),{shapeFlag:T}=_;if(k.length){if(T&7)i&&k.some(ec)&&(E=mS(E,i)),_=$s(_,E,!1,!0);else if(!Fu&&_.type!==tt){const O=Object.keys(a),P=[],M=[];for(let F=0,L=O.length;F<L;F++){const N=O[F];An(N)?ec(N)||P.push(N[2].toLowerCase()+N.slice(3)):M.push(N)}M.length&&H(`Extraneous non-props attributes (${M.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text or teleport root nodes.`),P.length&&H(`Extraneous non-emits event listeners (${P.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return s.dirs&&(Xm(_)||H("Runtime directive used on component with non-element root node. The directives will not function as intended."),_=$s(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(s.dirs):s.dirs),s.transition&&(Xm(_)||H("Component inside <Transition> renders non-element root node that cannot be animated."),jo(_,s.transition)),D?D(_):w=_,ba(v),w}const Ty=t=>{const e=t.children,s=t.dynamicChildren,o=id(e,!1);if(o){if(o.patchFlag>0&&o.patchFlag&2048)return Ty(o)}else return[t,void 0];const n=e.indexOf(o),i=s?s.indexOf(o):-1,r=a=>{e[n]=a,s&&(i>-1?s[i]=a:a.patchFlag>0&&(t.dynamicChildren=[...s,a]))};return[os(o),r]};function id(t,e=!0){let s;for(let o=0;o<t.length;o++){const n=t[o];if(Eo(n)){if(n.type!==tt||n.children==="v-if"){if(s)return;if(s=n,e&&s.patchFlag>0&&s.patchFlag&2048)return id(s.children)}}else return}return s}const hS=t=>{let e;for(const s in t)(s==="class"||s==="style"||An(s))&&((e||(e={}))[s]=t[s]);return e},mS=(t,e)=>{const s={};for(const o in t)(!ec(o)||!(o.slice(9)in e))&&(s[o]=t[o]);return s},Xm=t=>t.shapeFlag&7||t.type===tt;function pS(t,e,s){const{props:o,children:n,component:i}=t,{props:r,children:a,patchFlag:l}=e,d=i.emitsOptions;if((n||a)&&Ws||e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return o?Zm(o,r,d):!!r;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(r[h]!==o[h]&&!nd(d,h))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:o===r?!1:o?r?Zm(o,r,d):!0:!!r;return!1}function Zm(t,e,s){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let n=0;n<o.length;n++){const i=o[n];if(e[i]!==t[i]&&!nd(s,i))return!0}return!1}function rd({vnode:t,parent:e},s){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===t&&(o.el=t.el),o===t)(t=e.vnode).el=s,e=e.parent;else break}}const pc=t=>t.__isSuspense;let Ru=0;const gS={name:"Suspense",__isSuspense:!0,process(t,e,s,o,n,i,r,a,l,d){if(t==null)vS(e,s,o,n,i,r,a,l,d);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}yS(t,e,s,o,n,r,a,l,d)}},hydrate:_S,normalize:ES},bS=gS;function _a(t,e){const s=t.props&&t.props[e];be(s)&&s()}function vS(t,e,s,o,n,i,r,a,l){const{p:d,o:{createElement:u}}=l,f=u("div"),h=t.suspense=My(t,n,o,e,f,s,i,r,a,l);d(null,h.pendingBranch=t.ssContent,f,null,o,h,i,r),h.deps>0?(_a(t,"onPending"),_a(t,"onFallback"),d(null,t.ssFallback,e,s,o,null,i,r),Hi(h,t.ssFallback)):h.resolve(!1,!0)}function yS(t,e,s,o,n,i,r,a,{p:l,um:d,o:{createElement:u}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const h=e.ssContent,m=e.ssFallback,{activeBranch:g,pendingBranch:b,isInFallback:v,isHydrating:w}=f;if(b)f.pendingBranch=h,Hs(h,b)?(l(b,h,f.hiddenContainer,null,n,f,i,r,a),f.deps<=0?f.resolve():v&&(w||(l(g,m,s,o,n,null,i,r,a),Hi(f,m)))):(f.pendingId=Ru++,w?(f.isHydrating=!1,f.activeBranch=b):d(b,n,f),f.deps=0,f.effects.length=0,f.hiddenContainer=u("div"),v?(l(null,h,f.hiddenContainer,null,n,f,i,r,a),f.deps<=0?f.resolve():(l(g,m,s,o,n,null,i,r,a),Hi(f,m))):g&&Hs(h,g)?(l(g,h,s,o,n,f,i,r,a),f.resolve(!0)):(l(null,h,f.hiddenContainer,null,n,f,i,r,a),f.deps<=0&&f.resolve()));else if(g&&Hs(h,g))l(g,h,s,o,n,f,i,r,a),Hi(f,h);else if(_a(e,"onPending"),f.pendingBranch=h,h.shapeFlag&512?f.pendingId=h.component.suspenseId:f.pendingId=Ru++,l(null,h,f.hiddenContainer,null,n,f,i,r,a),f.deps<=0)f.resolve();else{const{timeout:E,pendingId:_}=f;E>0?setTimeout(()=>{f.pendingId===_&&f.fallback(m)},E):E===0&&f.fallback(m)}}let Ym=!1;function My(t,e,s,o,n,i,r,a,l,d,u=!1){Ym||(Ym=!0,console[console.info?"info":"log"]("<Suspense> is an experimental feature and its API will likely change."));const{p:f,m:h,um:m,n:g,o:{parentNode:b,remove:v}}=d;let w;const E=wS(t);E&&e&&e.pendingBranch&&(w=e.pendingId,e.deps++);const _=t.props?sc(t.props.timeout):void 0;Zf(_,"Suspense timeout");const D=i,k={vnode:t,parent:e,parentComponent:s,namespace:r,container:o,hiddenContainer:n,deps:0,pendingId:Ru++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(T=!1,O=!1){{if(!T&&!k.pendingBranch)throw new Error("suspense.resolve() is called without a pending branch.");if(k.isUnmounted)throw new Error("suspense.resolve() is called on an already unmounted suspense boundary.")}const{vnode:P,activeBranch:M,pendingBranch:F,pendingId:L,effects:N,parentComponent:z,container:G}=k;let te=!1;k.isHydrating?k.isHydrating=!1:T||(te=M&&F.transition&&F.transition.mode==="out-in",te&&(M.transition.afterLeave=()=>{L===k.pendingId&&(h(F,G,i===D?g(M):i,0),Zi(N))}),M&&(b(M.el)===G&&(i=g(M)),m(M,z,k,!0)),te||h(F,G,i,0)),Hi(k,F),k.pendingBranch=null,k.isInFallback=!1;let Z=k.parent,Q=!1;for(;Z;){if(Z.pendingBranch){Z.effects.push(...N),Q=!0;break}Z=Z.parent}!Q&&!te&&Zi(N),k.effects=[],E&&e&&e.pendingBranch&&w===e.pendingId&&(e.deps--,e.deps===0&&!O&&e.resolve()),_a(P,"onResolve")},fallback(T){if(!k.pendingBranch)return;const{vnode:O,activeBranch:P,parentComponent:M,container:F,namespace:L}=k;_a(O,"onFallback");const N=g(P),z=()=>{k.isInFallback&&(f(null,T,F,N,M,null,L,a,l),Hi(k,T))},G=T.transition&&T.transition.mode==="out-in";G&&(P.transition.afterLeave=z),k.isInFallback=!0,m(P,M,null,!0),G||z()},move(T,O,P){k.activeBranch&&h(k.activeBranch,T,O,P),k.container=T},next(){return k.activeBranch&&g(k.activeBranch)},registerDep(T,O,P){const M=!!k.pendingBranch;M&&k.deps++;const F=T.vnode.el;T.asyncDep.catch(L=>{Mn(L,T,0)}).then(L=>{if(T.isUnmounted||k.isUnmounted||k.pendingId!==T.suspenseId)return;T.asyncResolved=!0;const{vnode:N}=T;Bi(N),Vu(T,L,!1),F&&(N.el=F);const z=!F&&T.subTree.el;O(T,N,b(F||T.subTree.el),F?null:g(T.subTree),k,r,P),z&&v(z),rd(T,N.el),Ui(),M&&--k.deps===0&&k.resolve()})},unmount(T,O){k.isUnmounted=!0,k.activeBranch&&m(k.activeBranch,s,T,O),k.pendingBranch&&m(k.pendingBranch,s,T,O)}};return k}function _S(t,e,s,o,n,i,r,a,l){const d=e.suspense=My(e,o,s,t.parentNode,document.createElement("div"),null,n,i,r,a,!0),u=l(t,d.pendingBranch=e.ssContent,s,d,i,r);return d.deps===0&&d.resolve(!1,!0),u}function ES(t){const{shapeFlag:e,children:s}=t,o=e&32;t.ssContent=Jm(o?s.default:s),t.ssFallback=o?Jm(s.fallback):x(tt)}function Jm(t){let e;if(be(t)){const s=hi&&t._c;s&&(t._d=!1,p()),t=t(),s&&(t._d=!0,e=qt,Iy())}if(le(t)){const s=id(t);!s&&t.filter(o=>o!==nh).length>0&&H("<Suspense> slots expect a single root node."),t=s}return t=os(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(s=>s!==t)),t}function Py(t,e){e&&e.pendingBranch?le(t)?e.effects.push(...t):e.effects.push(t):Zi(t)}function Hi(t,e){t.activeBranch=e;const{vnode:s,parentComponent:o}=t;let n=e.el;for(;!n&&e.component;)e=e.component.subTree,n=e.el;s.el=n,o&&o.subTree===s&&(o.vnode.el=n,rd(o,n))}function wS(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const he=Symbol.for("v-fgt"),po=Symbol.for("v-txt"),tt=Symbol.for("v-cmt"),yn=Symbol.for("v-stc"),ta=[];let qt=null;function p(t=!1){ta.push(qt=t?null:[])}function Iy(){ta.pop(),qt=ta[ta.length-1]||null}let hi=1;function Ou(t,e=!1){hi+=t,t<0&&qt&&e&&(qt.hasOnce=!0)}function Fy(t){return t.dynamicChildren=hi>0?qt||Vi:null,Iy(),hi>0&&qt&&qt.push(t),t}function y(t,e,s,o,n,i){return Fy(c(t,e,s,o,n,i,!0))}function q(t,e,s,o,n){return Fy(x(t,e,s,o,n,!0))}function Eo(t){return t?t.__v_isVNode===!0:!1}function Hs(t,e){if(e.shapeFlag&6&&t.component){const s=Ml.get(e.type);if(s&&s.has(t.component))return t.shapeFlag&=-257,e.shapeFlag&=-513,!1}return t.type===e.type&&t.key===e.key}let Nu;function CS(t){Nu=t}const SS=(...t)=>xS(...Nu?Nu(t,dt):t),Ry=({key:t})=>t??null,Fl=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?_e(t)||Ge(t)||be(t)?{i:dt,r:t,k:e,f:!!s}:t:null);function c(t,e=null,s=null,o=0,n=null,i=t===he?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ry(e),ref:e&&Fl(e),scopeId:Qc,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:dt};return a?(dh(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=_e(s)?8:16),l.key!==l.key&&H("VNode created with invalid key (NaN). VNode type:",l.type),hi>0&&!r&&qt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&qt.push(l),l}const x=SS;function xS(t,e=null,s=null,o=0,n=null,i=!1){if((!t||t===nh)&&(t||H(`Invalid vnode type when creating vnode: ${t}.`),t=tt),Eo(t)){const a=$s(t,e,!0);return s&&dh(a,s),hi>0&&!i&&qt&&(a.shapeFlag&6?qt[qt.indexOf(t)]=a:qt.push(a)),a.patchFlag=-2,a}if(Hy(t)&&(t=t.__vccOpts),e){e=Oy(e);let{class:a,style:l}=e;a&&!_e(a)&&(e.class=j(a)),Ne(l)&&(Xi(l)&&!le(l)&&(l=Pe({},l)),e.style=Tn(l))}const r=_e(t)?1:pc(t)?128:Bv(t)?64:Ne(t)?4:be(t)?2:0;return r&4&&Xi(t)&&(t=Se(t),H("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,t)),c(t,e,s,o,n,r,i,!0)}function Oy(t){return t?Xi(t)||uy(t)?Pe({},t):t:null}function $s(t,e,s=!1,o=!1){const{props:n,ref:i,patchFlag:r,children:a,transition:l}=t,d=e?uh(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&Ry(d),ref:e&&e.ref?s&&i?le(i)?i.concat(Fl(e)):[i,Fl(e)]:Fl(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:r===-1&&le(a)?a.map(Ny):a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==he?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&$s(t.ssContent),ssFallback:t.ssFallback&&$s(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&o&&jo(u,l.clone(u)),u}function Ny(t){const e=$s(t);return le(t.children)&&(e.children=t.children.map(Ny)),e}function V(t=" ",e=0){return x(po,null,t,e)}function Ly(t,e){const s=x(yn,null,t);return s.staticCount=e,s}function I(t="",e=!1){return e?(p(),q(tt,null,t)):x(tt,null,t)}function os(t){return t==null||typeof t=="boolean"?x(tt):le(t)?x(he,null,t.slice()):Eo(t)?an(t):x(po,null,String(t))}function an(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:$s(t)}function dh(t,e){let s=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(le(e))s=16;else if(typeof e=="object")if(o&65){const n=e.default;n&&(n._c&&(n._d=!1),dh(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!uy(e)?e._ctx=dt:n===3&&dt&&(dt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else be(e)?(e={default:e,_ctx:dt},s=32):(e=String(e),o&64?(s=16,e=[V(e)]):s=8);t.children=e,t.shapeFlag|=s}function uh(...t){const e={};for(let s=0;s<t.length;s++){const o=t[s];for(const n in o)if(n==="class")e.class!==o.class&&(e.class=j([e.class,o.class]));else if(n==="style")e.style=Tn([e.style,o.style]);else if(An(n)){const i=e[n],r=o[n];r&&i!==r&&!(le(i)&&i.includes(r))&&(e[n]=i?[].concat(i,r):r)}else n!==""&&(e[n]=o[n])}return e}function fs(t,e,s,o=null){zs(t,e,7,[s,o])}const kS=ay();let DS=0;function zy(t,e,s){const o=t.type,n=(e?e.appContext:t.appContext)||kS,i={uid:DS++,vnode:t,type:o,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Bf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hy(o,n),emitsOptions:Ay(o,n),emit:null,emitted:null,propsDefaults:Ie,inheritAttrs:o.inheritAttrs,ctx:Ie,data:Ie,props:Ie,attrs:Ie,slots:Ie,refs:Ie,setupState:Ie,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx=SC(i),i.root=e?e.root:i,i.emit=fS.bind(null,i),t.ce&&t.ce(i),i}let ht=null;const Ts=()=>ht||dt;let gc,Lu;{const t=za(),e=(s,o)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(o),i=>{n.length>1?n.forEach(r=>r(i)):n[0](i)}};gc=e("__VUE_INSTANCE_SETTERS__",s=>ht=s),Lu=e("__VUE_SSR_SETTERS__",s=>Ji=s)}const mi=t=>{const e=ht;return gc(t),t.scope.on(),()=>{t.scope.off(),gc(e)}},zu=()=>{ht&&ht.scope.off(),gc(null)},AS=Dt("slot,component");function $u(t,{isNativeTag:e}){(AS(t)||e(t))&&H("Do not use built-in or reserved HTML elements as component id: "+t)}function $y(t){return t.vnode.shapeFlag&4}let Ji=!1;function Vy(t,e=!1,s=!1){e&&Lu(e);const{props:o,children:n}=t.vnode,i=$y(t);GC(t,o,i,e),iS(t,n,s);const r=i?TS(t,e):void 0;return e&&Lu(!1),r}function TS(t,e){var s;const o=t.type;{if(o.name&&$u(o.name,t.appContext.config),o.components){const i=Object.keys(o.components);for(let r=0;r<i.length;r++)$u(i[r],t.appContext.config)}if(o.directives){const i=Object.keys(o.directives);for(let r=0;r<i.length;r++)$v(i[r])}o.compilerOptions&&fh()&&H('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Qr),xC(t);const{setup:n}=o;if(n){Ho();const i=t.setupContext=n.length>1?jy(t):null,r=mi(t),a=Ei(n,t,0,[qs(t.props),i]),l=Bc(a);if(qo(),r(),(l||t.sp)&&!vn(t)&&sh(t),l){if(a.then(zu,zu),e)return a.then(d=>{Vu(t,d,e)}).catch(d=>{Mn(d,t,0)});if(t.asyncDep=a,!t.suspense){const d=(s=o.name)!=null?s:"Anonymous";H(`Component <${d}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else Vu(t,a,e)}else Uy(t,e)}function Vu(t,e,s){be(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ne(e)?(Eo(e)&&H("setup() should not return VNodes directly - return a render function instead."),t.devtoolsRawSetupState=e,t.setupState=Xf(e),kC(t)):e!==void 0&&H(`setup() should return an object. Received: ${e===null?"null":typeof e}`),Uy(t,s)}let sa,Bu;function By(t){sa=t,Bu=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,CC))}}const fh=()=>!sa;function Uy(t,e,s){const o=t.type;if(!t.render){if(!e&&sa&&!o.render){const n=o.template||lh(t).template;if(n){Ao(t,"compile");const{isCustomElement:i,compilerOptions:r}=t.appContext.config,{delimiters:a,compilerOptions:l}=o,d=Pe(Pe({isCustomElement:i,delimiters:a},r),l);o.render=sa(n,d),To(t,"compile")}}t.render=o.render||mt,Bu&&Bu(t)}{const n=mi(t);Ho();try{BC(t)}finally{qo(),n()}}!o.render&&t.render===mt&&!e&&(!sa&&o.template?H('Component provided template option but runtime compilation is not supported in this build of Vue. Use "vue.esm-browser.js" instead.'):H("Component is missing template or render function: ",o))}const MS={get(t,e){return mc(),xt(t,"get",""),t[e]},set(){return H("setupContext.attrs is readonly."),!1},deleteProperty(){return H("setupContext.attrs is readonly."),!1}};function PS(t){return new Proxy(t.slots,{get(e,s){return xt(t,"get","$slots"),e[s]}})}function jy(t){const e=s=>{if(t.exposed&&H("expose() should be called only once per setup()."),s!=null){let o=typeof s;o==="object"&&(le(s)?o="array":Ge(s)&&(o="ref")),o!=="object"&&H(`expose() should be passed a plain object, received ${o}.`)}t.exposed=s||{}};{let s,o;return Object.freeze({get attrs(){return s||(s=new Proxy(t.attrs,MS))},get slots(){return o||(o=PS(t))},get emit(){return(n,...i)=>t.emit(n,...i)},expose:e})}}function Ua(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Xf(Zc(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in ni)return ni[s](t)},has(e,s){return s in e||s in ni}})):t.proxy}const IS=/(?:^|[-_])(\w)/g,FS=t=>t.replace(IS,e=>e.toUpperCase()).replace(/[-_]/g,"");function Ea(t,e=!0){return be(t)?t.displayName||t.name:t.name||e&&t.__name}function ad(t,e,s=!1){let o=Ea(e);if(!o&&e.__file){const n=e.__file.match(/([^/\\]+)\.\w+$/);n&&(o=n[1])}if(!o&&t&&t.parent){const n=i=>{for(const r in i)if(i[r]===e)return r};o=n(t.components||t.parent.type.components)||n(t.appContext.components)}return o?FS(o):s?"App":"Anonymous"}function Hy(t){return be(t)&&"__vccOpts"in t}const we=(t,e)=>{const s=Cw(t,e,Ji);{const o=Ts();o&&o.appContext.config.warnRecursiveComputed&&(s._warnRecursive=!0)}return s};function pi(t,e,s){const o=arguments.length;return o===2?Ne(e)&&!le(e)?Eo(e)?x(t,null,[e]):x(t,e):x(t,null,e):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&Eo(s)&&(s=[s]),x(t,e,s))}function qy(){if(typeof window>"u")return;const t={style:"color:#3ba776"},e={style:"color:#1677ff"},s={style:"color:#f5222d"},o={style:"color:#eb2f96"},n={__vue_custom_formatter:!0,header(f){return Ne(f)?f.__isVue?["div",t,"VueInstance"]:Ge(f)?["div",{},["span",t,u(f)],"<",a("_value"in f?f._value:f),">"]:Ys(f)?["div",{},["span",t,Kt(f)?"ShallowReactive":"Reactive"],"<",a(f),`>${_o(f)?" (readonly)":""}`]:_o(f)?["div",{},["span",t,Kt(f)?"ShallowReadonly":"Readonly"],"<",a(f),">"]:null:null},hasBody(f){return f&&f.__isVue},body(f){if(f&&f.__isVue)return["div",{},...i(f.$)]}};function i(f){const h=[];f.type.props&&f.props&&h.push(r("props",Se(f.props))),f.setupState!==Ie&&h.push(r("setup",f.setupState)),f.data!==Ie&&h.push(r("data",Se(f.data)));const m=l(f,"computed");m&&h.push(r("computed",m));const g=l(f,"inject");return g&&h.push(r("injected",g)),h.push(["div",{},["span",{style:o.style+";opacity:0.66"},"$ (internal): "],["object",{object:f}]]),h}function r(f,h){return h=Pe({},h),Object.keys(h).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},f],["div",{style:"padding-left:1.25em"},...Object.keys(h).map(m=>["div",{},["span",o,m+": "],a(h[m],!1)])]]:["span",{}]}function a(f,h=!0){return typeof f=="number"?["span",e,f]:typeof f=="string"?["span",s,JSON.stringify(f)]:typeof f=="boolean"?["span",o,f]:Ne(f)?["object",{object:h?Se(f):f}]:["span",s,String(f)]}function l(f,h){const m=f.type;if(be(m))return;const g={};for(const b in f.ctx)d(m,b,h)&&(g[b]=f.ctx[b]);return g}function d(f,h,m){const g=f[m];if(le(g)&&g.includes(h)||Ne(g)&&h in g||f.extends&&d(f.extends,h,m)||f.mixins&&f.mixins.some(b=>d(b,h,m)))return!0}function u(f){return Kt(f)?"ShallowRef":f.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(n):window.devtoolsFormatters=[n]}function RS(t,e,s,o){const n=s[o];if(n&&Wy(n,t))return n;const i=e();return i.memo=t.slice(),i.cacheIndex=o,s[o]=i}function Wy(t,e){const s=t.memo;if(s.length!=e.length)return!1;for(let o=0;o<s.length;o++)if(ts(s[o],e[o]))return!1;return hi>0&&qt&&qt.push(t),!0}const Uu="3.5.13",lt=H,OS=Yc,NS=js,LS=Jf,zS={createComponentInstance:zy,setupComponent:Vy,renderComponentRoot:Il,setCurrentRenderingInstance:ba,isVNode:Eo,normalizeVNode:os,getComponentPublicInstance:Ua,ensureValidVNode:rh,pushWarningContext:Bi,popWarningContext:Ui},$S=zS,VS=null,BS=null,US=null;let ju;const Qm=typeof window<"u"&&window.trustedTypes;if(Qm)try{ju=Qm.createPolicy("vue",{createHTML:t=>t})}catch(t){lt(`Error creating trusted types policy: ${t}`)}const Ky=ju?t=>ju.createHTML(t):t=>t,jS="http://www.w3.org/2000/svg",HS="http://www.w3.org/1998/Math/MathML",Fo=typeof document<"u"?document:null,ep=Fo&&Fo.createElement("template"),qS={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,o)=>{const n=e==="svg"?Fo.createElementNS(jS,t):e==="mathml"?Fo.createElementNS(HS,t):s?Fo.createElement(t,{is:s}):Fo.createElement(t);return t==="select"&&o&&o.multiple!=null&&n.setAttribute("multiple",o.multiple),n},createText:t=>Fo.createTextNode(t),createComment:t=>Fo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Fo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,o,n,i){const r=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{ep.innerHTML=Ky(o==="svg"?`<svg>${t}</svg>`:o==="mathml"?`<math>${t}</math>`:t);const a=ep.content;if(o==="svg"||o==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[r?r.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Yo="transition",Dr="animation",Qi=Symbol("_vtc"),Gy={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Xy=Pe({},th,Gy),WS=t=>(t.displayName="Transition",t.props=Xy,t),KS=WS((t,{slots:e})=>pi(Wv,Zy(t),e)),Ln=(t,e=[])=>{le(t)?t.forEach(s=>s(...e)):t&&t(...e)},tp=t=>t?le(t)?t.some(e=>e.length>1):t.length>1:!1;function Zy(t){const e={};for(const N in t)N in Gy||(e[N]=t[N]);if(t.css===!1)return e;const{name:s="v",type:o,duration:n,enterFromClass:i=`${s}-enter-from`,enterActiveClass:r=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=i,appearActiveClass:d=r,appearToClass:u=a,leaveFromClass:f=`${s}-leave-from`,leaveActiveClass:h=`${s}-leave-active`,leaveToClass:m=`${s}-leave-to`}=t,g=GS(n),b=g&&g[0],v=g&&g[1],{onBeforeEnter:w,onEnter:E,onEnterCancelled:_,onLeave:D,onLeaveCancelled:k,onBeforeAppear:T=w,onAppear:O=E,onAppearCancelled:P=_}=e,M=(N,z,G,te)=>{N._enterCancelled=te,en(N,z?u:a),en(N,z?d:r),G&&G()},F=(N,z)=>{N._isLeaving=!1,en(N,f),en(N,m),en(N,h),z&&z()},L=N=>(z,G)=>{const te=N?O:E,Z=()=>M(z,N,G);Ln(te,[z,Z]),sp(()=>{en(z,N?l:i),io(z,N?u:a),tp(te)||op(z,o,b,Z)})};return Pe(e,{onBeforeEnter(N){Ln(w,[N]),io(N,i),io(N,r)},onBeforeAppear(N){Ln(T,[N]),io(N,l),io(N,d)},onEnter:L(!1),onAppear:L(!0),onLeave(N,z){N._isLeaving=!0;const G=()=>F(N,z);io(N,f),N._enterCancelled?(io(N,h),Hu()):(Hu(),io(N,h)),sp(()=>{N._isLeaving&&(en(N,f),io(N,m),tp(D)||op(N,o,v,G))}),Ln(D,[N,G])},onEnterCancelled(N){M(N,!1,void 0,!0),Ln(_,[N])},onAppearCancelled(N){M(N,!0,void 0,!0),Ln(P,[N])},onLeaveCancelled(N){F(N),Ln(k,[N])}})}function GS(t){if(t==null)return null;if(Ne(t))return[Kd(t.enter),Kd(t.leave)];{const e=Kd(t);return[e,e]}}function Kd(t){const e=sc(t);return Zf(e,"<transition> explicit duration"),e}function io(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[Qi]||(t[Qi]=new Set)).add(e)}function en(t,e){e.split(/\s+/).forEach(o=>o&&t.classList.remove(o));const s=t[Qi];s&&(s.delete(e),s.size||(t[Qi]=void 0))}function sp(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let XS=0;function op(t,e,s,o){const n=t._endId=++XS,i=()=>{n===t._endId&&o()};if(s!=null)return setTimeout(i,s);const{type:r,timeout:a,propCount:l}=Yy(t,e);if(!r)return o();const d=r+"end";let u=0;const f=()=>{t.removeEventListener(d,h),i()},h=m=>{m.target===t&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},a+1),t.addEventListener(d,h)}function Yy(t,e){const s=window.getComputedStyle(t),o=g=>(s[g]||"").split(", "),n=o(`${Yo}Delay`),i=o(`${Yo}Duration`),r=np(n,i),a=o(`${Dr}Delay`),l=o(`${Dr}Duration`),d=np(a,l);let u=null,f=0,h=0;e===Yo?r>0&&(u=Yo,f=r,h=i.length):e===Dr?d>0&&(u=Dr,f=d,h=l.length):(f=Math.max(r,d),u=f>0?r>d?Yo:Dr:null,h=u?u===Yo?i.length:l.length:0);const m=u===Yo&&/\b(transform|all)(,|$)/.test(o(`${Yo}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:m}}function np(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,o)=>ip(s)+ip(t[o])))}function ip(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Hu(){return document.body.offsetHeight}function ZS(t,e,s){const o=t[Qi];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const bc=Symbol("_vod"),Jy=Symbol("_vsh"),hh={beforeMount(t,{value:e},{transition:s}){t[bc]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):Ar(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:o}){!e!=!s&&(o?e?(o.beforeEnter(t),Ar(t,!0),o.enter(t)):o.leave(t,()=>{Ar(t,!1)}):Ar(t,e))},beforeUnmount(t,{value:e}){Ar(t,e)}};hh.name="show";function Ar(t,e){t.style.display=e?t[bc]:"none",t[Jy]=!e}function YS(){hh.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const Qy=Symbol("CSS_VAR_TEXT");function JS(t){const e=Ts();if(!e){lt("useCssVars is called without current active component instance.");return}const s=e.ut=(n=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>vc(i,n))};e.getCssVars=()=>t(e.proxy);const o=()=>{const n=t(e.proxy);e.ce?vc(e.ce,n):qu(e.subTree,n),s(n)};oh(()=>{Zi(o)}),is(()=>{Os(o,mt,{flush:"post"});const n=new MutationObserver(o);n.observe(e.subTree.el.parentNode,{childList:!0}),Va(()=>n.disconnect())})}function qu(t,e){if(t.shapeFlag&128){const s=t.suspense;t=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{qu(s.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)vc(t.el,e);else if(t.type===he)t.children.forEach(s=>qu(s,e));else if(t.type===yn){let{el:s,anchor:o}=t;for(;s&&(vc(s,e),s!==o);)s=s.nextSibling}}function vc(t,e){if(t.nodeType===1){const s=t.style;let o="";for(const n in e)s.setProperty(`--${n}`,e[n]),o+=`--${n}: ${e[n]};`;s[Qy]=o}}const QS=/(^|;)\s*display\s*:/;function e2(t,e,s){const o=t.style,n=_e(s);let i=!1;if(s&&!n){if(e)if(_e(e))for(const r of e.split(";")){const a=r.slice(0,r.indexOf(":")).trim();s[a]==null&&Rl(o,a,"")}else for(const r in e)s[r]==null&&Rl(o,r,"");for(const r in s)r==="display"&&(i=!0),Rl(o,r,s[r])}else if(n){if(e!==s){const r=o[Qy];r&&(s+=";"+r),o.cssText=s,i=QS.test(s)}}else e&&t.removeAttribute("style");bc in t&&(t[bc]=i?o.display:"",t[Jy]&&(o.display="none"))}const t2=/[^\\];\s*$/,rp=/\s*!important$/;function Rl(t,e,s){if(le(s))s.forEach(o=>Rl(t,e,o));else if(s==null&&(s=""),t2.test(s)&&lt(`Unexpected semicolon at the end of '${e}' style value: '${s}'`),e.startsWith("--"))t.setProperty(e,s);else{const o=s2(t,e);rp.test(s)?t.setProperty(jt(o),s.replace(rp,""),"important"):t[o]=s}}const ap=["Webkit","Moz","ms"],Gd={};function s2(t,e){const s=Gd[e];if(s)return s;let o=Ke(e);if(o!=="filter"&&o in t)return Gd[e]=o;o=vo(o);for(let n=0;n<ap.length;n++){const i=ap[n]+o;if(i in t)return Gd[e]=i}return e}const lp="http://www.w3.org/1999/xlink";function cp(t,e,s,o,n,i=BE(e)){o&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(lp,e.slice(6,e.length)):t.setAttributeNS(lp,e,s):s==null||i&&!Vf(s)?t.removeAttribute(e):t.setAttribute(e,i?"":ys(s)?String(s):s)}function dp(t,e,s,o,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Ky(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let r=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Vf(s):s==null&&a==="string"?(s="",r=!0):a==="number"&&(s=0,r=!0)}try{t[e]=s}catch(a){r||lt(`Failed setting prop "${e}" on <${i.toLowerCase()}>: value ${s} is invalid.`,a)}r&&t.removeAttribute(n||e)}function Lo(t,e,s,o){t.addEventListener(e,s,o)}function o2(t,e,s,o){t.removeEventListener(e,s,o)}const up=Symbol("_vei");function n2(t,e,s,o,n=null){const i=t[up]||(t[up]={}),r=i[e];if(o&&r)r.value=hp(o,e);else{const[a,l]=i2(e);if(o){const d=i[e]=l2(hp(o,e),n);Lo(t,a,d,l)}else r&&(o2(t,a,r,l),i[e]=void 0)}}const fp=/(?:Once|Passive|Capture)$/;function i2(t){let e;if(fp.test(t)){e={};let o;for(;o=t.match(fp);)t=t.slice(0,t.length-o[0].length),e[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):jt(t.slice(2)),e]}let Xd=0;const r2=Promise.resolve(),a2=()=>Xd||(r2.then(()=>Xd=0),Xd=Date.now());function l2(t,e){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;zs(c2(o,s.value),e,5,[o])};return s.value=t,s.attached=a2(),s}function hp(t,e){return be(t)||le(t)?t:(lt(`Wrong type passed as event handler to ${e} - did you forget @ or : in front of your prop?
Expected function or array of functions, received type ${typeof t}.`),mt)}function c2(t,e){if(le(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(o=>n=>!n._stopped&&o&&o(n))}else return e}const mp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,d2=(t,e,s,o,n,i)=>{const r=n==="svg";e==="class"?ZS(t,o,r):e==="style"?e2(t,s,o):An(e)?ec(e)||n2(t,e,s,o,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):u2(t,e,o,r))?(dp(t,e,o),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&cp(t,e,o,r,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!_e(o))?dp(t,Ke(e),o,i,e):(e==="true-value"?t._trueValue=o:e==="false-value"&&(t._falseValue=o),cp(t,e,o,r))};function u2(t,e,s,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in t&&mp(e)&&be(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return mp(e)&&_e(s)?!1:e in t}const pp={};/*! #__NO_SIDE_EFFECTS__ */function e_(t,e,s){const o=gr(t,e);Uc(o)&&Pe(o,e);class n extends ld{constructor(r){super(o,r,s)}}return n.def=o,n}/*! #__NO_SIDE_EFFECTS__ */const f2=(t,e)=>e_(t,e,u_),h2=typeof HTMLElement<"u"?HTMLElement:class{};class ld extends h2{constructor(e,s={},o=_c){super(),this._def=e,this._props=s,this._createApp=o,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&o!==_c?this._root=this.shadowRoot:(this.shadowRoot&&lt("Custom element has pre-rendered declarative shadow root but is not defined as hydratable. Use `defineSSRCustomElement`."),e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this),this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof ld){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,pr(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let o=0;o<this.attributes.length;o++)this._setAttr(this.attributes[o].name);this._ob=new MutationObserver(o=>{for(const n of o)this._setAttr(n.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(o,n=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:r}=o;let a;if(i&&!le(i))for(const l in i){const d=i[l];(d===Number||d&&d.type===Number)&&(l in this._props&&(this._props[l]=sc(this._props[l])),(a||(a=Object.create(null)))[Ke(l)]=!0)}this._numberProps=a,n&&this._resolveProps(o),this.shadowRoot?this._applyStyles(r):r&&lt("Custom element style injection is not supported when using shadowRoot: false"),this._mount(o)},s=this._def.__asyncLoader;s?this._pendingResolve=s().then(o=>e(this._def=o,!0)):e(this._def)}_mount(e){e.name||(e.name="VueElement"),this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const s=this._instance&&this._instance.exposed;if(s)for(const o in s)ze(this,o)?lt(`Exposed property "${o}" already exists on custom element.`):Object.defineProperty(this,o,{get:()=>Bo(s[o])})}_resolveProps(e){const{props:s}=e,o=le(s)?s:Object.keys(s||{});for(const n of Object.keys(this))n[0]!=="_"&&o.includes(n)&&this._setProp(n,this[n]);for(const n of o.map(Ke))Object.defineProperty(this,n,{get(){return this._getProp(n)},set(i){this._setProp(n,i,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const s=this.hasAttribute(e);let o=s?this.getAttribute(e):pp;const n=Ke(e);s&&this._numberProps&&this._numberProps[n]&&(o=sc(o)),this._setProp(n,o,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,s,o=!0,n=!1){if(s!==this._props[e]&&(s===pp?delete this._props[e]:(this._props[e]=s,e==="key"&&this._app&&(this._app._ceVNode.key=s)),n&&this._instance&&this._update(),o)){const i=this._ob;i&&i.disconnect(),s===!0?this.setAttribute(jt(e),""):typeof s=="string"||typeof s=="number"?this.setAttribute(jt(e),s+""):s||this.removeAttribute(jt(e)),i&&i.observe(this,{attributes:!0})}}_update(){d_(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const s=x(this._def,Pe(e,this._props));return this._instance||(s.ce=o=>{this._instance=o,o.ce=this,o.isCE=!0,o.ceReload=i=>{this._styles&&(this._styles.forEach(r=>this._root.removeChild(r)),this._styles.length=0),this._applyStyles(i),this._instance=null,this._update()};const n=(i,r)=>{this.dispatchEvent(new CustomEvent(i,Uc(r[0])?Pe({detail:r},r[0]):{detail:r}))};o.emit=(i,...r)=>{n(i,r),jt(i)!==i&&n(jt(i),r)},this._setParent()}),s}_applyStyles(e,s){if(!e)return;if(s){if(s===this._def||this._styleChildren.has(s))return;this._styleChildren.add(s)}const o=this._nonce;for(let n=e.length-1;n>=0;n--){const i=document.createElement("style");if(o&&i.setAttribute("nonce",o),i.textContent=e[n],this.shadowRoot.prepend(i),s){if(s.__hmrId){this._childStyles||(this._childStyles=new Map);let r=this._childStyles.get(s.__hmrId);r||this._childStyles.set(s.__hmrId,r=[]),r.push(i)}}else(this._styles||(this._styles=[])).push(i)}}_parseSlots(){const e=this._slots={};let s;for(;s=this.firstChild;){const o=s.nodeType===1&&s.getAttribute("slot")||"default";(e[o]||(e[o]=[])).push(s),this.removeChild(s)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),s=this._instance.type.__scopeId;for(let o=0;o<e.length;o++){const n=e[o],i=n.getAttribute("name")||"default",r=this._slots[i],a=n.parentNode;if(r)for(const l of r){if(s&&l.nodeType===1){const d=s+"-s",u=document.createTreeWalker(l,1);l.setAttribute(d,"");let f;for(;f=u.nextNode();)f.setAttribute(d,"")}a.insertBefore(l,n)}else for(;n.firstChild;)a.insertBefore(n.firstChild,n);a.removeChild(n)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){if(this._styleChildren.delete(e),this._childStyles&&e.__hmrId){const s=this._childStyles.get(e.__hmrId);s&&(s.forEach(o=>this._root.removeChild(o)),s.length=0)}}}function t_(t){const e=Ts(),s=e&&e.ce;return s||(lt(e?`${t||"useHost"} can only be used in components defined via defineCustomElement.`:`${t||"useHost"} called without an active component instance.`),null)}function m2(){const t=t_("useShadowRoot");return t&&t.shadowRoot}function p2(t="$style"){{const e=Ts();if(!e)return lt("useCssModule must be called inside setup()"),Ie;const s=e.type.__cssModules;if(!s)return lt("Current instance does not have CSS modules injected."),Ie;const o=s[t];return o||(lt(`Current instance does not have CSS module named "${t}".`),Ie)}}const s_=new WeakMap,o_=new WeakMap,yc=Symbol("_moveCb"),gp=Symbol("_enterCb"),g2=t=>(delete t.props.mode,t),b2=g2({name:"TransitionGroup",props:Pe({},Xy,{tag:String,moveClass:String}),setup(t,{slots:e}){const s=Ts(),o=eh();let n,i;return sd(()=>{if(!n.length)return;const r=t.moveClass||`${t.name||"v"}-move`;if(!w2(n[0].el,s.vnode.el,r))return;n.forEach(y2),n.forEach(_2);const a=n.filter(E2);Hu(),a.forEach(l=>{const d=l.el,u=d.style;io(d,r),u.transform=u.webkitTransform=u.transitionDuration="";const f=d[yc]=h=>{h&&h.target!==d||(!h||/transform$/.test(h.propertyName))&&(d.removeEventListener("transitionend",f),d[yc]=null,en(d,r))};d.addEventListener("transitionend",f)})}),()=>{const r=Se(t),a=Zy(r);let l=r.tag||he;if(n=[],i)for(let d=0;d<i.length;d++){const u=i[d];u.el&&u.el instanceof Element&&(n.push(u),jo(u,Yi(u,a,o,s)),s_.set(u,u.el.getBoundingClientRect()))}i=e.default?ed(e.default()):[];for(let d=0;d<i.length;d++){const u=i[d];u.key!=null?jo(u,Yi(u,a,o,s)):u.type!==po&&lt("<TransitionGroup> children must be keyed.")}return x(l,null,i)}}}),v2=b2;function y2(t){const e=t.el;e[yc]&&e[yc](),e[gp]&&e[gp]()}function _2(t){o_.set(t,t.el.getBoundingClientRect())}function E2(t){const e=s_.get(t),s=o_.get(t),o=e.left-s.left,n=e.top-s.top;if(o||n){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${o}px,${n}px)`,i.transitionDuration="0s",t}}function w2(t,e,s){const o=t.cloneNode(),n=t[Qi];n&&n.forEach(a=>{a.split(/\s+/).forEach(l=>l&&o.classList.remove(l))}),s.split(/\s+/).forEach(a=>a&&o.classList.add(a)),o.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(o);const{hasTransform:r}=Yy(o);return i.removeChild(o),r}const Cn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return le(e)?s=>dn(e,s):e};function C2(t){t.target.composing=!0}function bp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ns=Symbol("_assign"),fe={created(t,{modifiers:{lazy:e,trim:s,number:o}},n){t[Ns]=Cn(n);const i=o||n.props&&n.props.type==="number";Lo(t,e?"change":"input",r=>{if(r.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=tc(a)),t[Ns](a)}),s&&Lo(t,"change",()=>{t.value=t.value.trim()}),e||(Lo(t,"compositionstart",C2),Lo(t,"compositionend",bp),Lo(t,"change",bp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:o,trim:n,number:i}},r){if(t[Ns]=Cn(r),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?tc(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(o&&e===s||n&&t.value.trim()===l)||(t.value=l))}},Sn={deep:!0,created(t,e,s){t[Ns]=Cn(s),Lo(t,"change",()=>{const o=t._modelValue,n=er(t),i=t.checked,r=t[Ns];if(le(o)){const a=Hc(o,n),l=a!==-1;if(i&&!l)r(o.concat(n));else if(!i&&l){const d=[...o];d.splice(a,1),r(d)}}else if(_i(o)){const a=new Set(o);i?a.add(n):a.delete(n),r(a)}else r(n_(t,i))})},mounted:vp,beforeUpdate(t,e,s){t[Ns]=Cn(s),vp(t,e,s)}};function vp(t,{value:e,oldValue:s},o){t._modelValue=e;let n;if(le(e))n=Hc(e,o.props.value)>-1;else if(_i(e))n=e.has(o.props.value);else{if(e===s)return;n=wn(e,n_(t,!0))}t.checked!==n&&(t.checked=n)}const mh={created(t,{value:e},s){t.checked=wn(e,s.props.value),t[Ns]=Cn(s),Lo(t,"change",()=>{t[Ns](er(t))})},beforeUpdate(t,{value:e,oldValue:s},o){t[Ns]=Cn(o),e!==s&&(t.checked=wn(e,o.props.value))}},_t={deep:!0,created(t,{value:e,modifiers:{number:s}},o){const n=_i(e);Lo(t,"change",()=>{const i=Array.prototype.filter.call(t.options,r=>r.selected).map(r=>s?tc(er(r)):er(r));t[Ns](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,pr(()=>{t._assigning=!1})}),t[Ns]=Cn(o)},mounted(t,{value:e}){yp(t,e)},beforeUpdate(t,e,s){t[Ns]=Cn(s)},updated(t,{value:e}){t._assigning||yp(t,e)}};function yp(t,e){const s=t.multiple,o=le(e);if(s&&!o&&!_i(e)){lt(`<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(e).slice(8,-1)}.`);return}for(let n=0,i=t.options.length;n<i;n++){const r=t.options[n],a=er(r);if(s)if(o){const l=typeof a;l==="string"||l==="number"?r.selected=e.some(d=>String(d)===String(a)):r.selected=Hc(e,a)>-1}else r.selected=e.has(a);else if(wn(er(r),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}function er(t){return"_value"in t?t._value:t.value}function n_(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const i_={created(t,e,s){ll(t,e,s,null,"created")},mounted(t,e,s){ll(t,e,s,null,"mounted")},beforeUpdate(t,e,s,o){ll(t,e,s,o,"beforeUpdate")},updated(t,e,s,o){ll(t,e,s,o,"updated")}};function r_(t,e){switch(t){case"SELECT":return _t;case"TEXTAREA":return fe;default:switch(e){case"checkbox":return Sn;case"radio":return mh;default:return fe}}}function ll(t,e,s,o,n){const r=r_(t.tagName,s.props&&s.props.type)[n];r&&r(t,e,s,o)}function S2(){fe.getSSRProps=({value:t})=>({value:t}),mh.getSSRProps=({value:t},e)=>{if(e.props&&wn(e.props.value,t))return{checked:!0}},Sn.getSSRProps=({value:t},e)=>{if(le(t)){if(e.props&&Hc(t,e.props.value)>-1)return{checked:!0}}else if(_i(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},i_.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const s=r_(e.type.toUpperCase(),e.props&&e.props.type);if(s.getSSRProps)return s.getSSRProps(t,e)}}const x2=["ctrl","shift","alt","meta"],k2={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>x2.some(s=>t[`${s}Key`]&&!e.includes(s))},Ve=(t,e)=>{const s=t._withMods||(t._withMods={}),o=e.join(".");return s[o]||(s[o]=(n,...i)=>{for(let r=0;r<e.length;r++){const a=k2[e[r]];if(a&&a(n,e))return}return t(n,...i)})},D2={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},A2=(t,e)=>{const s=t._withKeys||(t._withKeys={}),o=e.join(".");return s[o]||(s[o]=n=>{if(!("key"in n))return;const i=jt(n.key);if(e.some(r=>r===i||D2[r]===i))return t(n)})},a_=Pe({patchProp:d2},qS);let oa,_p=!1;function l_(){return oa||(oa=vy(a_))}function c_(){return oa=_p?oa:yy(a_),_p=!0,oa}const d_=(...t)=>{l_().render(...t)},T2=(...t)=>{c_().hydrate(...t)},_c=(...t)=>{const e=l_().createApp(...t);h_(e),m_(e);const{mount:s}=e;return e.mount=o=>{const n=p_(o);if(!n)return;const i=e._component;!be(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const r=s(n,!1,f_(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),r},e},u_=(...t)=>{const e=c_().createApp(...t);h_(e),m_(e);const{mount:s}=e;return e.mount=o=>{const n=p_(o);if(n)return s(n,!0,f_(n))},e};function f_(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function h_(t){Object.defineProperty(t.config,"isNativeTag",{value:e=>nv(e)||iv(e)||rv(e),writable:!1})}function m_(t){if(fh()){const e=t.config.isCustomElement;Object.defineProperty(t.config,"isCustomElement",{get(){return e},set(){lt("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const s=t.config.compilerOptions,o='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(t.config,"compilerOptions",{get(){return lt(o),s},set(){lt(o)}})}}function p_(t){if(_e(t)){const e=document.querySelector(t);return e||lt(`Failed to mount app: mount target selector "${t}" returned null.`),e}return window.ShadowRoot&&t instanceof window.ShadowRoot&&t.mode==="closed"&&lt('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),t}let Ep=!1;const M2=()=>{Ep||(Ep=!0,S2(),YS())};var P2=Object.freeze({__proto__:null,BaseTransition:Wv,BaseTransitionPropsValidators:th,Comment:tt,DeprecationTypes:US,EffectScope:Bf,ErrorCodes:Iw,ErrorTypeStrings:OS,Fragment:he,KeepAlive:bC,ReactiveEffect:ha,Static:yn,Suspense:bS,Teleport:Yw,Text:po,TrackOpTypes:Sw,Transition:KS,TransitionGroup:v2,TriggerOpTypes:xw,VueElement:ld,assertNumber:Zf,callWithAsyncErrorHandling:zs,callWithErrorHandling:Ei,camelize:Ke,capitalize:vo,cloneVNode:$s,compatUtils:BS,computed:we,createApp:_c,createBlock:q,createCommentVNode:I,createElementBlock:y,createElementVNode:c,createHydrationRenderer:yy,createPropsRestProxy:zC,createRenderer:vy,createSSRApp:u_,createSlots:EC,createStaticVNode:Ly,createTextVNode:V,createVNode:x,customRef:Dv,defineAsyncComponent:pC,defineComponent:gr,defineCustomElement:e_,defineEmits:AC,defineExpose:TC,defineModel:IC,defineOptions:MC,defineProps:DC,defineSSRCustomElement:f2,defineSlots:PC,devtools:NS,effect:XE,effectScope:Uf,getCurrentInstance:Ts,getCurrentScope:jf,getCurrentWatcher:kw,getTransitionRawChildren:ed,guardReactiveProps:Oy,h:pi,handleError:Mn,hasInjectionContext:ly,hydrate:T2,hydrateOnIdle:cC,hydrateOnInteraction:hC,hydrateOnMediaQuery:fC,hydrateOnVisible:uC,initCustomFormatter:qy,initDirectivesForSSR:M2,inject:Ds,isMemoSame:Wy,isProxy:Xi,isReactive:Ys,isReadonly:_o,isRef:Ge,isRuntimeOnly:fh,isShallow:Kt,isVNode:Eo,markRaw:Zc,mergeDefaults:NC,mergeModels:LC,mergeProps:uh,nextTick:pr,normalizeClass:j,normalizeProps:OE,normalizeStyle:Tn,onActivated:Yv,onBeforeMount:ey,onBeforeUnmount:od,onBeforeUpdate:oh,onDeactivated:Jv,onErrorCaptured:ny,onMounted:is,onRenderTracked:oy,onRenderTriggered:sy,onScopeDispose:dv,onServerPrefetch:ty,onUnmounted:Va,onUpdated:sd,onWatcherCleanup:Pv,openBlock:p,popScopeId:Gw,provide:ea,proxyRefs:Xf,pushScopeId:Kw,queuePostFlushCb:Zi,reactive:yo,readonly:Gc,ref:ge,registerRuntimeCompiler:By,render:d_,renderList:De,renderSlot:cc,resolveComponent:C,resolveDirective:_C,resolveDynamicComponent:mo,resolveFilter:VS,resolveTransitionHooks:Yi,setBlockTracking:Ou,setDevtoolsHook:LS,setTransitionHooks:jo,shallowReactive:Kf,shallowReadonly:qs,shallowRef:Gf,ssrContextKey:Cy,ssrUtils:$S,stop:ZE,toDisplayString:S,toHandlerKey:fo,toHandlers:wC,toRaw:Se,toRef:Tv,toRefs:Av,toValue:bw,transformVNodeArgs:CS,triggerRef:gw,unref:Bo,useAttrs:OC,useCssModule:p2,useCssVars:JS,useHost:t_,useId:Qw,useModel:uS,useSSRContext:Sy,useShadowRoot:m2,useSlots:RC,useTemplateRef:eC,useTransitionState:eh,vModelCheckbox:Sn,vModelDynamic:i_,vModelRadio:mh,vModelSelect:_t,vModelText:fe,vShow:hh,version:Uu,warn:lt,watch:Os,watchEffect:lS,watchPostEffect:cS,watchSyncEffect:xy,withAsyncContext:$C,withCtx:Ee,withDefaults:FC,withDirectives:se,withKeys:A2,withMemo:RS,withModifiers:Ve,withScopeId:Xw});function I2(){console.info(`You are running a development build of Vue.
Make sure to use the production build (*.prod.js) when deploying for production.`),qy()}const wa=Symbol("Fragment"),na=Symbol("Teleport"),ph=Symbol("Suspense"),Ec=Symbol("KeepAlive"),g_=Symbol("BaseTransition"),gi=Symbol("openBlock"),b_=Symbol("createBlock"),v_=Symbol("createElementBlock"),gh=Symbol("createVNode"),bh=Symbol("createElementVNode"),ja=Symbol("createCommentVNode"),vh=Symbol("createTextVNode"),y_=Symbol("createStaticVNode"),yh=Symbol("resolveComponent"),_h=Symbol("resolveDynamicComponent"),Eh=Symbol("resolveDirective"),F2=Symbol("resolveFilter"),wh=Symbol("withDirectives"),Ch=Symbol("renderList"),__=Symbol("renderSlot"),E_=Symbol("createSlots"),cd=Symbol("toDisplayString"),wc=Symbol("mergeProps"),Sh=Symbol("normalizeClass"),xh=Symbol("normalizeStyle"),Ca=Symbol("normalizeProps"),Ha=Symbol("guardReactiveProps"),kh=Symbol("toHandlers"),Wu=Symbol("camelize"),R2=Symbol("capitalize"),Ku=Symbol("toHandlerKey"),Cc=Symbol("setBlockTracking"),O2=Symbol("pushScopeId"),N2=Symbol("popScopeId"),Dh=Symbol("withCtx"),L2=Symbol("unref"),z2=Symbol("isRef"),Ah=Symbol("withMemo"),w_=Symbol("isMemoSame"),tr={[wa]:"Fragment",[na]:"Teleport",[ph]:"Suspense",[Ec]:"KeepAlive",[g_]:"BaseTransition",[gi]:"openBlock",[b_]:"createBlock",[v_]:"createElementBlock",[gh]:"createVNode",[bh]:"createElementVNode",[ja]:"createCommentVNode",[vh]:"createTextVNode",[y_]:"createStaticVNode",[yh]:"resolveComponent",[_h]:"resolveDynamicComponent",[Eh]:"resolveDirective",[F2]:"resolveFilter",[wh]:"withDirectives",[Ch]:"renderList",[__]:"renderSlot",[E_]:"createSlots",[cd]:"toDisplayString",[wc]:"mergeProps",[Sh]:"normalizeClass",[xh]:"normalizeStyle",[Ca]:"normalizeProps",[Ha]:"guardReactiveProps",[kh]:"toHandlers",[Wu]:"camelize",[R2]:"capitalize",[Ku]:"toHandlerKey",[Cc]:"setBlockTracking",[O2]:"pushScopeId",[N2]:"popScopeId",[Dh]:"withCtx",[L2]:"unref",[z2]:"isRef",[Ah]:"withMemo",[w_]:"isMemoSame"};function $2(t){Object.getOwnPropertySymbols(t).forEach(e=>{tr[e]=t[e]})}const Ms={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function V2(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:Ms}}function Sa(t,e,s,o,n,i,r,a=!1,l=!1,d=!1,u=Ms){return t&&(a?(t.helper(gi),t.helper(nr(t.inSSR,d))):t.helper(or(t.inSSR,d)),r&&t.helper(wh)),{type:13,tag:e,props:s,children:o,patchFlag:n,dynamicProps:i,directives:r,isBlock:a,disableTracking:l,isComponent:d,loc:u}}function ri(t,e=Ms){return{type:17,loc:e,elements:t}}function Rs(t,e=Ms){return{type:15,loc:e,properties:t}}function pt(t,e){return{type:16,loc:Ms,key:_e(t)?Me(t,!0):t,value:e}}function Me(t,e=!1,s=Ms,o=0){return{type:4,loc:s,content:t,isStatic:e,constType:e?3:o}}function Js(t,e=Ms){return{type:8,loc:e,children:t}}function yt(t,e=[],s=Ms){return{type:14,loc:s,callee:t,arguments:e}}function sr(t,e=void 0,s=!1,o=!1,n=Ms){return{type:18,params:t,returns:e,newline:s,isSlot:o,loc:n}}function Gu(t,e,s,o=!0){return{type:19,test:t,consequent:e,alternate:s,newline:o,loc:Ms}}function B2(t,e,s=!1,o=!1){return{type:20,index:t,value:e,needPauseTracking:s,inVOnce:o,needArraySpread:!1,loc:Ms}}function U2(t){return{type:21,body:t,loc:Ms}}function or(t,e){return t||e?gh:bh}function nr(t,e){return t||e?b_:v_}function Th(t,{helper:e,removeHelper:s,inSSR:o}){t.isBlock||(t.isBlock=!0,s(or(o,t.isComponent)),e(gi),e(nr(o,t.isComponent)))}const wp=new Uint8Array([123,123]),Cp=new Uint8Array([125,125]);function Sp(t){return t>=97&&t<=122||t>=65&&t<=90}function Ss(t){return t===32||t===10||t===9||t===12||t===13}function Jo(t){return t===47||t===62||Ss(t)}function Sc(t){const e=new Uint8Array(t.length);for(let s=0;s<t.length;s++)e[s]=t.charCodeAt(s);return e}const It={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class j2{constructor(e,s){this.stack=e,this.cbs=s,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=wp,this.delimiterClose=Cp,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=wp,this.delimiterClose=Cp}getPos(e){let s=1,o=e+1;for(let n=this.newlines.length-1;n>=0;n--){const i=this.newlines[n];if(e>i){s=n+2,o=e-i;break}}return{column:o,line:s,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const s=this.index+1-this.delimiterOpen.length;s>this.sectionStart&&this.cbs.ontext(this.sectionStart,s),this.state=3,this.sectionStart=s}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const s=this.sequenceIndex===this.currentSequence.length;if(!(s?Jo(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!s){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||Ss(e)){const s=this.index-this.currentSequence.length;if(this.sectionStart<s){const o=this.index;this.index=s,this.cbs.ontext(this.sectionStart,s),this.index=o}this.sectionStart=s+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===It.TitleEnd||this.currentSequence===It.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===It.Cdata[this.sequenceIndex]?++this.sequenceIndex===It.Cdata.length&&(this.state=28,this.currentSequence=It.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);if(s===10&&this.newlines.push(this.index),s===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===It.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,s){this.enterRCDATA(e,s),this.state=31}enterRCDATA(e,s){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=s}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):Sp(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){Jo(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(Jo(e)){const s=this.buffer.slice(this.sectionStart,this.index);s!=="template"&&this.enterRCDATA(Sc("</"+s),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){Ss(e)||(e===62?(this.cbs.onerr(14,this.index),this.state=1,this.sectionStart=this.index+1):(this.state=Sp(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||Ss(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?(this.state=7,this.peek()!==62&&this.cbs.onerr(22,this.index)):e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Ss(e)||(e===61&&this.cbs.onerr(19,this.index),this.handleAttrStart(e))}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Ss(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){e===61||Jo(e)?(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):(e===34||e===39||e===60)&&this.cbs.onerr(17,this.index)}stateInDirName(e){e===61||Jo(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||Jo(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||Jo(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e),this.cbs.onerr(27,this.index))}stateInDirModifier(e){e===61||Jo(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):Ss(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):Ss(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,s){(e===s||this.fastForwardTo(s))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(s===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){Ss(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===34||e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=It.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===It.ScriptEnd[3]?this.startSpecial(It.ScriptEnd,4):e===It.StyleEnd[3]?this.startSpecial(It.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===It.TitleEnd[3]?this.startSpecial(It.TitleEnd,4):e===It.TextareaEnd[3]?this.startSpecial(It.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);switch(s===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(s);break}case 2:{this.stateInterpolationOpen(s);break}case 3:{this.stateInterpolation(s);break}case 4:{this.stateInterpolationClose(s);break}case 31:{this.stateSpecialStartSequence(s);break}case 32:{this.stateInRCDATA(s);break}case 26:{this.stateCDATASequence(s);break}case 19:{this.stateInAttrValueDoubleQuotes(s);break}case 12:{this.stateInAttrName(s);break}case 13:{this.stateInDirName(s);break}case 14:{this.stateInDirArg(s);break}case 15:{this.stateInDynamicDirArg(s);break}case 16:{this.stateInDirModifier(s);break}case 28:{this.stateInCommentLike(s);break}case 27:{this.stateInSpecialComment(s);break}case 11:{this.stateBeforeAttrName(s);break}case 6:{this.stateInTagName(s);break}case 34:{this.stateInSFCRootTagName(s);break}case 9:{this.stateInClosingTagName(s);break}case 5:{this.stateBeforeTagName(s);break}case 17:{this.stateAfterAttrName(s);break}case 20:{this.stateInAttrValueSingleQuotes(s);break}case 18:{this.stateBeforeAttrValue(s);break}case 8:{this.stateBeforeClosingTagName(s);break}case 10:{this.stateAfterClosingTagName(s);break}case 29:{this.stateBeforeSpecialS(s);break}case 30:{this.stateBeforeSpecialT(s);break}case 21:{this.stateInAttrValueNoQuotes(s);break}case 7:{this.stateInSelfClosingTag(s);break}case 23:{this.stateInDeclaration(s);break}case 22:{this.stateBeforeDeclaration(s);break}case 25:{this.stateBeforeComment(s);break}case 24:{this.stateInProcessingInstruction(s);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===It.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,s){}}function Mh(t){throw t}function C_(t){console.warn(`[Vue warn] ${t.message}`)}function qe(t,e,s,o){const n=(s||H2)[t]+(o||""),i=new SyntaxError(String(n));return i.code=t,i.loc=e,i}const H2={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""},bs=t=>t.type===4&&t.isStatic;function S_(t){switch(t){case"Teleport":case"teleport":return na;case"Suspense":case"suspense":return ph;case"KeepAlive":case"keep-alive":return Ec;case"BaseTransition":case"base-transition":return g_}}const q2=/^\d|[^\$\w\xA0-\uFFFF]/,Ph=t=>!q2.test(t),W2=/[A-Za-z_$\xA0-\uFFFF]/,K2=/[\.\?\w$\xA0-\uFFFF]/,G2=/\s+[.[]\s*|\s*[.[]\s+/g,x_=t=>t.type===4?t.content:t.loc.source,X2=t=>{const e=x_(t).trim().replace(G2,a=>a.trim());let s=0,o=[],n=0,i=0,r=null;for(let a=0;a<e.length;a++){const l=e.charAt(a);switch(s){case 0:if(l==="[")o.push(s),s=1,n++;else if(l==="(")o.push(s),s=2,i++;else if(!(a===0?W2:K2).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(o.push(s),s=3,r=l):l==="["?n++:l==="]"&&(--n||(s=o.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")o.push(s),s=3,r=l;else if(l==="(")i++;else if(l===")"){if(a===e.length-1)return!1;--i||(s=o.pop())}break;case 3:l===r&&(s=o.pop(),r=null);break}}return!n&&!i},k_=X2,Z2=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Y2=t=>Z2.test(x_(t)),J2=Y2;function xp(t,e){if(!t)throw new Error(e||"unexpected compiler condition")}function ms(t,e,s=!1){for(let o=0;o<t.props.length;o++){const n=t.props[o];if(n.type===7&&(s||n.exp)&&(_e(e)?n.name===e:e.test(n.name)))return n}}function xa(t,e,s=!1,o=!1){for(let n=0;n<t.props.length;n++){const i=t.props[n];if(i.type===6){if(s)continue;if(i.name===e&&(i.value||o))return i}else if(i.name==="bind"&&(i.exp||o)&&Xn(i.arg,e))return i}}function Xn(t,e){return!!(t&&bs(t)&&t.content===e)}function Q2(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function Zd(t){return t.type===5||t.type===2}function ex(t){return t.type===7&&t.name==="slot"}function xc(t){return t.type===1&&t.tagType===3}function kc(t){return t.type===1&&t.tagType===2}const tx=new Set([Ca,Ha]);function D_(t,e=[]){if(t&&!_e(t)&&t.type===14){const s=t.callee;if(!_e(s)&&tx.has(s))return D_(t.arguments[0],e.concat(t))}return[t,e]}function Dc(t,e,s){let o,n=t.type===13?t.props:t.arguments[2],i=[],r;if(n&&!_e(n)&&n.type===14){const a=D_(n);n=a[0],i=a[1],r=i[i.length-1]}if(n==null||_e(n))o=Rs([e]);else if(n.type===14){const a=n.arguments[0];!_e(a)&&a.type===15?kp(e,a)||a.properties.unshift(e):n.callee===kh?o=yt(s.helper(wc),[Rs([e]),n]):n.arguments.unshift(Rs([e])),!o&&(o=n)}else n.type===15?(kp(e,n)||n.properties.unshift(e),o=n):(o=yt(s.helper(wc),[Rs([e]),n]),r&&r.callee===Ha&&(r=i[i.length-2]));t.type===13?r?r.arguments[0]=o:t.props=o:r?r.arguments[0]=o:t.arguments[2]=o}function kp(t,e){let s=!1;if(t.key.type===4){const o=t.key.content;s=e.properties.some(n=>n.key.type===4&&n.key.content===o)}return s}function Ih(t,e){return`_${e}_${t.replace(/[^\w]/g,(s,o)=>s==="-"?"_":t.charCodeAt(o).toString())}`}function sx(t){return t.type===14&&t.callee===Ah?t.arguments[1].returns:t}const ox=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,A_={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Vr,isPreTag:Vr,isIgnoreNewlineTag:Vr,isCustomElement:Vr,onError:Mh,onWarn:C_,comments:!0,prefixIdentifiers:!1};let Ye=A_,Ac=null,Uo="",Bt=null,We=null,ds="",Mo=-1,jn=-1,Fh=0,ln=!1,Xu=null;const ct=[],et=new j2(ct,{onerr:as,ontext(t,e){cl($t(t,e),t,e)},ontextentity(t,e,s){cl(t,e,s)},oninterpolation(t,e){if(ln)return cl($t(t,e),t,e);let s=t+et.delimiterOpen.length,o=e-et.delimiterClose.length;for(;Ss(Uo.charCodeAt(s));)s++;for(;Ss(Uo.charCodeAt(o-1));)o--;let n=$t(s,o);n.includes("&")&&(n=Ye.decodeEntities(n,!1)),Zu({type:5,content:Nl(n,!1,ft(s,o)),loc:ft(t,e)})},onopentagname(t,e){const s=$t(t,e);Bt={type:1,tag:s,ns:Ye.getNamespace(s,ct[0],Ye.ns),tagType:0,props:[],children:[],loc:ft(t-1,e),codegenNode:void 0}},onopentagend(t){Ap(t)},onclosetag(t,e){const s=$t(t,e);if(!Ye.isVoidTag(s)){let o=!1;for(let n=0;n<ct.length;n++)if(ct[n].tag.toLowerCase()===s.toLowerCase()){o=!0,n>0&&as(24,ct[0].loc.start.offset);for(let r=0;r<=n;r++){const a=ct.shift();Ol(a,e,r<n)}break}o||as(23,T_(t,60))}},onselfclosingtag(t){const e=Bt.tag;Bt.isSelfClosing=!0,Ap(t),ct[0]&&ct[0].tag===e&&Ol(ct.shift(),t)},onattribname(t,e){We={type:6,name:$t(t,e),nameLoc:ft(t,e),value:void 0,loc:ft(t)}},ondirname(t,e){const s=$t(t,e),o=s==="."||s===":"?"bind":s==="@"?"on":s==="#"?"slot":s.slice(2);if(!ln&&o===""&&as(26,t),ln||o==="")We={type:6,name:s,nameLoc:ft(t,e),value:void 0,loc:ft(t)};else if(We={type:7,name:o,rawName:s,exp:void 0,arg:void 0,modifiers:s==="."?[Me("prop")]:[],loc:ft(t)},o==="pre"){ln=et.inVPre=!0,Xu=Bt;const n=Bt.props;for(let i=0;i<n.length;i++)n[i].type===7&&(n[i]=px(n[i]))}},ondirarg(t,e){if(t===e)return;const s=$t(t,e);if(ln)We.name+=s,Zn(We.nameLoc,e);else{const o=s[0]!=="[";We.arg=Nl(o?s:s.slice(1,-1),o,ft(t,e),o?3:0)}},ondirmodifier(t,e){const s=$t(t,e);if(ln)We.name+="."+s,Zn(We.nameLoc,e);else if(We.name==="slot"){const o=We.arg;o&&(o.content+="."+s,Zn(o.loc,e))}else{const o=Me(s,!0,ft(t,e));We.modifiers.push(o)}},onattribdata(t,e){ds+=$t(t,e),Mo<0&&(Mo=t),jn=e},onattribentity(t,e,s){ds+=t,Mo<0&&(Mo=e),jn=s},onattribnameend(t){const e=We.loc.start.offset,s=$t(e,t);We.type===7&&(We.rawName=s),Bt.props.some(o=>(o.type===7?o.rawName:o.name)===s)&&as(2,e)},onattribend(t,e){if(Bt&&We){if(Zn(We.loc,e),t!==0)if(ds.includes("&")&&(ds=Ye.decodeEntities(ds,!0)),We.type===6)We.name==="class"&&(ds=P_(ds).trim()),t===1&&!ds&&as(13,e),We.value={type:2,content:ds,loc:t===1?ft(Mo,jn):ft(Mo-1,jn+1)},et.inSFCRoot&&Bt.tag==="template"&&We.name==="lang"&&ds&&ds!=="html"&&et.enterRCDATA(Sc("</template"),0);else{let s=0;We.exp=Nl(ds,!1,ft(Mo,jn),0,s),We.name==="for"&&(We.forParseResult=ix(We.exp))}(We.type!==7||We.name!=="pre")&&Bt.props.push(We)}ds="",Mo=jn=-1},oncomment(t,e){Ye.comments&&Zu({type:3,content:$t(t,e),loc:ft(t-4,e+3)})},onend(){const t=Uo.length;if(et.state!==1)switch(et.state){case 5:case 8:as(5,t);break;case 3:case 4:as(25,et.sectionStart);break;case 28:et.currentSequence===It.CdataEnd?as(6,t):as(7,t);break;case 6:case 7:case 9:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:as(9,t);break}for(let e=0;e<ct.length;e++)Ol(ct[e],t-1),as(24,ct[e].loc.start.offset)},oncdata(t,e){ct[0].ns!==0?cl($t(t,e),t,e):as(1,t-9)},onprocessinginstruction(t){(ct[0]?ct[0].ns:Ye.ns)===0&&as(21,t-1)}}),Dp=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,nx=/^\(|\)$/g;function ix(t){const e=t.loc,s=t.content,o=s.match(ox);if(!o)return;const[,n,i]=o,r=(f,h,m=!1)=>{const g=e.start.offset+h,b=g+f.length;return Nl(f,!1,ft(g,b),0,m?1:0)},a={source:r(i.trim(),s.indexOf(i,n.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=n.trim().replace(nx,"").trim();const d=n.indexOf(l),u=l.match(Dp);if(u){l=l.replace(Dp,"").trim();const f=u[1].trim();let h;if(f&&(h=s.indexOf(f,d+l.length),a.key=r(f,h,!0)),u[2]){const m=u[2].trim();m&&(a.index=r(m,s.indexOf(m,a.key?h+f.length:d+l.length),!0))}}return l&&(a.value=r(l,d,!0)),a}function $t(t,e){return Uo.slice(t,e)}function Ap(t){et.inSFCRoot&&(Bt.innerLoc=ft(t+1,t+1)),Zu(Bt);const{tag:e,ns:s}=Bt;s===0&&Ye.isPreTag(e)&&Fh++,Ye.isVoidTag(e)?Ol(Bt,t):(ct.unshift(Bt),(s===1||s===2)&&(et.inXML=!0)),Bt=null}function cl(t,e,s){{const i=ct[0]&&ct[0].tag;i!=="script"&&i!=="style"&&t.includes("&")&&(t=Ye.decodeEntities(t,!1))}const o=ct[0]||Ac,n=o.children[o.children.length-1];n&&n.type===2?(n.content+=t,Zn(n.loc,s)):o.children.push({type:2,content:t,loc:ft(e,s)})}function Ol(t,e,s=!1){s?Zn(t.loc,T_(e,60)):Zn(t.loc,rx(e,62)+1),et.inSFCRoot&&(t.children.length?t.innerLoc.end=Pe({},t.children[t.children.length-1].loc.end):t.innerLoc.end=Pe({},t.innerLoc.start),t.innerLoc.source=$t(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:o,ns:n,children:i}=t;if(ln||(o==="slot"?t.tagType=2:lx(t)?t.tagType=3:cx(t)&&(t.tagType=1)),et.inRCDATA||(t.children=M_(i)),n===0&&Ye.isIgnoreNewlineTag(o)){const r=i[0];r&&r.type===2&&(r.content=r.content.replace(/^\r?\n/,""))}n===0&&Ye.isPreTag(o)&&Fh--,Xu===t&&(ln=et.inVPre=!1,Xu=null),et.inXML&&(ct[0]?ct[0].ns:Ye.ns)===0&&(et.inXML=!1)}function rx(t,e){let s=t;for(;Uo.charCodeAt(s)!==e&&s<Uo.length-1;)s++;return s}function T_(t,e){let s=t;for(;Uo.charCodeAt(s)!==e&&s>=0;)s--;return s}const ax=new Set(["if","else","else-if","for","slot"]);function lx({tag:t,props:e}){if(t==="template"){for(let s=0;s<e.length;s++)if(e[s].type===7&&ax.has(e[s].name))return!0}return!1}function cx({tag:t,props:e}){if(Ye.isCustomElement(t))return!1;if(t==="component"||dx(t.charCodeAt(0))||S_(t)||Ye.isBuiltInComponent&&Ye.isBuiltInComponent(t)||Ye.isNativeTag&&!Ye.isNativeTag(t))return!0;for(let s=0;s<e.length;s++){const o=e[s];if(o.type===6&&o.name==="is"&&o.value&&o.value.content.startsWith("vue:"))return!0}return!1}function dx(t){return t>64&&t<91}const ux=/\r\n/g;function M_(t,e){const s=Ye.whitespace!=="preserve";let o=!1;for(let n=0;n<t.length;n++){const i=t[n];if(i.type===2)if(Fh)i.content=i.content.replace(ux,`
`);else if(fx(i.content)){const r=t[n-1]&&t[n-1].type,a=t[n+1]&&t[n+1].type;!r||!a||s&&(r===3&&(a===3||a===1)||r===1&&(a===3||a===1&&hx(i.content)))?(o=!0,t[n]=null):i.content=" "}else s&&(i.content=P_(i.content))}return o?t.filter(Boolean):t}function fx(t){for(let e=0;e<t.length;e++)if(!Ss(t.charCodeAt(e)))return!1;return!0}function hx(t){for(let e=0;e<t.length;e++){const s=t.charCodeAt(e);if(s===10||s===13)return!0}return!1}function P_(t){let e="",s=!1;for(let o=0;o<t.length;o++)Ss(t.charCodeAt(o))?s||(e+=" ",s=!0):(e+=t[o],s=!1);return e}function Zu(t){(ct[0]||Ac).children.push(t)}function ft(t,e){return{start:et.getPos(t),end:e==null?e:et.getPos(e),source:e==null?e:$t(t,e)}}function mx(t){return ft(t.start.offset,t.end.offset)}function Zn(t,e){t.end=et.getPos(e),t.source=$t(t.start.offset,e)}function px(t){const e={type:6,name:t.rawName,nameLoc:ft(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const s=t.exp.loc;s.end.offset<t.loc.end.offset&&(s.start.offset--,s.start.column--,s.end.offset++,s.end.column++),e.value={type:2,content:t.exp.content,loc:s}}return e}function Nl(t,e=!1,s,o=0,n=0){return Me(t,e,s,o)}function as(t,e,s){Ye.onError(qe(t,ft(e,e),void 0,s))}function gx(){et.reset(),Bt=null,We=null,ds="",Mo=-1,jn=-1,ct.length=0}function bx(t,e){if(gx(),Uo=t,Ye=Pe({},A_),e){let n;for(n in e)e[n]!=null&&(Ye[n]=e[n])}if(!Ye.decodeEntities)throw new Error("[@vue/compiler-core] decodeEntities option is required in browser builds.");et.mode=Ye.parseMode==="html"?1:Ye.parseMode==="sfc"?2:0,et.inXML=Ye.ns===1||Ye.ns===2;const s=e&&e.delimiters;s&&(et.delimiterOpen=Sc(s[0]),et.delimiterClose=Sc(s[1]));const o=Ac=V2([],t);return et.parse(Uo),o.loc=ft(0,t.length),o.children=M_(o.children),Ac=null,o}function vx(t,e){Ll(t,void 0,e,I_(t,t.children[0]))}function I_(t,e){const{children:s}=t;return s.length===1&&e.type===1&&!kc(e)}function Ll(t,e,s,o=!1,n=!1){const{children:i}=t,r=[];for(let u=0;u<i.length;u++){const f=i[u];if(f.type===1&&f.tagType===0){const h=o?0:ks(f,s);if(h>0){if(h>=2){f.codegenNode.patchFlag=-1,r.push(f);continue}}else{const m=f.codegenNode;if(m.type===13){const g=m.patchFlag;if((g===void 0||g===512||g===1)&&R_(f,s)>=2){const b=O_(f);b&&(m.props=s.hoist(b))}m.dynamicProps&&(m.dynamicProps=s.hoist(m.dynamicProps))}}}else if(f.type===12&&(o?0:ks(f,s))>=2){r.push(f);continue}if(f.type===1){const h=f.tagType===1;h&&s.scopes.vSlot++,Ll(f,t,s,!1,n),h&&s.scopes.vSlot--}else if(f.type===11)Ll(f,t,s,f.children.length===1,!0);else if(f.type===9)for(let h=0;h<f.branches.length;h++)Ll(f.branches[h],t,s,f.branches[h].children.length===1,n)}let a=!1;if(r.length===i.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&le(t.codegenNode.children))t.codegenNode.children=l(ri(t.codegenNode.children)),a=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!le(t.codegenNode.children)&&t.codegenNode.children.type===15){const u=d(t.codegenNode,"default");u&&(u.returns=l(ri(u.returns)),a=!0)}else if(t.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!le(e.codegenNode.children)&&e.codegenNode.children.type===15){const u=ms(t,"slot",!0),f=u&&u.arg&&d(e.codegenNode,u.arg);f&&(f.returns=l(ri(f.returns)),a=!0)}}if(!a)for(const u of r)u.codegenNode=s.cache(u.codegenNode);function l(u){const f=s.cache(u);return n&&s.hmr&&(f.needArraySpread=!0),f}function d(u,f){if(u.children&&!le(u.children)&&u.children.type===15){const h=u.children.properties.find(m=>m.key===f||m.key.content===f);return h&&h.value}}r.length&&s.transformHoist&&s.transformHoist(i,s,t)}function ks(t,e){const{constantCache:s}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const o=s.get(t);if(o!==void 0)return o;const n=t.codegenNode;if(n.type!==13||n.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(n.patchFlag===void 0){let r=3;const a=R_(t,e);if(a===0)return s.set(t,0),0;a<r&&(r=a);for(let l=0;l<t.children.length;l++){const d=ks(t.children[l],e);if(d===0)return s.set(t,0),0;d<r&&(r=d)}if(r>1)for(let l=0;l<t.props.length;l++){const d=t.props[l];if(d.type===7&&d.name==="bind"&&d.exp){const u=ks(d.exp,e);if(u===0)return s.set(t,0),0;u<r&&(r=u)}}if(n.isBlock){for(let l=0;l<t.props.length;l++)if(t.props[l].type===7)return s.set(t,0),0;e.removeHelper(gi),e.removeHelper(nr(e.inSSR,n.isComponent)),n.isBlock=!1,e.helper(or(e.inSSR,n.isComponent))}return s.set(t,r),r}else return s.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return ks(t.content,e);case 4:return t.constType;case 8:let i=3;for(let r=0;r<t.children.length;r++){const a=t.children[r];if(_e(a)||ys(a))continue;const l=ks(a,e);if(l===0)return 0;l<i&&(i=l)}return i;case 20:return 2;default:return 0}}const yx=new Set([Sh,xh,Ca,Ha]);function F_(t,e){if(t.type===14&&!_e(t.callee)&&yx.has(t.callee)){const s=t.arguments[0];if(s.type===4)return ks(s,e);if(s.type===14)return F_(s,e)}return 0}function R_(t,e){let s=3;const o=O_(t);if(o&&o.type===15){const{properties:n}=o;for(let i=0;i<n.length;i++){const{key:r,value:a}=n[i],l=ks(r,e);if(l===0)return l;l<s&&(s=l);let d;if(a.type===4?d=ks(a,e):a.type===14?d=F_(a,e):d=0,d===0)return d;d<s&&(s=d)}}return s}function O_(t){const e=t.codegenNode;if(e.type===13)return e.props}function _x(t,{filename:e="",prefixIdentifiers:s=!1,hoistStatic:o=!1,hmr:n=!1,cacheHandlers:i=!1,nodeTransforms:r=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:d=mt,isCustomElement:u=mt,expressionPlugins:f=[],scopeId:h=null,slotted:m=!0,ssr:g=!1,inSSR:b=!1,ssrCssVars:v="",bindingMetadata:w=Ie,inline:E=!1,isTS:_=!1,onError:D=Mh,onWarn:k=C_,compatConfig:T}){const O=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),P={filename:e,selfName:O&&vo(Ke(O[1])),prefixIdentifiers:s,hoistStatic:o,hmr:n,cacheHandlers:i,nodeTransforms:r,directiveTransforms:a,transformHoist:l,isBuiltInComponent:d,isCustomElement:u,expressionPlugins:f,scopeId:h,slotted:m,ssr:g,inSSR:b,ssrCssVars:v,bindingMetadata:w,inline:E,isTS:_,onError:D,onWarn:k,compatConfig:T,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(M){const F=P.helpers.get(M)||0;return P.helpers.set(M,F+1),M},removeHelper(M){const F=P.helpers.get(M);if(F){const L=F-1;L?P.helpers.set(M,L):P.helpers.delete(M)}},helperString(M){return`_${tr[P.helper(M)]}`},replaceNode(M){{if(!P.currentNode)throw new Error("Node being replaced is already removed.");if(!P.parent)throw new Error("Cannot replace root node.")}P.parent.children[P.childIndex]=P.currentNode=M},removeNode(M){if(!P.parent)throw new Error("Cannot remove root node.");const F=P.parent.children,L=M?F.indexOf(M):P.currentNode?P.childIndex:-1;if(L<0)throw new Error("node being removed is not a child of current parent");!M||M===P.currentNode?(P.currentNode=null,P.onNodeRemoved()):P.childIndex>L&&(P.childIndex--,P.onNodeRemoved()),P.parent.children.splice(L,1)},onNodeRemoved:mt,addIdentifiers(M){},removeIdentifiers(M){},hoist(M){_e(M)&&(M=Me(M)),P.hoists.push(M);const F=Me(`_hoisted_${P.hoists.length}`,!1,M.loc,2);return F.hoisted=M,F},cache(M,F=!1,L=!1){const N=B2(P.cached.length,M,F,L);return P.cached.push(N),N}};return P}function Ex(t,e){const s=_x(t,e);dd(t,s),e.hoistStatic&&vx(t,s),e.ssr||wx(t,s),t.helpers=new Set([...s.helpers.keys()]),t.components=[...s.components],t.directives=[...s.directives],t.imports=s.imports,t.hoists=s.hoists,t.temps=s.temps,t.cached=s.cached,t.transformed=!0}function wx(t,e){const{helper:s}=e,{children:o}=t;if(o.length===1){const n=o[0];if(I_(t,n)&&n.codegenNode){const i=n.codegenNode;i.type===13&&Th(i,e),t.codegenNode=i}else t.codegenNode=n}else if(o.length>1){let n=64;o.filter(i=>i.type!==3).length===1&&(n|=2048),t.codegenNode=Sa(e,s(wa),void 0,t.children,n,void 0,void 0,!0,void 0,!1)}}function Cx(t,e){let s=0;const o=()=>{s--};for(;s<t.children.length;s++){const n=t.children[s];_e(n)||(e.grandParent=e.parent,e.parent=t,e.childIndex=s,e.onNodeRemoved=o,dd(n,e))}}function dd(t,e){e.currentNode=t;const{nodeTransforms:s}=e,o=[];for(let i=0;i<s.length;i++){const r=s[i](t,e);if(r&&(le(r)?o.push(...r):o.push(r)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(ja);break;case 5:e.ssr||e.helper(cd);break;case 9:for(let i=0;i<t.branches.length;i++)dd(t.branches[i],e);break;case 10:case 11:case 1:case 0:Cx(t,e);break}e.currentNode=t;let n=o.length;for(;n--;)o[n]()}function N_(t,e){const s=_e(t)?o=>o===t:o=>t.test(o);return(o,n)=>{if(o.type===1){const{props:i}=o;if(o.tagType===3&&i.some(ex))return;const r=[];for(let a=0;a<i.length;a++){const l=i[a];if(l.type===7&&s(l.name)){i.splice(a,1),a--;const d=e(o,l,n);d&&r.push(d)}}return r}}}const ud="/*@__PURE__*/",L_=t=>`${tr[t]}: _${tr[t]}`;function Sx(t,{mode:e="function",prefixIdentifiers:s=e==="module",sourceMap:o=!1,filename:n="template.vue.html",scopeId:i=null,optimizeImports:r=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:d="vue/server-renderer",ssr:u=!1,isTS:f=!1,inSSR:h=!1}){const m={mode:e,prefixIdentifiers:s,sourceMap:o,filename:n,scopeId:i,optimizeImports:r,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:d,ssr:u,isTS:f,inSSR:h,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(b){return`_${tr[b]}`},push(b,v=-2,w){m.code+=b},indent(){g(++m.indentLevel)},deindent(b=!1){b?--m.indentLevel:g(--m.indentLevel)},newline(){g(m.indentLevel)}};function g(b){m.push(`
`+"  ".repeat(b),0)}return m}function xx(t,e={}){const s=Sx(t,e);e.onContextCreated&&e.onContextCreated(s);const{mode:o,push:n,prefixIdentifiers:i,indent:r,deindent:a,newline:l,scopeId:d,ssr:u}=s,f=Array.from(t.helpers),h=f.length>0,m=!i&&o!=="module";kx(t,s);const b=u?"ssrRender":"render",w=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(n(`function ${b}(${w}) {`),r(),m&&(n("with (_ctx) {"),r(),h&&(n(`const { ${f.map(L_).join(", ")} } = _Vue
`,-1),l())),t.components.length&&(Tp(t.components,"component",s),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(Tp(t.directives,"directive",s),t.temps>0&&l()),t.temps>0){n("let ");for(let E=0;E<t.temps;E++)n(`${E>0?", ":""}_temp${E}`)}return(t.components.length||t.directives.length||t.temps)&&(n(`
`,0),l()),u||n("return "),t.codegenNode?Gt(t.codegenNode,s):n("null"),m&&(a(),n("}")),a(),n("}"),{ast:t,code:s.code,preamble:"",map:s.map?s.map.toJSON():void 0}}function kx(t,e){const{ssr:s,prefixIdentifiers:o,push:n,newline:i,runtimeModuleName:r,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,d=a,u=Array.from(t.helpers);if(u.length>0&&(n(`const _Vue = ${d}
`,-1),t.hoists.length)){const f=[gh,bh,ja,vh,y_].filter(h=>u.includes(h)).map(L_).join(", ");n(`const { ${f} } = _Vue
`,-1)}Dx(t.hoists,e),i(),n("return ")}function Tp(t,e,{helper:s,push:o,newline:n,isTS:i}){const r=s(e==="component"?yh:Eh);for(let a=0;a<t.length;a++){let l=t[a];const d=l.endsWith("__self");d&&(l=l.slice(0,-6)),o(`const ${Ih(l,e)} = ${r}(${JSON.stringify(l)}${d?", true":""})${i?"!":""}`),a<t.length-1&&n()}}function Dx(t,e){if(!t.length)return;e.pure=!0;const{push:s,newline:o}=e;o();for(let n=0;n<t.length;n++){const i=t[n];i&&(s(`const _hoisted_${n+1} = `),Gt(i,e),o())}e.pure=!1}function Ax(t){return _e(t)||t.type===4||t.type===2||t.type===5||t.type===8}function Rh(t,e){const s=t.length>3||t.some(o=>le(o)||!Ax(o));e.push("["),s&&e.indent(),qa(t,e,s),s&&e.deindent(),e.push("]")}function qa(t,e,s=!1,o=!0){const{push:n,newline:i}=e;for(let r=0;r<t.length;r++){const a=t[r];_e(a)?n(a,-3):le(a)?Rh(a,e):Gt(a,e),r<t.length-1&&(s?(o&&n(","),i()):o&&n(", "))}}function Gt(t,e){if(_e(t)){e.push(t,-3);return}if(ys(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:xp(t.codegenNode!=null,"Codegen node is missing for element/if/for node. Apply appropriate transforms first."),Gt(t.codegenNode,e);break;case 2:Tx(t,e);break;case 4:z_(t,e);break;case 5:Mx(t,e);break;case 12:Gt(t.codegenNode,e);break;case 8:$_(t,e);break;case 3:Ix(t,e);break;case 13:Fx(t,e);break;case 14:Ox(t,e);break;case 15:Nx(t,e);break;case 17:Lx(t,e);break;case 18:zx(t,e);break;case 19:$x(t,e);break;case 20:Vx(t,e);break;case 21:qa(t.body,e,!0,!1);break;case 22:break;case 23:break;case 24:break;case 25:break;case 26:break;case 10:break;default:return xp(!1,`unhandled codegen node type: ${t.type}`),t}}function Tx(t,e){e.push(JSON.stringify(t.content),-3,t)}function z_(t,e){const{content:s,isStatic:o}=t;e.push(o?JSON.stringify(s):s,-3,t)}function Mx(t,e){const{push:s,helper:o,pure:n}=e;n&&s(ud),s(`${o(cd)}(`),Gt(t.content,e),s(")")}function $_(t,e){for(let s=0;s<t.children.length;s++){const o=t.children[s];_e(o)?e.push(o,-3):Gt(o,e)}}function Px(t,e){const{push:s}=e;if(t.type===8)s("["),$_(t,e),s("]");else if(t.isStatic){const o=Ph(t.content)?t.content:JSON.stringify(t.content);s(o,-2,t)}else s(`[${t.content}]`,-3,t)}function Ix(t,e){const{push:s,helper:o,pure:n}=e;n&&s(ud),s(`${o(ja)}(${JSON.stringify(t.content)})`,-3,t)}function Fx(t,e){const{push:s,helper:o,pure:n}=e,{tag:i,props:r,children:a,patchFlag:l,dynamicProps:d,directives:u,isBlock:f,disableTracking:h,isComponent:m}=t;let g;if(l)if(l<0)g=l+` /* ${Tl[l]} */`;else{const v=Object.keys(Tl).map(Number).filter(w=>w>0&&l&w).map(w=>Tl[w]).join(", ");g=l+` /* ${v} */`}u&&s(o(wh)+"("),f&&s(`(${o(gi)}(${h?"true":""}), `),n&&s(ud);const b=f?nr(e.inSSR,m):or(e.inSSR,m);s(o(b)+"(",-2,t),qa(Rx([i,r,a,g,d]),e),s(")"),f&&s(")"),u&&(s(", "),Gt(u,e),s(")"))}function Rx(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(s=>s||"null")}function Ox(t,e){const{push:s,helper:o,pure:n}=e,i=_e(t.callee)?t.callee:o(t.callee);n&&s(ud),s(i+"(",-2,t),qa(t.arguments,e),s(")")}function Nx(t,e){const{push:s,indent:o,deindent:n,newline:i}=e,{properties:r}=t;if(!r.length){s("{}",-2,t);return}const a=r.length>1||r.some(l=>l.value.type!==4);s(a?"{":"{ "),a&&o();for(let l=0;l<r.length;l++){const{key:d,value:u}=r[l];Px(d,e),s(": "),Gt(u,e),l<r.length-1&&(s(","),i())}a&&n(),s(a?"}":" }")}function Lx(t,e){Rh(t.elements,e)}function zx(t,e){const{push:s,indent:o,deindent:n}=e,{params:i,returns:r,body:a,newline:l,isSlot:d}=t;d&&s(`_${tr[Dh]}(`),s("(",-2,t),le(i)?qa(i,e):i&&Gt(i,e),s(") => "),(l||a)&&(s("{"),o()),r?(l&&s("return "),le(r)?Rh(r,e):Gt(r,e)):a&&Gt(a,e),(l||a)&&(n(),s("}")),d&&s(")")}function $x(t,e){const{test:s,consequent:o,alternate:n,newline:i}=t,{push:r,indent:a,deindent:l,newline:d}=e;if(s.type===4){const f=!Ph(s.content);f&&r("("),z_(s,e),f&&r(")")}else r("("),Gt(s,e),r(")");i&&a(),e.indentLevel++,i||r(" "),r("? "),Gt(o,e),e.indentLevel--,i&&d(),i||r(" "),r(": ");const u=n.type===19;u||e.indentLevel++,Gt(n,e),u||e.indentLevel--,i&&l(!0)}function Vx(t,e){const{push:s,helper:o,indent:n,deindent:i,newline:r}=e,{needPauseTracking:a,needArraySpread:l}=t;l&&s("[...("),s(`_cache[${t.index}] || (`),a&&(n(),s(`${o(Cc)}(-1`),t.inVOnce&&s(", true"),s("),"),r(),s("(")),s(`_cache[${t.index}] = `),Gt(t.value,e),a&&(s(`).cacheIndex = ${t.index},`),r(),s(`${o(Cc)}(1),`),r(),s(`_cache[${t.index}]`),i()),s(")"),l&&s(")]")}const Bx=new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b"),Ux=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g;function Yn(t,e,s=!1,o=!1){const n=t.content;if(n.trim())try{new Function(o?` ${n} `:`return ${s?`(${n}) => {}`:`(${n})`}`)}catch(i){let r=i.message;const a=n.replace(Ux,"").match(Bx);a&&(r=`avoid using JavaScript keyword as property name: "${a[0]}"`),e.onError(qe(45,t.loc,void 0,r))}}const jx=(t,e)=>{if(t.type===5)t.content=Yd(t.content,e);else if(t.type===1){const s=ms(t,"memo");for(let o=0;o<t.props.length;o++){const n=t.props[o];if(n.type===7&&n.name!=="for"){const i=n.exp,r=n.arg;i&&i.type===4&&!(n.name==="on"&&r)&&!(s&&r&&r.type===4&&r.content==="key")&&(n.exp=Yd(i,e,n.name==="slot")),r&&r.type===4&&!r.isStatic&&(n.arg=Yd(r,e))}}}};function Yd(t,e,s=!1,o=!1,n=Object.create(e.identifiers)){return Yn(t,e,s,o),t}const Hx=N_(/^(if|else|else-if)$/,(t,e,s)=>qx(t,e,s,(o,n,i)=>{const r=s.parent.children;let a=r.indexOf(o),l=0;for(;a-->=0;){const d=r[a];d&&d.type===9&&(l+=d.branches.length)}return()=>{if(i)o.codegenNode=Pp(n,l,s);else{const d=Kx(o.codegenNode);d.alternate=Pp(n,l+o.branches.length-1,s)}}}));function qx(t,e,s,o){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const n=e.exp?e.exp.loc:t.loc;s.onError(qe(28,e.loc)),e.exp=Me("true",!1,n)}if(e.exp&&Yn(e.exp,s),e.name==="if"){const n=Mp(t,e),i={type:9,loc:mx(t.loc),branches:[n]};if(s.replaceNode(i),o)return o(i,n,!0)}else{const n=s.parent.children,i=[];let r=n.indexOf(t);for(;r-->=-1;){const a=n[r];if(a&&a.type===3){s.removeNode(a),i.unshift(a);continue}if(a&&a.type===2&&!a.content.trim().length){s.removeNode(a);continue}if(a&&a.type===9){e.name==="else-if"&&a.branches[a.branches.length-1].condition===void 0&&s.onError(qe(30,t.loc)),s.removeNode();const l=Mp(t,e);i.length&&!(s.parent&&s.parent.type===1&&(s.parent.tag==="transition"||s.parent.tag==="Transition"))&&(l.children=[...i,...l.children]);{const u=l.userKey;u&&a.branches.forEach(({userKey:f})=>{Wx(f,u)&&s.onError(qe(29,l.userKey.loc))})}a.branches.push(l);const d=o&&o(a,l,!1);dd(l,s),d&&d(),s.currentNode=null}else s.onError(qe(30,t.loc));break}}}function Mp(t,e){const s=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:s&&!ms(t,"for")?t.children:[t],userKey:xa(t,"key"),isTemplateIf:s}}function Pp(t,e,s){return t.condition?Gu(t.condition,Ip(t,e,s),yt(s.helper(ja),['"v-if"',"true"])):Ip(t,e,s)}function Ip(t,e,s){const{helper:o}=s,n=pt("key",Me(`${e}`,!1,Ms,2)),{children:i}=t,r=i[0];if(i.length!==1||r.type!==1)if(i.length===1&&r.type===11){const l=r.codegenNode;return Dc(l,n,s),l}else{let l=64;return!t.isTemplateIf&&i.filter(d=>d.type!==3).length===1&&(l|=2048),Sa(s,o(wa),Rs([n]),i,l,void 0,void 0,!0,!1,!1,t.loc)}else{const l=r.codegenNode,d=sx(l);return d.type===13&&Th(d,s),Dc(d,n,s),l}}function Wx(t,e){if(!t||t.type!==e.type)return!1;if(t.type===6){if(t.value.content!==e.value.content)return!1}else{const s=t.exp,o=e.exp;if(s.type!==o.type||s.type!==4||s.isStatic!==o.isStatic||s.content!==o.content)return!1}return!0}function Kx(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const Gx=(t,e,s)=>{const{modifiers:o,loc:n}=t,i=t.arg;let{exp:r}=t;if(r&&r.type===4&&!r.content.trim()&&(r=void 0),!r){if(i.type!==4||!i.isStatic)return s.onError(qe(52,i.loc)),{props:[pt(i,Me("",!0,n))]};V_(t),r=t.exp}return i.type!==4?(i.children.unshift("("),i.children.push(') || ""')):i.isStatic||(i.content=`${i.content} || ""`),o.some(a=>a.content==="camel")&&(i.type===4?i.isStatic?i.content=Ke(i.content):i.content=`${s.helperString(Wu)}(${i.content})`:(i.children.unshift(`${s.helperString(Wu)}(`),i.children.push(")"))),s.inSSR||(o.some(a=>a.content==="prop")&&Fp(i,"."),o.some(a=>a.content==="attr")&&Fp(i,"^")),{props:[pt(i,r)]}},V_=(t,e)=>{const s=t.arg,o=Ke(s.content);t.exp=Me(o,!1,s.loc)},Fp=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},Xx=N_("for",(t,e,s)=>{const{helper:o,removeHelper:n}=s;return Zx(t,e,s,i=>{const r=yt(o(Ch),[i.source]),a=xc(t),l=ms(t,"memo"),d=xa(t,"key",!1,!0);d&&d.type===7&&!d.exp&&V_(d);let f=d&&(d.type===6?d.value?Me(d.value.content,!0):void 0:d.exp);const h=d&&f?pt("key",f):null,m=i.source.type===4&&i.source.constType>0,g=m?64:d?128:256;return i.codegenNode=Sa(s,o(wa),void 0,r,g,void 0,void 0,!0,!m,!1,t.loc),()=>{let b;const{children:v}=i;a&&t.children.some(_=>{if(_.type===1){const D=xa(_,"key");if(D)return s.onError(qe(33,D.loc)),!0}});const w=v.length!==1||v[0].type!==1,E=kc(t)?t:a&&t.children.length===1&&kc(t.children[0])?t.children[0]:null;if(E?(b=E.codegenNode,a&&h&&Dc(b,h,s)):w?b=Sa(s,o(wa),h?Rs([h]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(b=v[0].codegenNode,a&&h&&Dc(b,h,s),b.isBlock!==!m&&(b.isBlock?(n(gi),n(nr(s.inSSR,b.isComponent))):n(or(s.inSSR,b.isComponent))),b.isBlock=!m,b.isBlock?(o(gi),o(nr(s.inSSR,b.isComponent))):o(or(s.inSSR,b.isComponent))),l){const _=sr(Yu(i.parseResult,[Me("_cached")]));_.body=U2([Js(["const _memo = (",l.exp,")"]),Js(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${s.helperString(w_)}(_cached, _memo)) return _cached`]),Js(["const _item = ",b]),Me("_item.memo = _memo"),Me("return _item")]),r.arguments.push(_,Me("_cache"),Me(String(s.cached.length))),s.cached.push(null)}else r.arguments.push(sr(Yu(i.parseResult),b,!0))}})});function Zx(t,e,s,o){if(!e.exp){s.onError(qe(31,e.loc));return}const n=e.forParseResult;if(!n){s.onError(qe(32,e.loc));return}B_(n,s);const{addIdentifiers:i,removeIdentifiers:r,scopes:a}=s,{source:l,value:d,key:u,index:f}=n,h={type:11,loc:e.loc,source:l,valueAlias:d,keyAlias:u,objectIndexAlias:f,parseResult:n,children:xc(t)?t.children:[t]};s.replaceNode(h),a.vFor++;const m=o&&o(h);return()=>{a.vFor--,m&&m()}}function B_(t,e){t.finalized||(Yn(t.source,e),t.key&&Yn(t.key,e,!0),t.index&&Yn(t.index,e,!0),t.value&&Yn(t.value,e,!0),t.finalized=!0)}function Yu({value:t,key:e,index:s},o=[]){return Yx([t,e,s,...o])}function Yx(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((s,o)=>s||Me("_".repeat(o+1),!1))}const Rp=Me("undefined",!1),Jx=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const s=ms(t,"slot");if(s)return s.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},Qx=(t,e,s,o)=>sr(t,s,!1,!0,s.length?s[0].loc:o);function ek(t,e,s=Qx){e.helper(Dh);const{children:o,loc:n}=t,i=[],r=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const l=ms(t,"slot",!0);if(l){const{arg:v,exp:w}=l;v&&!bs(v)&&(a=!0),i.push(pt(v||Me("default",!0),s(w,void 0,o,n)))}let d=!1,u=!1;const f=[],h=new Set;let m=0;for(let v=0;v<o.length;v++){const w=o[v];let E;if(!xc(w)||!(E=ms(w,"slot",!0))){w.type!==3&&f.push(w);continue}if(l){e.onError(qe(37,E.loc));break}d=!0;const{children:_,loc:D}=w,{arg:k=Me("default",!0),exp:T,loc:O}=E;let P;bs(k)?P=k?k.content:"default":a=!0;const M=ms(w,"for"),F=s(T,M,_,D);let L,N;if(L=ms(w,"if"))a=!0,r.push(Gu(L.exp,dl(k,F,m++),Rp));else if(N=ms(w,/^else(-if)?$/,!0)){let z=v,G;for(;z--&&(G=o[z],G.type===3););if(G&&xc(G)&&ms(G,/^(else-)?if$/)){let te=r[r.length-1];for(;te.alternate.type===19;)te=te.alternate;te.alternate=N.exp?Gu(N.exp,dl(k,F,m++),Rp):dl(k,F,m++)}else e.onError(qe(30,N.loc))}else if(M){a=!0;const z=M.forParseResult;z?(B_(z,e),r.push(yt(e.helper(Ch),[z.source,sr(Yu(z),dl(k,F),!0)]))):e.onError(qe(32,M.loc))}else{if(P){if(h.has(P)){e.onError(qe(38,O));continue}h.add(P),P==="default"&&(u=!0)}i.push(pt(k,F))}}if(!l){const v=(w,E)=>{const _=s(w,void 0,E,n);return pt("default",_)};d?f.length&&f.some(w=>U_(w))&&(u?e.onError(qe(39,f[0].loc)):i.push(v(void 0,f))):i.push(v(void 0,o))}const g=a?2:zl(t.children)?3:1;let b=Rs(i.concat(pt("_",Me(g+` /* ${DE[g]} */`,!1))),n);return r.length&&(b=yt(e.helper(E_),[b,ri(r)])),{slots:b,hasDynamicSlots:a}}function dl(t,e,s){const o=[pt("name",t),pt("fn",e)];return s!=null&&o.push(pt("key",Me(String(s),!0))),Rs(o)}function zl(t){for(let e=0;e<t.length;e++){const s=t[e];switch(s.type){case 1:if(s.tagType===2||zl(s.children))return!0;break;case 9:if(zl(s.branches))return!0;break;case 10:case 11:if(zl(s.children))return!0;break}}return!1}function U_(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():U_(t.content)}const j_=new WeakMap,tk=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:o,props:n}=t,i=t.tagType===1;let r=i?sk(t,e):`"${o}"`;const a=Ne(r)&&r.callee===_h;let l,d,u=0,f,h,m,g=a||r===na||r===ph||!i&&(o==="svg"||o==="foreignObject"||o==="math");if(n.length>0){const b=H_(t,e,void 0,i,a);l=b.props,u=b.patchFlag,h=b.dynamicPropNames;const v=b.directives;m=v&&v.length?ri(v.map(w=>nk(w,e))):void 0,b.shouldUseBlock&&(g=!0)}if(t.children.length>0)if(r===Ec&&(g=!0,u|=1024,t.children.length>1&&e.onError(qe(46,{start:t.children[0].loc.start,end:t.children[t.children.length-1].loc.end,source:""}))),i&&r!==na&&r!==Ec){const{slots:v,hasDynamicSlots:w}=ek(t,e);d=v,w&&(u|=1024)}else if(t.children.length===1&&r!==na){const v=t.children[0],w=v.type,E=w===5||w===8;E&&ks(v,e)===0&&(u|=1),E||w===2?d=v:d=t.children}else d=t.children;h&&h.length&&(f=ik(h)),t.codegenNode=Sa(e,r,l,d,u===0?void 0:u,f,m,!!g,!1,i,t.loc)};function sk(t,e,s=!1){let{tag:o}=t;const n=Ju(o),i=xa(t,"is",!1,!0);if(i)if(n){let a;if(i.type===6?a=i.value&&Me(i.value.content,!0):(a=i.exp,a||(a=Me("is",!1,i.arg.loc))),a)return yt(e.helper(_h),[a])}else i.type===6&&i.value.content.startsWith("vue:")&&(o=i.value.content.slice(4));const r=S_(o)||e.isBuiltInComponent(o);return r?(s||e.helper(r),r):(e.helper(yh),e.components.add(o),Ih(o,"component"))}function H_(t,e,s=t.props,o,n,i=!1){const{tag:r,loc:a,children:l}=t;let d=[];const u=[],f=[],h=l.length>0;let m=!1,g=0,b=!1,v=!1,w=!1,E=!1,_=!1,D=!1;const k=[],T=F=>{d.length&&(u.push(Rs(Op(d),a)),d=[]),F&&u.push(F)},O=()=>{e.scopes.vFor>0&&d.push(pt(Me("ref_for",!0),Me("true")))},P=({key:F,value:L})=>{if(bs(F)){const N=F.content,z=An(N);if(z&&(!o||n)&&N.toLowerCase()!=="onclick"&&N!=="onUpdate:modelValue"&&!bn(N)&&(E=!0),z&&bn(N)&&(D=!0),z&&L.type===14&&(L=L.arguments[0]),L.type===20||(L.type===4||L.type===8)&&ks(L,e)>0)return;N==="ref"?b=!0:N==="class"?v=!0:N==="style"?w=!0:N!=="key"&&!k.includes(N)&&k.push(N),o&&(N==="class"||N==="style")&&!k.includes(N)&&k.push(N)}else _=!0};for(let F=0;F<s.length;F++){const L=s[F];if(L.type===6){const{loc:N,name:z,nameLoc:G,value:te}=L;let Z=!0;if(z==="ref"&&(b=!0,O()),z==="is"&&(Ju(r)||te&&te.content.startsWith("vue:")))continue;d.push(pt(Me(z,!0,G),Me(te?te.content:"",Z,te?te.loc:N)))}else{const{name:N,arg:z,exp:G,loc:te,modifiers:Z}=L,Q=N==="bind",ie=N==="on";if(N==="slot"){o||e.onError(qe(40,te));continue}if(N==="once"||N==="memo"||N==="is"||Q&&Xn(z,"is")&&Ju(r)||ie&&i)continue;if((Q&&Xn(z,"key")||ie&&h&&Xn(z,"vue:before-update"))&&(m=!0),Q&&Xn(z,"ref")&&O(),!z&&(Q||ie)){_=!0,G?Q?(O(),T(),u.push(G)):T({type:14,loc:te,callee:e.helper(kh),arguments:o?[G]:[G,"true"]}):e.onError(qe(Q?34:35,te));continue}Q&&Z.some(nt=>nt.content==="prop")&&(g|=32);const xe=e.directiveTransforms[N];if(xe){const{props:nt,needRuntime:Mt}=xe(L,t,e);!i&&nt.forEach(P),ie&&z&&!bs(z)?T(Rs(nt,a)):d.push(...nt),Mt&&(f.push(L),ys(Mt)&&j_.set(L,Mt))}else sv(N)||(f.push(L),h&&(m=!0))}}let M;if(u.length?(T(),u.length>1?M=yt(e.helper(wc),u,a):M=u[0]):d.length&&(M=Rs(Op(d),a)),_?g|=16:(v&&!o&&(g|=2),w&&!o&&(g|=4),k.length&&(g|=8),E&&(g|=32)),!m&&(g===0||g===32)&&(b||D||f.length>0)&&(g|=512),!e.inSSR&&M)switch(M.type){case 15:let F=-1,L=-1,N=!1;for(let te=0;te<M.properties.length;te++){const Z=M.properties[te].key;bs(Z)?Z.content==="class"?F=te:Z.content==="style"&&(L=te):Z.isHandlerKey||(N=!0)}const z=M.properties[F],G=M.properties[L];N?M=yt(e.helper(Ca),[M]):(z&&!bs(z.value)&&(z.value=yt(e.helper(Sh),[z.value])),G&&(w||G.value.type===4&&G.value.content.trim()[0]==="["||G.value.type===17)&&(G.value=yt(e.helper(xh),[G.value])));break;case 14:break;default:M=yt(e.helper(Ca),[yt(e.helper(Ha),[M])]);break}return{props:M,directives:f,patchFlag:g,dynamicPropNames:k,shouldUseBlock:m}}function Op(t){const e=new Map,s=[];for(let o=0;o<t.length;o++){const n=t[o];if(n.key.type===8||!n.key.isStatic){s.push(n);continue}const i=n.key.content,r=e.get(i);r?(i==="style"||i==="class"||An(i))&&ok(r,n):(e.set(i,n),s.push(n))}return s}function ok(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=ri([t.value,e.value],t.loc)}function nk(t,e){const s=[],o=j_.get(t);o?s.push(e.helperString(o)):(e.helper(Eh),e.directives.add(t.name),s.push(Ih(t.name,"directive")));const{loc:n}=t;if(t.exp&&s.push(t.exp),t.arg&&(t.exp||s.push("void 0"),s.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||s.push("void 0"),s.push("void 0"));const i=Me("true",!1,n);s.push(Rs(t.modifiers.map(r=>pt(r,i)),n))}return ri(s,t.loc)}function ik(t){let e="[";for(let s=0,o=t.length;s<o;s++)e+=JSON.stringify(t[s]),s<o-1&&(e+=", ");return e+"]"}function Ju(t){return t==="component"||t==="Component"}const rk=(t,e)=>{if(kc(t)){const{children:s,loc:o}=t,{slotName:n,slotProps:i}=ak(t,e),r=[e.prefixIdentifiers?"_ctx.$slots":"$slots",n,"{}","undefined","true"];let a=2;i&&(r[2]=i,a=3),s.length&&(r[3]=sr([],s,!1,!1,o),a=4),e.scopeId&&!e.slotted&&(a=5),r.splice(a),t.codegenNode=yt(e.helper(__),r,o)}};function ak(t,e){let s='"default"',o;const n=[];for(let i=0;i<t.props.length;i++){const r=t.props[i];if(r.type===6)r.value&&(r.name==="name"?s=JSON.stringify(r.value.content):(r.name=Ke(r.name),n.push(r)));else if(r.name==="bind"&&Xn(r.arg,"name")){if(r.exp)s=r.exp;else if(r.arg&&r.arg.type===4){const a=Ke(r.arg.content);s=r.exp=Me(a,!1,r.arg.loc)}}else r.name==="bind"&&r.arg&&bs(r.arg)&&(r.arg.content=Ke(r.arg.content)),n.push(r)}if(n.length>0){const{props:i,directives:r}=H_(t,e,n,!1,!1);o=i,r.length&&e.onError(qe(36,r[0].loc))}return{slotName:s,slotProps:o}}const q_=(t,e,s,o)=>{const{loc:n,modifiers:i,arg:r}=t;!t.exp&&!i.length&&s.onError(qe(35,n));let a;if(r.type===4)if(r.isStatic){let f=r.content;f.startsWith("vnode")&&s.onError(qe(51,r.loc)),f.startsWith("vue:")&&(f=`vnode-${f.slice(4)}`);const h=e.tagType!==0||f.startsWith("vnode")||!/[A-Z]/.test(f)?fo(Ke(f)):`on:${f}`;a=Me(h,!0,r.loc)}else a=Js([`${s.helperString(Ku)}(`,r,")"]);else a=r,a.children.unshift(`${s.helperString(Ku)}(`),a.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let d=s.cacheHandlers&&!l&&!s.inVOnce;if(l){const f=k_(l),h=!(f||J2(l)),m=l.content.includes(";");Yn(l,s,!1,m),(h||d&&f)&&(l=Js([`${h?"$event":"(...args)"} => ${m?"{":"("}`,l,m?"}":")"]))}let u={props:[pt(a,l||Me("() => {}",!1,n))]};return o&&(u=o(u)),d&&(u.props[0].value=s.cache(u.props[0].value)),u.props.forEach(f=>f.key.isHandlerKey=!0),u},lk=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const s=t.children;let o,n=!1;for(let i=0;i<s.length;i++){const r=s[i];if(Zd(r)){n=!0;for(let a=i+1;a<s.length;a++){const l=s[a];if(Zd(l))o||(o=s[i]=Js([r],r.loc)),o.children.push(" + ",l),s.splice(a,1),a--;else{o=void 0;break}}}}if(!(!n||s.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(i=>i.type===7&&!e.directiveTransforms[i.name]))))for(let i=0;i<s.length;i++){const r=s[i];if(Zd(r)||r.type===8){const a=[];(r.type!==2||r.content!==" ")&&a.push(r),!e.ssr&&ks(r,e)===0&&a.push(`1 /* ${Tl[1]} */`),s[i]={type:12,content:r,loc:r.loc,codegenNode:yt(e.helper(vh),a)}}}}},Np=new WeakSet,ck=(t,e)=>{if(t.type===1&&ms(t,"once",!0))return Np.has(t)||e.inVOnce||e.inSSR?void 0:(Np.add(t),e.inVOnce=!0,e.helper(Cc),()=>{e.inVOnce=!1;const s=e.currentNode;s.codegenNode&&(s.codegenNode=e.cache(s.codegenNode,!0,!0))})},W_=(t,e,s)=>{const{exp:o,arg:n}=t;if(!o)return s.onError(qe(41,t.loc)),ul();const i=o.loc.source.trim(),r=o.type===4?o.content:i,a=s.bindingMetadata[i];if(a==="props"||a==="props-aliased")return s.onError(qe(44,o.loc)),ul();if(!r.trim()||!k_(o))return s.onError(qe(42,o.loc)),ul();const l=n||Me("modelValue",!0),d=n?bs(n)?`onUpdate:${Ke(n.content)}`:Js(['"onUpdate:" + ',n]):"onUpdate:modelValue";let u;const f=s.isTS?"($event: any)":"$event";u=Js([`${f} => ((`,o,") = $event)"]);const h=[pt(l,t.exp),pt(d,u)];if(t.modifiers.length&&e.tagType===1){const m=t.modifiers.map(b=>b.content).map(b=>(Ph(b)?b:JSON.stringify(b))+": true").join(", "),g=n?bs(n)?`${n.content}Modifiers`:Js([n,' + "Modifiers"']):"modelModifiers";h.push(pt(g,Me(`{ ${m} }`,!1,t.loc,2)))}return ul(h)};function ul(t=[]){return{props:t}}const Lp=new WeakSet,dk=(t,e)=>{if(t.type===1){const s=ms(t,"memo");return!s||Lp.has(t)?void 0:(Lp.add(t),()=>{const o=t.codegenNode||e.currentNode.codegenNode;o&&o.type===13&&(t.tagType!==1&&Th(o,e),t.codegenNode=yt(e.helper(Ah),[s.exp,sr(void 0,o),"_cache",String(e.cached.length)]),e.cached.push(null))})}};function uk(t){return[[ck,Hx,dk,Xx,jx,rk,tk,Jx,lk],{on:q_,bind:Gx,model:W_}]}function fk(t,e={}){const s=e.onError||Mh,o=e.mode==="module";e.prefixIdentifiers===!0?s(qe(47)):o&&s(qe(48));const n=!1;e.cacheHandlers&&s(qe(49)),e.scopeId&&!o&&s(qe(50));const i=Pe({},e,{prefixIdentifiers:n}),r=_e(t)?bx(t,i):t,[a,l]=uk();return Ex(r,Pe({},i,{nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:Pe({},l,e.directiveTransforms||{})})),xx(r,i)}const hk=()=>({props:[]}),K_=Symbol("vModelRadio"),G_=Symbol("vModelCheckbox"),X_=Symbol("vModelText"),Z_=Symbol("vModelSelect"),Qu=Symbol("vModelDynamic"),Y_=Symbol("vOnModifiersGuard"),J_=Symbol("vOnKeysGuard"),Q_=Symbol("vShow"),Oh=Symbol("Transition"),e1=Symbol("TransitionGroup");$2({[K_]:"vModelRadio",[G_]:"vModelCheckbox",[X_]:"vModelText",[Z_]:"vModelSelect",[Qu]:"vModelDynamic",[Y_]:"withModifiers",[J_]:"withKeys",[Q_]:"vShow",[Oh]:"Transition",[e1]:"TransitionGroup"});let ki;function mk(t,e=!1){return ki||(ki=document.createElement("div")),e?(ki.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,ki.children[0].getAttribute("foo")):(ki.innerHTML=t,ki.textContent)}const pk={parseMode:"html",isVoidTag:VE,isNativeTag:t=>nv(t)||iv(t)||rv(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:mk,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return Oh;if(t==="TransitionGroup"||t==="transition-group")return e1},getNamespace(t,e,s){let o=e?e.ns:s;if(e&&o===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(n=>n.type===6&&n.name==="encoding"&&n.value!=null&&(n.value.content==="text/html"||n.value.content==="application/xhtml+xml"))&&(o=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(o=0);else e&&o===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(o=0);if(o===0){if(t==="svg")return 1;if(t==="math")return 2}return o}},gk=t=>{t.type===1&&t.props.forEach((e,s)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[s]={type:7,name:"bind",arg:Me("style",!0,e.loc),exp:bk(e.value.content,e.loc),modifiers:[],loc:e.loc})})},bk=(t,e)=>{const s=ov(t);return Me(JSON.stringify(s),!1,e,3)};function Ks(t,e){return qe(t,e,vk)}const vk={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},yk=(t,e,s)=>{const{exp:o,loc:n}=t;return o||s.onError(Ks(53,n)),e.children.length&&(s.onError(Ks(54,n)),e.children.length=0),{props:[pt(Me("innerHTML",!0,n),o||Me("",!0))]}},_k=(t,e,s)=>{const{exp:o,loc:n}=t;return o||s.onError(Ks(55,n)),e.children.length&&(s.onError(Ks(56,n)),e.children.length=0),{props:[pt(Me("textContent",!0),o?ks(o,s)>0?o:yt(s.helperString(cd),[o],n):Me("",!0))]}},Ek=(t,e,s)=>{const o=W_(t,e,s);if(!o.props.length||e.tagType===1)return o;t.arg&&s.onError(Ks(58,t.arg.loc));function n(){const a=ms(e,"bind");a&&Xn(a.arg,"value")&&s.onError(Ks(60,a.loc))}const{tag:i}=e,r=s.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||r){let a=X_,l=!1;if(i==="input"||r){const d=xa(e,"type");if(d){if(d.type===7)a=Qu;else if(d.value)switch(d.value.content){case"radio":a=K_;break;case"checkbox":a=G_;break;case"file":l=!0,s.onError(Ks(59,t.loc));break;default:n();break}}else Q2(e)?a=Qu:n()}else i==="select"?a=Z_:n();l||(o.needRuntime=s.helper(a))}else s.onError(Ks(57,t.loc));return o.props=o.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),o},wk=Dt("passive,once,capture"),Ck=Dt("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Sk=Dt("left,right"),t1=Dt("onkeyup,onkeydown,onkeypress"),xk=(t,e,s,o)=>{const n=[],i=[],r=[];for(let a=0;a<e.length;a++){const l=e[a].content;wk(l)?r.push(l):Sk(l)?bs(t)?t1(t.content.toLowerCase())?n.push(l):i.push(l):(n.push(l),i.push(l)):Ck(l)?i.push(l):n.push(l)}return{keyModifiers:n,nonKeyModifiers:i,eventOptionModifiers:r}},zp=(t,e)=>bs(t)&&t.content.toLowerCase()==="onclick"?Me(e,!0):t.type!==4?Js(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,kk=(t,e,s)=>q_(t,e,s,o=>{const{modifiers:n}=t;if(!n.length)return o;let{key:i,value:r}=o.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:d}=xk(i,n,s,t.loc);if(l.includes("right")&&(i=zp(i,"onContextmenu")),l.includes("middle")&&(i=zp(i,"onMouseup")),l.length&&(r=yt(s.helper(Y_),[r,JSON.stringify(l)])),a.length&&(!bs(i)||t1(i.content.toLowerCase()))&&(r=yt(s.helper(J_),[r,JSON.stringify(a)])),d.length){const u=d.map(vo).join("");i=bs(i)?Me(`${i.content}${u}`,!0):Js(["(",i,`) + "${u}"`])}return{props:[pt(i,r)]}}),Dk=(t,e,s)=>{const{exp:o,loc:n}=t;return o||s.onError(Ks(61,n)),{props:[],needRuntime:s.helper(Q_)}},Ak=(t,e)=>{if(t.type===1&&t.tagType===1&&e.isBuiltInComponent(t.tag)===Oh)return()=>{if(!t.children.length)return;s1(t)&&e.onError(Ks(62,{start:t.children[0].loc.start,end:t.children[t.children.length-1].loc.end,source:""}));const o=t.children[0];if(o.type===1)for(const n of o.props)n.type===7&&n.name==="show"&&t.props.push({type:6,name:"persisted",nameLoc:t.loc,value:void 0,loc:t.loc})}};function s1(t){const e=t.children=t.children.filter(o=>o.type!==3&&!(o.type===2&&!o.content.trim())),s=e[0];return e.length!==1||s.type===11||s.type===9&&s.branches.some(s1)}const Tk=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&(e.onError(Ks(63,t.loc)),e.removeNode())};function Mk(t,e){return t in $p?$p[t].has(e):e in Vp?Vp[e].has(t):!(t in Bp&&Bp[t].has(e)||e in Up&&Up[e].has(t))}const Di=new Set(["h1","h2","h3","h4","h5","h6"]),Hn=new Set([]),$p={head:new Set(["base","basefront","bgsound","link","meta","title","noscript","noframes","style","script","template"]),optgroup:new Set(["option"]),select:new Set(["optgroup","option","hr"]),table:new Set(["caption","colgroup","tbody","tfoot","thead"]),tr:new Set(["td","th"]),colgroup:new Set(["col"]),tbody:new Set(["tr"]),thead:new Set(["tr"]),tfoot:new Set(["tr"]),script:Hn,iframe:Hn,option:Hn,textarea:Hn,style:Hn,title:Hn},Vp={html:Hn,body:new Set(["html"]),head:new Set(["html"]),td:new Set(["tr"]),colgroup:new Set(["table"]),caption:new Set(["table"]),tbody:new Set(["table"]),tfoot:new Set(["table"]),col:new Set(["colgroup"]),th:new Set(["tr"]),thead:new Set(["table"]),tr:new Set(["tbody","thead","tfoot"]),dd:new Set(["dl","div"]),dt:new Set(["dl","div"]),figcaption:new Set(["figure"]),summary:new Set(["details"]),area:new Set(["map"])},Bp={p:new Set(["address","article","aside","blockquote","center","details","dialog","dir","div","dl","fieldset","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","menu","ol","p","pre","section","table","ul"]),svg:new Set(["b","blockquote","br","code","dd","div","dl","dt","em","embed","h1","h2","h3","h4","h5","h6","hr","i","img","li","menu","meta","ol","p","pre","ruby","s","small","span","strong","sub","sup","table","u","ul","var"])},Up={a:new Set(["a"]),button:new Set(["button"]),dd:new Set(["dd","dt"]),dt:new Set(["dd","dt"]),form:new Set(["form"]),li:new Set(["li"]),h1:Di,h2:Di,h3:Di,h4:Di,h5:Di,h6:Di},Pk=(t,e)=>{if(t.type===1&&t.tagType===0&&e.parent&&e.parent.type===1&&e.parent.tagType===0&&!Mk(e.parent.tag,t.tag)){const s=new SyntaxError(`<${t.tag}> cannot be child of <${e.parent.tag}>, according to HTML specifications. This can cause hydration errors or potentially disrupt future functionality.`);s.loc=t.loc,e.onWarn(s)}},Ik=[gk,Ak,Pk],Fk={cloak:hk,html:yk,text:_k,model:Ek,on:kk,show:Dk};function Rk(t,e={}){return fk(t,Pe({},pk,e,{nodeTransforms:[Tk,...Ik,...e.nodeTransforms||[]],directiveTransforms:Pe({},Fk,e.directiveTransforms||{}),transformHoist:null}))}I2();const jp=Object.create(null);function Ok(t,e){if(!_e(t))if(t.nodeType)t=t.innerHTML;else return lt("invalid template option: ",t),mt;const s=kE(t,e),o=jp[s];if(o)return o;if(t[0]==="#"){const l=document.querySelector(t);l||lt(`Template element not found or is empty: ${t}`),t=l?l.innerHTML:""}const n=Pe({hoistStatic:!0,onError:r,onWarn:l=>r(l,!0)},e);!n.isCustomElement&&typeof customElements<"u"&&(n.isCustomElement=l=>!!customElements.get(l));const{code:i}=Rk(t,n);function r(l,d=!1){const u=d?l.message:`Template compilation error: ${l.message}`,f=l.loc&&ME(t,l.loc.start.offset,l.loc.end.offset);lt(f?`${u}
${f}`:u)}const a=new Function("Vue",i)(P2);return a._rc=!0,jp[s]=a}By(Ok);/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let o1;const fd=t=>o1=t,n1=Symbol();function ef(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ia;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ia||(ia={}));function Nk(){const t=Uf(!0),e=t.run(()=>ge({}));let s=[],o=[];const n=Zc({install(i){fd(n),n._a=i,i.provide(n1,n),i.config.globalProperties.$pinia=n,o.forEach(r=>s.push(r)),o=[]},use(i){return this._a?s.push(i):o.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const i1=()=>{};function Hp(t,e,s,o=i1){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),o())};return!s&&jf()&&dv(n),n}function Ai(t,...e){t.slice().forEach(s=>{s(...e)})}const Lk=t=>t(),qp=Symbol(),Jd=Symbol();function tf(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,o)=>t.set(o,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const o=e[s],n=t[s];ef(n)&&ef(o)&&t.hasOwnProperty(s)&&!Ge(o)&&!Ys(o)?t[s]=tf(n,o):t[s]=o}return t}const zk=Symbol();function $k(t){return!ef(t)||!t.hasOwnProperty(zk)}const{assign:tn}=Object;function Vk(t){return!!(Ge(t)&&t.effect)}function Bk(t,e,s,o){const{state:n,actions:i,getters:r}=e,a=s.state.value[t];let l;function d(){a||(s.state.value[t]=n?n():{});const u=Av(s.state.value[t]);return tn(u,i,Object.keys(r||{}).reduce((f,h)=>(f[h]=Zc(we(()=>{fd(s);const m=s._s.get(t);return r[h].call(m,m)})),f),{}))}return l=r1(t,d,e,s,o,!0),l}function r1(t,e,s={},o,n,i){let r;const a=tn({actions:{}},s),l={deep:!0};let d,u,f=[],h=[],m;const g=o.state.value[t];!i&&!g&&(o.state.value[t]={}),ge({});let b;function v(P){let M;d=u=!1,typeof P=="function"?(P(o.state.value[t]),M={type:ia.patchFunction,storeId:t,events:m}):(tf(o.state.value[t],P),M={type:ia.patchObject,payload:P,storeId:t,events:m});const F=b=Symbol();pr().then(()=>{b===F&&(d=!0)}),u=!0,Ai(f,M,o.state.value[t])}const w=i?function(){const{state:M}=s,F=M?M():{};this.$patch(L=>{tn(L,F)})}:i1;function E(){r.stop(),f=[],h=[],o._s.delete(t)}const _=(P,M="")=>{if(qp in P)return P[Jd]=M,P;const F=function(){fd(o);const L=Array.from(arguments),N=[],z=[];function G(Q){N.push(Q)}function te(Q){z.push(Q)}Ai(h,{args:L,name:F[Jd],store:k,after:G,onError:te});let Z;try{Z=P.apply(this&&this.$id===t?this:k,L)}catch(Q){throw Ai(z,Q),Q}return Z instanceof Promise?Z.then(Q=>(Ai(N,Q),Q)).catch(Q=>(Ai(z,Q),Promise.reject(Q))):(Ai(N,Z),Z)};return F[qp]=!0,F[Jd]=M,F},D={_p:o,$id:t,$onAction:Hp.bind(null,h),$patch:v,$reset:w,$subscribe(P,M={}){const F=Hp(f,P,M.detached,()=>L()),L=r.run(()=>Os(()=>o.state.value[t],N=>{(M.flush==="sync"?u:d)&&P({storeId:t,type:ia.direct,events:m},N)},tn({},l,M)));return F},$dispose:E},k=yo(D);o._s.set(t,k);const O=(o._a&&o._a.runWithContext||Lk)(()=>o._e.run(()=>(r=Uf()).run(()=>e({action:_}))));for(const P in O){const M=O[P];if(Ge(M)&&!Vk(M)||Ys(M))i||(g&&$k(M)&&(Ge(M)?M.value=g[P]:tf(M,g[P])),o.state.value[t][P]=M);else if(typeof M=="function"){const F=_(M,P);O[P]=F,a.actions[P]=M}}return tn(k,O),tn(Se(k),O),Object.defineProperty(k,"$state",{get:()=>o.state.value[t],set:P=>{v(M=>{tn(M,P)})}}),o._p.forEach(P=>{tn(k,r.run(()=>P({store:k,app:o._a,pinia:o,options:a})))}),g&&i&&s.hydrate&&s.hydrate(k.$state,g),d=!0,u=!0,k}/*! #__NO_SIDE_EFFECTS__ */function wt(t,e,s){let o,n;const i=typeof e=="function";typeof t=="string"?(o=t,n=i?s:e):(n=t,o=t.id);function r(a,l){const d=ly();return a=a||(d?Ds(n1,null):null),a&&fd(a),a=o1,a._s.has(o)||(i?r1(o,e,n,a):Bk(o,n,a)),a._s.get(o)}return r.$id=o,r}function Nh(t,e){return Array.isArray(e)?e.reduce((s,o)=>(s[o]=function(){return t(this.$pinia)[o]},s),{}):Object.keys(e).reduce((s,o)=>(s[o]=function(){const n=t(this.$pinia),i=e[o];return typeof i=="function"?i.call(this,n):n[i]},s),{})}function ka(t,e){return Array.isArray(e)?e.reduce((s,o)=>(s[o]=function(...n){return t(this.$pinia)[o](...n)},s),{}):Object.keys(e).reduce((s,o)=>(s[o]=function(...n){return t(this.$pinia)[e[o]](...n)},s),{})}function Wa(t){{const e=Se(t),s={};for(const o in e){const n=e[o];n.effect?s[o]=we({get:()=>t[o],set(i){t[o]=i}}):(Ge(n)||Ys(n))&&(s[o]=Tv(t,o))}return s}}function a1(t,e){return function(){return t.apply(e,arguments)}}const{toString:Uk}=Object.prototype,{getPrototypeOf:Lh}=Object,hd=(t=>e=>{const s=Uk.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),to=t=>(t=t.toLowerCase(),e=>hd(e)===t),md=t=>e=>typeof e===t,{isArray:vr}=Array,Da=md("undefined");function jk(t){return t!==null&&!Da(t)&&t.constructor!==null&&!Da(t.constructor)&&As(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const l1=to("ArrayBuffer");function Hk(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&l1(t.buffer),e}const qk=md("string"),As=md("function"),c1=md("number"),pd=t=>t!==null&&typeof t=="object",Wk=t=>t===!0||t===!1,$l=t=>{if(hd(t)!=="object")return!1;const e=Lh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Kk=to("Date"),Gk=to("File"),Xk=to("Blob"),Zk=to("FileList"),Yk=t=>pd(t)&&As(t.pipe),Jk=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||As(t.append)&&((e=hd(t))==="formdata"||e==="object"&&As(t.toString)&&t.toString()==="[object FormData]"))},Qk=to("URLSearchParams"),[eD,tD,sD,oD]=["ReadableStream","Request","Response","Headers"].map(to),nD=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ka(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let o,n;if(typeof t!="object"&&(t=[t]),vr(t))for(o=0,n=t.length;o<n;o++)e.call(null,t[o],o,t);else{const i=s?Object.getOwnPropertyNames(t):Object.keys(t),r=i.length;let a;for(o=0;o<r;o++)a=i[o],e.call(null,t[a],a,t)}}function d1(t,e){e=e.toLowerCase();const s=Object.keys(t);let o=s.length,n;for(;o-- >0;)if(n=s[o],e===n.toLowerCase())return n;return null}const Jn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,u1=t=>!Da(t)&&t!==Jn;function sf(){const{caseless:t}=u1(this)&&this||{},e={},s=(o,n)=>{const i=t&&d1(e,n)||n;$l(e[i])&&$l(o)?e[i]=sf(e[i],o):$l(o)?e[i]=sf({},o):vr(o)?e[i]=o.slice():e[i]=o};for(let o=0,n=arguments.length;o<n;o++)arguments[o]&&Ka(arguments[o],s);return e}const iD=(t,e,s,{allOwnKeys:o}={})=>(Ka(e,(n,i)=>{s&&As(n)?t[i]=a1(n,s):t[i]=n},{allOwnKeys:o}),t),rD=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),aD=(t,e,s,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},lD=(t,e,s,o)=>{let n,i,r;const a={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)r=n[i],(!o||o(r,t,e))&&!a[r]&&(e[r]=t[r],a[r]=!0);t=s!==!1&&Lh(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},cD=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const o=t.indexOf(e,s);return o!==-1&&o===s},dD=t=>{if(!t)return null;if(vr(t))return t;let e=t.length;if(!c1(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},uD=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Lh(Uint8Array)),fD=(t,e)=>{const o=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=o.next())&&!n.done;){const i=n.value;e.call(t,i[0],i[1])}},hD=(t,e)=>{let s;const o=[];for(;(s=t.exec(e))!==null;)o.push(s);return o},mD=to("HTMLFormElement"),pD=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,o,n){return o.toUpperCase()+n}),Wp=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),gD=to("RegExp"),f1=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),o={};Ka(s,(n,i)=>{let r;(r=e(n,i,t))!==!1&&(o[i]=r||n)}),Object.defineProperties(t,o)},bD=t=>{f1(t,(e,s)=>{if(As(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const o=t[s];if(As(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},vD=(t,e)=>{const s={},o=n=>{n.forEach(i=>{s[i]=!0})};return vr(t)?o(t):o(String(t).split(e)),s},yD=()=>{},_D=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ED(t){return!!(t&&As(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const wD=t=>{const e=new Array(10),s=(o,n)=>{if(pd(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[n]=o;const i=vr(o)?[]:{};return Ka(o,(r,a)=>{const l=s(r,n+1);!Da(l)&&(i[a]=l)}),e[n]=void 0,i}}return o};return s(t,0)},CD=to("AsyncFunction"),SD=t=>t&&(pd(t)||As(t))&&As(t.then)&&As(t.catch),h1=((t,e)=>t?setImmediate:e?((s,o)=>(Jn.addEventListener("message",({source:n,data:i})=>{n===Jn&&i===s&&o.length&&o.shift()()},!1),n=>{o.push(n),Jn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",As(Jn.postMessage)),xD=typeof queueMicrotask<"u"?queueMicrotask.bind(Jn):typeof process<"u"&&process.nextTick||h1,U={isArray:vr,isArrayBuffer:l1,isBuffer:jk,isFormData:Jk,isArrayBufferView:Hk,isString:qk,isNumber:c1,isBoolean:Wk,isObject:pd,isPlainObject:$l,isReadableStream:eD,isRequest:tD,isResponse:sD,isHeaders:oD,isUndefined:Da,isDate:Kk,isFile:Gk,isBlob:Xk,isRegExp:gD,isFunction:As,isStream:Yk,isURLSearchParams:Qk,isTypedArray:uD,isFileList:Zk,forEach:Ka,merge:sf,extend:iD,trim:nD,stripBOM:rD,inherits:aD,toFlatObject:lD,kindOf:hd,kindOfTest:to,endsWith:cD,toArray:dD,forEachEntry:fD,matchAll:hD,isHTMLForm:mD,hasOwnProperty:Wp,hasOwnProp:Wp,reduceDescriptors:f1,freezeMethods:bD,toObjectSet:vD,toCamelCase:pD,noop:yD,toFiniteNumber:_D,findKey:d1,global:Jn,isContextDefined:u1,isSpecCompliantForm:ED,toJSONObject:wD,isAsyncFn:CD,isThenable:SD,setImmediate:h1,asap:xD};function Ae(t,e,s,o,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),o&&(this.request=o),n&&(this.response=n,this.status=n.status?n.status:null)}U.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const m1=Ae.prototype,p1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{p1[t]={value:t}});Object.defineProperties(Ae,p1);Object.defineProperty(m1,"isAxiosError",{value:!0});Ae.from=(t,e,s,o,n,i)=>{const r=Object.create(m1);return U.toFlatObject(t,r,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ae.call(r,t.message,e,s,o,n),r.cause=t,r.name=t.name,i&&Object.assign(r,i),r};const kD=null;function of(t){return U.isPlainObject(t)||U.isArray(t)}function g1(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function Kp(t,e,s){return t?t.concat(e).map(function(n,i){return n=g1(n),!s&&i?"["+n+"]":n}).join(s?".":""):e}function DD(t){return U.isArray(t)&&!t.some(of)}const AD=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function gd(t,e,s){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=U.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,v){return!U.isUndefined(v[b])});const o=s.metaTokens,n=s.visitor||u,i=s.dots,r=s.indexes,l=(s.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(n))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(U.isDate(g))return g.toISOString();if(!l&&U.isBlob(g))throw new Ae("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(g)||U.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,b,v){let w=g;if(g&&!v&&typeof g=="object"){if(U.endsWith(b,"{}"))b=o?b:b.slice(0,-2),g=JSON.stringify(g);else if(U.isArray(g)&&DD(g)||(U.isFileList(g)||U.endsWith(b,"[]"))&&(w=U.toArray(g)))return b=g1(b),w.forEach(function(_,D){!(U.isUndefined(_)||_===null)&&e.append(r===!0?Kp([b],D,i):r===null?b:b+"[]",d(_))}),!1}return of(g)?!0:(e.append(Kp(v,b,i),d(g)),!1)}const f=[],h=Object.assign(AD,{defaultVisitor:u,convertValue:d,isVisitable:of});function m(g,b){if(!U.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(g),U.forEach(g,function(w,E){(!(U.isUndefined(w)||w===null)&&n.call(e,w,U.isString(E)?E.trim():E,b,h))===!0&&m(w,b?b.concat(E):[E])}),f.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return m(t),e}function Gp(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function zh(t,e){this._pairs=[],t&&gd(t,this,e)}const b1=zh.prototype;b1.append=function(e,s){this._pairs.push([e,s])};b1.toString=function(e){const s=e?function(o){return e.call(this,o,Gp)}:Gp;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function TD(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function v1(t,e,s){if(!e)return t;const o=s&&s.encode||TD;U.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(e,s):i=U.isURLSearchParams(e)?e.toString():new zh(e,s).toString(o),i){const r=t.indexOf("#");r!==-1&&(t=t.slice(0,r)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Xp{constructor(){this.handlers=[]}use(e,s,o){return this.handlers.push({fulfilled:e,rejected:s,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(o){o!==null&&e(o)})}}const y1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},MD=typeof URLSearchParams<"u"?URLSearchParams:zh,PD=typeof FormData<"u"?FormData:null,ID=typeof Blob<"u"?Blob:null,FD={isBrowser:!0,classes:{URLSearchParams:MD,FormData:PD,Blob:ID},protocols:["http","https","file","blob","url","data"]},$h=typeof window<"u"&&typeof document<"u",nf=typeof navigator=="object"&&navigator||void 0,RD=$h&&(!nf||["ReactNative","NativeScript","NS"].indexOf(nf.product)<0),OD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ND=$h&&window.location.href||"http://localhost",LD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$h,hasStandardBrowserEnv:RD,hasStandardBrowserWebWorkerEnv:OD,navigator:nf,origin:ND},Symbol.toStringTag,{value:"Module"})),Ht={...LD,...FD};function zD(t,e){return gd(t,new Ht.classes.URLSearchParams,Object.assign({visitor:function(s,o,n,i){return Ht.isNode&&U.isBuffer(s)?(this.append(o,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function $D(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function VD(t){const e={},s=Object.keys(t);let o;const n=s.length;let i;for(o=0;o<n;o++)i=s[o],e[i]=t[i];return e}function _1(t){function e(s,o,n,i){let r=s[i++];if(r==="__proto__")return!0;const a=Number.isFinite(+r),l=i>=s.length;return r=!r&&U.isArray(n)?n.length:r,l?(U.hasOwnProp(n,r)?n[r]=[n[r],o]:n[r]=o,!a):((!n[r]||!U.isObject(n[r]))&&(n[r]=[]),e(s,o,n[r],i)&&U.isArray(n[r])&&(n[r]=VD(n[r])),!a)}if(U.isFormData(t)&&U.isFunction(t.entries)){const s={};return U.forEachEntry(t,(o,n)=>{e($D(o),n,s,0)}),s}return null}function BD(t,e,s){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(s||JSON.stringify)(t)}const Ga={transitional:y1,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const o=s.getContentType()||"",n=o.indexOf("application/json")>-1,i=U.isObject(e);if(i&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return n?JSON.stringify(_1(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e)||U.isReadableStream(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(o.indexOf("application/x-www-form-urlencoded")>-1)return zD(e,this.formSerializer).toString();if((a=U.isFileList(e))||o.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return gd(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),BD(e)):e}],transformResponse:[function(e){const s=this.transitional||Ga.transitional,o=s&&s.forcedJSONParsing,n=this.responseType==="json";if(U.isResponse(e)||U.isReadableStream(e))return e;if(e&&U.isString(e)&&(o&&!this.responseType||n)){const r=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(r)throw a.name==="SyntaxError"?Ae.from(a,Ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ht.classes.FormData,Blob:Ht.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{Ga.headers[t]={}});const UD=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jD=t=>{const e={};let s,o,n;return t&&t.split(`
`).forEach(function(r){n=r.indexOf(":"),s=r.substring(0,n).trim().toLowerCase(),o=r.substring(n+1).trim(),!(!s||e[s]&&UD[s])&&(s==="set-cookie"?e[s]?e[s].push(o):e[s]=[o]:e[s]=e[s]?e[s]+", "+o:o)}),e},Zp=Symbol("internals");function Tr(t){return t&&String(t).trim().toLowerCase()}function Vl(t){return t===!1||t==null?t:U.isArray(t)?t.map(Vl):String(t)}function HD(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=s.exec(t);)e[o[1]]=o[2];return e}const qD=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Qd(t,e,s,o,n){if(U.isFunction(o))return o.call(this,e,s);if(n&&(e=s),!!U.isString(e)){if(U.isString(o))return e.indexOf(o)!==-1;if(U.isRegExp(o))return o.test(e)}}function WD(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,o)=>s.toUpperCase()+o)}function KD(t,e){const s=U.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+s,{value:function(n,i,r){return this[o].call(this,e,n,i,r)},configurable:!0})})}let vs=class{constructor(e){e&&this.set(e)}set(e,s,o){const n=this;function i(a,l,d){const u=Tr(l);if(!u)throw new Error("header name must be a non-empty string");const f=U.findKey(n,u);(!f||n[f]===void 0||d===!0||d===void 0&&n[f]!==!1)&&(n[f||l]=Vl(a))}const r=(a,l)=>U.forEach(a,(d,u)=>i(d,u,l));if(U.isPlainObject(e)||e instanceof this.constructor)r(e,s);else if(U.isString(e)&&(e=e.trim())&&!qD(e))r(jD(e),s);else if(U.isHeaders(e))for(const[a,l]of e.entries())i(l,a,o);else e!=null&&i(s,e,o);return this}get(e,s){if(e=Tr(e),e){const o=U.findKey(this,e);if(o){const n=this[o];if(!s)return n;if(s===!0)return HD(n);if(U.isFunction(s))return s.call(this,n,o);if(U.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=Tr(e),e){const o=U.findKey(this,e);return!!(o&&this[o]!==void 0&&(!s||Qd(this,this[o],o,s)))}return!1}delete(e,s){const o=this;let n=!1;function i(r){if(r=Tr(r),r){const a=U.findKey(o,r);a&&(!s||Qd(o,o[a],a,s))&&(delete o[a],n=!0)}}return U.isArray(e)?e.forEach(i):i(e),n}clear(e){const s=Object.keys(this);let o=s.length,n=!1;for(;o--;){const i=s[o];(!e||Qd(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){const s=this,o={};return U.forEach(this,(n,i)=>{const r=U.findKey(o,i);if(r){s[r]=Vl(n),delete s[i];return}const a=e?WD(i):String(i).trim();a!==i&&delete s[i],s[a]=Vl(n),o[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return U.forEach(this,(o,n)=>{o!=null&&o!==!1&&(s[n]=e&&U.isArray(o)?o.join(", "):o)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const o=new this(e);return s.forEach(n=>o.set(n)),o}static accessor(e){const o=(this[Zp]=this[Zp]={accessors:{}}).accessors,n=this.prototype;function i(r){const a=Tr(r);o[a]||(KD(n,r),o[a]=!0)}return U.isArray(e)?e.forEach(i):i(e),this}};vs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(vs.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(o){this[s]=o}}});U.freezeMethods(vs);function eu(t,e){const s=this||Ga,o=e||s,n=vs.from(o.headers);let i=o.data;return U.forEach(t,function(a){i=a.call(s,i,n.normalize(),e?e.status:void 0)}),n.normalize(),i}function E1(t){return!!(t&&t.__CANCEL__)}function yr(t,e,s){Ae.call(this,t??"canceled",Ae.ERR_CANCELED,e,s),this.name="CanceledError"}U.inherits(yr,Ae,{__CANCEL__:!0});function w1(t,e,s){const o=s.config.validateStatus;!s.status||!o||o(s.status)?t(s):e(new Ae("Request failed with status code "+s.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function GD(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function XD(t,e){t=t||10;const s=new Array(t),o=new Array(t);let n=0,i=0,r;return e=e!==void 0?e:1e3,function(l){const d=Date.now(),u=o[i];r||(r=d),s[n]=l,o[n]=d;let f=i,h=0;for(;f!==n;)h+=s[f++],f=f%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),d-r<e)return;const m=u&&d-u;return m?Math.round(h*1e3/m):void 0}}function ZD(t,e){let s=0,o=1e3/e,n,i;const r=(d,u=Date.now())=>{s=u,n=null,i&&(clearTimeout(i),i=null),t.apply(null,d)};return[(...d)=>{const u=Date.now(),f=u-s;f>=o?r(d,u):(n=d,i||(i=setTimeout(()=>{i=null,r(n)},o-f)))},()=>n&&r(n)]}const Tc=(t,e,s=3)=>{let o=0;const n=XD(50,250);return ZD(i=>{const r=i.loaded,a=i.lengthComputable?i.total:void 0,l=r-o,d=n(l),u=r<=a;o=r;const f={loaded:r,total:a,progress:a?r/a:void 0,bytes:l,rate:d||void 0,estimated:d&&a&&u?(a-r)/d:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},s)},Yp=(t,e)=>{const s=t!=null;return[o=>e[0]({lengthComputable:s,total:t,loaded:o}),e[1]]},Jp=t=>(...e)=>U.asap(()=>t(...e)),YD=Ht.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,Ht.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(Ht.origin),Ht.navigator&&/(msie|trident)/i.test(Ht.navigator.userAgent)):()=>!0,JD=Ht.hasStandardBrowserEnv?{write(t,e,s,o,n,i){const r=[t+"="+encodeURIComponent(e)];U.isNumber(s)&&r.push("expires="+new Date(s).toGMTString()),U.isString(o)&&r.push("path="+o),U.isString(n)&&r.push("domain="+n),i===!0&&r.push("secure"),document.cookie=r.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QD(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function eA(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function C1(t,e,s){let o=!QD(e);return t&&(o||s==!1)?eA(t,e):e}const Qp=t=>t instanceof vs?{...t}:t;function bi(t,e){e=e||{};const s={};function o(d,u,f,h){return U.isPlainObject(d)&&U.isPlainObject(u)?U.merge.call({caseless:h},d,u):U.isPlainObject(u)?U.merge({},u):U.isArray(u)?u.slice():u}function n(d,u,f,h){if(U.isUndefined(u)){if(!U.isUndefined(d))return o(void 0,d,f,h)}else return o(d,u,f,h)}function i(d,u){if(!U.isUndefined(u))return o(void 0,u)}function r(d,u){if(U.isUndefined(u)){if(!U.isUndefined(d))return o(void 0,d)}else return o(void 0,u)}function a(d,u,f){if(f in e)return o(d,u);if(f in t)return o(void 0,d)}const l={url:i,method:i,data:i,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:a,headers:(d,u,f)=>n(Qp(d),Qp(u),f,!0)};return U.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=l[u]||n,h=f(t[u],e[u],u);U.isUndefined(h)&&f!==a||(s[u]=h)}),s}const S1=t=>{const e=bi({},t);let{data:s,withXSRFToken:o,xsrfHeaderName:n,xsrfCookieName:i,headers:r,auth:a}=e;e.headers=r=vs.from(r),e.url=v1(C1(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&r.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(U.isFormData(s)){if(Ht.hasStandardBrowserEnv||Ht.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if((l=r.getContentType())!==!1){const[d,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];r.setContentType([d||"multipart/form-data",...u].join("; "))}}if(Ht.hasStandardBrowserEnv&&(o&&U.isFunction(o)&&(o=o(e)),o||o!==!1&&YD(e.url))){const d=n&&i&&JD.read(i);d&&r.set(n,d)}return e},tA=typeof XMLHttpRequest<"u",sA=tA&&function(t){return new Promise(function(s,o){const n=S1(t);let i=n.data;const r=vs.from(n.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:d}=n,u,f,h,m,g;function b(){m&&m(),g&&g(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(n.method.toUpperCase(),n.url,!0),v.timeout=n.timeout;function w(){if(!v)return;const _=vs.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:_,config:t,request:v};w1(function(O){s(O),b()},function(O){o(O),b()},k),v=null}"onloadend"in v?v.onloadend=w:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(w)},v.onabort=function(){v&&(o(new Ae("Request aborted",Ae.ECONNABORTED,t,v)),v=null)},v.onerror=function(){o(new Ae("Network Error",Ae.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let D=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const k=n.transitional||y1;n.timeoutErrorMessage&&(D=n.timeoutErrorMessage),o(new Ae(D,k.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,t,v)),v=null},i===void 0&&r.setContentType(null),"setRequestHeader"in v&&U.forEach(r.toJSON(),function(D,k){v.setRequestHeader(k,D)}),U.isUndefined(n.withCredentials)||(v.withCredentials=!!n.withCredentials),a&&a!=="json"&&(v.responseType=n.responseType),d&&([h,g]=Tc(d,!0),v.addEventListener("progress",h)),l&&v.upload&&([f,m]=Tc(l),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(n.cancelToken||n.signal)&&(u=_=>{v&&(o(!_||_.type?new yr(null,t,v):_),v.abort(),v=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const E=GD(n.url);if(E&&Ht.protocols.indexOf(E)===-1){o(new Ae("Unsupported protocol "+E+":",Ae.ERR_BAD_REQUEST,t));return}v.send(i||null)})},oA=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let o=new AbortController,n;const i=function(d){if(!n){n=!0,a();const u=d instanceof Error?d:this.reason;o.abort(u instanceof Ae?u:new yr(u instanceof Error?u.message:u))}};let r=e&&setTimeout(()=>{r=null,i(new Ae(`timeout ${e} of ms exceeded`,Ae.ETIMEDOUT))},e);const a=()=>{t&&(r&&clearTimeout(r),r=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:l}=o;return l.unsubscribe=()=>U.asap(a),l}},nA=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let o=0,n;for(;o<s;)n=o+e,yield t.slice(o,n),o=n},iA=async function*(t,e){for await(const s of rA(t))yield*nA(s,e)},rA=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:o}=await e.read();if(s)break;yield o}}finally{await e.cancel()}},eg=(t,e,s,o)=>{const n=iA(t,e);let i=0,r,a=l=>{r||(r=!0,o&&o(l))};return new ReadableStream({async pull(l){try{const{done:d,value:u}=await n.next();if(d){a(),l.close();return}let f=u.byteLength;if(s){let h=i+=f;s(h)}l.enqueue(new Uint8Array(u))}catch(d){throw a(d),d}},cancel(l){return a(l),n.return()}},{highWaterMark:2})},bd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",x1=bd&&typeof ReadableStream=="function",aA=bd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),k1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},lA=x1&&k1(()=>{let t=!1;const e=new Request(Ht.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),tg=64*1024,rf=x1&&k1(()=>U.isReadableStream(new Response("").body)),Mc={stream:rf&&(t=>t.body)};bd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Mc[e]&&(Mc[e]=U.isFunction(t[e])?s=>s[e]():(s,o)=>{throw new Ae(`Response type '${e}' is not supported`,Ae.ERR_NOT_SUPPORT,o)})})})(new Response);const cA=async t=>{if(t==null)return 0;if(U.isBlob(t))return t.size;if(U.isSpecCompliantForm(t))return(await new Request(Ht.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(U.isArrayBufferView(t)||U.isArrayBuffer(t))return t.byteLength;if(U.isURLSearchParams(t)&&(t=t+""),U.isString(t))return(await aA(t)).byteLength},dA=async(t,e)=>{const s=U.toFiniteNumber(t.getContentLength());return s??cA(e)},uA=bd&&(async t=>{let{url:e,method:s,data:o,signal:n,cancelToken:i,timeout:r,onDownloadProgress:a,onUploadProgress:l,responseType:d,headers:u,withCredentials:f="same-origin",fetchOptions:h}=S1(t);d=d?(d+"").toLowerCase():"text";let m=oA([n,i&&i.toAbortSignal()],r),g;const b=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let v;try{if(l&&lA&&s!=="get"&&s!=="head"&&(v=await dA(u,o))!==0){let k=new Request(e,{method:"POST",body:o,duplex:"half"}),T;if(U.isFormData(o)&&(T=k.headers.get("content-type"))&&u.setContentType(T),k.body){const[O,P]=Yp(v,Tc(Jp(l)));o=eg(k.body,tg,O,P)}}U.isString(f)||(f=f?"include":"omit");const w="credentials"in Request.prototype;g=new Request(e,{...h,signal:m,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:o,duplex:"half",credentials:w?f:void 0});let E=await fetch(g);const _=rf&&(d==="stream"||d==="response");if(rf&&(a||_&&b)){const k={};["status","statusText","headers"].forEach(M=>{k[M]=E[M]});const T=U.toFiniteNumber(E.headers.get("content-length")),[O,P]=a&&Yp(T,Tc(Jp(a),!0))||[];E=new Response(eg(E.body,tg,O,()=>{P&&P(),b&&b()}),k)}d=d||"text";let D=await Mc[U.findKey(Mc,d)||"text"](E,t);return!_&&b&&b(),await new Promise((k,T)=>{w1(k,T,{data:D,headers:vs.from(E.headers),status:E.status,statusText:E.statusText,config:t,request:g})})}catch(w){throw b&&b(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,t,g),{cause:w.cause||w}):Ae.from(w,w&&w.code,t,g)}}),af={http:kD,xhr:sA,fetch:uA};U.forEach(af,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const sg=t=>`- ${t}`,fA=t=>U.isFunction(t)||t===null||t===!1,D1={getAdapter:t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let s,o;const n={};for(let i=0;i<e;i++){s=t[i];let r;if(o=s,!fA(s)&&(o=af[(r=String(s)).toLowerCase()],o===void 0))throw new Ae(`Unknown adapter '${r}'`);if(o)break;n[r||"#"+i]=o}if(!o){const i=Object.entries(n).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let r=e?i.length>1?`since :
`+i.map(sg).join(`
`):" "+sg(i[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return o},adapters:af};function tu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new yr(null,t)}function og(t){return tu(t),t.headers=vs.from(t.headers),t.data=eu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),D1.getAdapter(t.adapter||Ga.adapter)(t).then(function(o){return tu(t),o.data=eu.call(t,t.transformResponse,o),o.headers=vs.from(o.headers),o},function(o){return E1(o)||(tu(t),o&&o.response&&(o.response.data=eu.call(t,t.transformResponse,o.response),o.response.headers=vs.from(o.response.headers))),Promise.reject(o)})}const A1="1.8.4",vd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{vd[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});const ng={};vd.transitional=function(e,s,o){function n(i,r){return"[Axios v"+A1+"] Transitional option '"+i+"'"+r+(o?". "+o:"")}return(i,r,a)=>{if(e===!1)throw new Ae(n(r," has been removed"+(s?" in "+s:"")),Ae.ERR_DEPRECATED);return s&&!ng[r]&&(ng[r]=!0,console.warn(n(r," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(i,r,a):!0}};vd.spelling=function(e){return(s,o)=>(console.warn(`${o} is likely a misspelling of ${e}`),!0)};function hA(t,e,s){if(typeof t!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let n=o.length;for(;n-- >0;){const i=o[n],r=e[i];if(r){const a=t[i],l=a===void 0||r(a,i,t);if(l!==!0)throw new Ae("option "+i+" must be "+l,Ae.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ae("Unknown option "+i,Ae.ERR_BAD_OPTION)}}const Bl={assertOptions:hA,validators:vd},no=Bl.validators;let ai=class{constructor(e){this.defaults=e,this.interceptors={request:new Xp,response:new Xp}}async request(e,s){try{return await this._request(e,s)}catch(o){if(o instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{o.stack?i&&!String(o.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+i):o.stack=i}catch{}}throw o}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=bi(this.defaults,s);const{transitional:o,paramsSerializer:n,headers:i}=s;o!==void 0&&Bl.assertOptions(o,{silentJSONParsing:no.transitional(no.boolean),forcedJSONParsing:no.transitional(no.boolean),clarifyTimeoutError:no.transitional(no.boolean)},!1),n!=null&&(U.isFunction(n)?s.paramsSerializer={serialize:n}:Bl.assertOptions(n,{encode:no.function,serialize:no.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Bl.assertOptions(s,{baseUrl:no.spelling("baseURL"),withXsrfToken:no.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let r=i&&U.merge(i.common,i[s.method]);i&&U.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),s.headers=vs.concat(r,i);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(s)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let u,f=0,h;if(!l){const g=[og.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,d),h=g.length,u=Promise.resolve(s);f<h;)u=u.then(g[f++],g[f++]);return u}h=a.length;let m=s;for(f=0;f<h;){const g=a[f++],b=a[f++];try{m=g(m)}catch(v){b.call(this,v);break}}try{u=og.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,h=d.length;f<h;)u=u.then(d[f++],d[f++]);return u}getUri(e){e=bi(this.defaults,e);const s=C1(e.baseURL,e.url,e.allowAbsoluteUrls);return v1(s,e.params,e.paramsSerializer)}};U.forEach(["delete","get","head","options"],function(e){ai.prototype[e]=function(s,o){return this.request(bi(o||{},{method:e,url:s,data:(o||{}).data}))}});U.forEach(["post","put","patch"],function(e){function s(o){return function(i,r,a){return this.request(bi(a||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:i,data:r}))}}ai.prototype[e]=s(),ai.prototype[e+"Form"]=s(!0)});let mA=class T1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const o=this;this.promise.then(n=>{if(!o._listeners)return;let i=o._listeners.length;for(;i-- >0;)o._listeners[i](n);o._listeners=null}),this.promise.then=n=>{let i;const r=new Promise(a=>{o.subscribe(a),i=a}).then(n);return r.cancel=function(){o.unsubscribe(i)},r},e(function(i,r,a){o.reason||(o.reason=new yr(i,r,a),s(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=o=>{e.abort(o)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new T1(function(n){e=n}),cancel:e}}};function pA(t){return function(s){return t.apply(null,s)}}function gA(t){return U.isObject(t)&&t.isAxiosError===!0}const lf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lf).forEach(([t,e])=>{lf[e]=t});function M1(t){const e=new ai(t),s=a1(ai.prototype.request,e);return U.extend(s,ai.prototype,e,{allOwnKeys:!0}),U.extend(s,e,null,{allOwnKeys:!0}),s.create=function(n){return M1(bi(t,n))},s}const bt=M1(Ga);bt.Axios=ai;bt.CanceledError=yr;bt.CancelToken=mA;bt.isCancel=E1;bt.VERSION=A1;bt.toFormData=gd;bt.AxiosError=Ae;bt.Cancel=bt.CanceledError;bt.all=function(e){return Promise.all(e)};bt.spread=pA;bt.isAxiosError=gA;bt.mergeConfig=bi;bt.AxiosHeaders=vs;bt.formToJSON=t=>_1(U.isHTMLForm(t)?new FormData(t):t);bt.getAdapter=D1.getAdapter;bt.HttpStatusCode=lf;bt.default=bt;const{Axios:yse,AxiosError:_se,CanceledError:Ese,isCancel:wse,CancelToken:Cse,VERSION:Sse,all:xse,Cancel:kse,isAxiosError:Dse,spread:Ase,toFormData:Tse,AxiosHeaders:Mse,HttpStatusCode:Pse,formToJSON:Ise,getAdapter:Fse,mergeConfig:Rse}=bt,$=bt.create({baseURL:"http://localhost:3000/api",headers:{"Content-Type":"application/json"},timeout:1e4});function bA(t){t?($.defaults.headers.common.Authorization=`Bearer ${t}`,localStorage.setItem("token",t)):(delete $.defaults.headers.common.Authorization,localStorage.removeItem("token"))}$.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));$.interceptors.response.use(t=>t,t=>{if(!t.response)return Promise.reject(t);const e=t.response;return e&&e.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("sessionExpiry"),sessionStorage.clear(),delete $.defaults.headers.common.Authorization,window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(t)});const qi={login(t){return $.post("/auth/login",t)},logout(){return $.post("/auth/logout")},getProfile(){return $.get("/auth/profile")},changePassword(t){return $.post("/auth/change-password",t)}},hs={getAllRoles(t={}){return $.get("/rol",{params:t})},getRoleById(t){return $.get(`/rol/${t}`)},getMiRol(){return $.get("/rol/mi-rol")},createRole(t){return $.post("/rol",t)},updateRole(t,e){return $.put(`/rol/${t}`,e)},deleteRole(t){return $.delete(`/rol/${t}`)},updateRolePermissions(t,e){return $.put(`/rol/${t}/permisos`,{permisos:e})}},ns=wt("auth",{state:()=>({user:null,token:null,isAuthenticated:!1,isLoadingPermissions:!1,permissionsLoaded:!1,initializing:!0,initError:null}),getters:{getUser:t=>t.user,getToken:t=>t.token,getIsAuthenticated:t=>t.isAuthenticated,isAdmin:t=>{var e;return((e=t.user)==null?void 0:e.id_rol)===1}},actions:{setUser(t){this.user=t,this.isAuthenticated=!!t},setToken(t){this.token=t,localStorage.setItem("token",t)},clearAuth(){this.user=null,this.token=null,this.isAuthenticated=!1,this.permissionsLoaded=!1,localStorage.removeItem("user"),localStorage.removeItem("token")},async login(t){try{const e=await qi.login(t);if(e.data.success){const s=e.data.data.user;this.setToken(s.token),this.setUser(s);try{await this.loadUserRoleAndPermissions()}catch{this.permissionsLoaded=!0}return localStorage.setItem("user",JSON.stringify(this.user)),!0}else return!1}catch{return!1}},async loadUserRoleAndPermissions(){if(!this.user||!this.user.id_rol)return this.permissionsLoaded=!0,!1;this.isLoadingPermissions=!0;try{const t=await hs.getRoleById(this.user.id_rol);if(t.data.success){const e=t.data.data.rol;return this.user={...this.user,Rol:e},localStorage.setItem("user",JSON.stringify(this.user)),this.permissionsLoaded=!0,!0}else return this.permissionsLoaded=!0,!1}catch{return this.permissionsLoaded=!0,!1}finally{this.isLoadingPermissions=!1}},async checkAuth(){if(this.token&&this.user)try{return await this.getProfile(),this.isAuthenticated}catch{return this.clearAuth(),!1}return this.isAuthenticated},async logout(){try{return this.token&&await qi.logout(),this.clearAuth(),!0}catch{return this.clearAuth(),!1}},async getProfile(){try{const t=await qi.getProfile();if(t.data.success){const e=t.data.data.user;if(!e.Rol||!e.Rol.Permisos){this.setUser(e);try{await this.loadUserRoleAndPermissions()}catch{this.permissionsLoaded=!0}}else this.setUser(e),this.permissionsLoaded=!0;return this.user}else return this.permissionsLoaded=!0,null}catch{return this.permissionsLoaded=!0,null}},hasPermission(t){return this.isAdmin?!0:!this.user||!this.user.Rol||!this.user.Rol.Permisos?!1:this.user.Rol.Permisos.some(e=>e.nombre===t.nombre&&e.tipo===t.tipo)},async initAuth(){this.initializing=!0,this.initError=null;try{const t=localStorage.getItem("token"),e=localStorage.getItem("user");if(t&&e)try{if(this.token=t,this.user=JSON.parse(e),this.isAuthenticated=!0,!this.user.Rol||!this.user.Rol.Permisos)try{await this.loadUserRoleAndPermissions()}catch{this.permissionsLoaded=!0}else this.permissionsLoaded=!0;try{await this.checkAuth()}catch{this.clearAuth()}}catch{this.clearAuth(),this.initError="Error al cargar datos de usuario"}else this.permissionsLoaded=!0}catch{this.clearAuth(),this.initError="Error al inicializar autenticación"}finally{this.initializing=!1}}}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Li=typeof document<"u";function P1(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function vA(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&P1(t.default)}const Ue=Object.assign;function su(t,e){const s={};for(const o in e){const n=e[o];s[o]=eo(n)?n.map(t):t(n)}return s}const ra=()=>{},eo=Array.isArray,I1=/#/g,yA=/&/g,_A=/\//g,EA=/=/g,wA=/\?/g,F1=/\+/g,CA=/%5B/g,SA=/%5D/g,R1=/%5E/g,xA=/%60/g,O1=/%7B/g,kA=/%7C/g,N1=/%7D/g,DA=/%20/g;function Vh(t){return encodeURI(""+t).replace(kA,"|").replace(CA,"[").replace(SA,"]")}function AA(t){return Vh(t).replace(O1,"{").replace(N1,"}").replace(R1,"^")}function cf(t){return Vh(t).replace(F1,"%2B").replace(DA,"+").replace(I1,"%23").replace(yA,"%26").replace(xA,"`").replace(O1,"{").replace(N1,"}").replace(R1,"^")}function TA(t){return cf(t).replace(EA,"%3D")}function MA(t){return Vh(t).replace(I1,"%23").replace(wA,"%3F")}function PA(t){return t==null?"":MA(t).replace(_A,"%2F")}function Aa(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const IA=/\/$/,FA=t=>t.replace(IA,"");function ou(t,e,s="/"){let o,n={},i="",r="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(o=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),n=t(i)),a>-1&&(o=o||e.slice(0,a),r=e.slice(a,e.length)),o=LA(o??e,s),{fullPath:o+(i&&"?")+i+r,path:o,query:n,hash:Aa(r)}}function RA(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function ig(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function OA(t,e,s){const o=e.matched.length-1,n=s.matched.length-1;return o>-1&&o===n&&ir(e.matched[o],s.matched[n])&&L1(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function ir(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function L1(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!NA(t[s],e[s]))return!1;return!0}function NA(t,e){return eo(t)?rg(t,e):eo(e)?rg(e,t):t===e}function rg(t,e){return eo(e)?t.length===e.length&&t.every((s,o)=>s===e[o]):t.length===1&&t[0]===e}function LA(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),o=t.split("/"),n=o[o.length-1];(n===".."||n===".")&&o.push("");let i=s.length-1,r,a;for(r=0;r<o.length;r++)if(a=o[r],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+o.slice(r).join("/")}const Qo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ta;(function(t){t.pop="pop",t.push="push"})(Ta||(Ta={}));var aa;(function(t){t.back="back",t.forward="forward",t.unknown=""})(aa||(aa={}));function zA(t){if(!t)if(Li){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),FA(t)}const $A=/^[^#]+#/;function VA(t,e){return t.replace($A,"#")+e}function BA(t,e){const s=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:e.behavior,left:o.left-s.left-(e.left||0),top:o.top-s.top-(e.top||0)}}const yd=()=>({left:window.scrollX,top:window.scrollY});function UA(t){let e;if("el"in t){const s=t.el,o=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=BA(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ag(t,e){return(history.state?history.state.position-e:-1)+t}const df=new Map;function jA(t,e){df.set(t,e)}function HA(t){const e=df.get(t);return df.delete(t),e}let qA=()=>location.protocol+"//"+location.host;function z1(t,e){const{pathname:s,search:o,hash:n}=e,i=t.indexOf("#");if(i>-1){let a=n.includes(t.slice(i))?t.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),ig(l,"")}return ig(s,t)+o+n}function WA(t,e,s,o){let n=[],i=[],r=null;const a=({state:h})=>{const m=z1(t,location),g=s.value,b=e.value;let v=0;if(h){if(s.value=m,e.value=h,r&&r===g){r=null;return}v=b?h.position-b.position:0}else o(m);n.forEach(w=>{w(s.value,g,{delta:v,type:Ta.pop,direction:v?v>0?aa.forward:aa.back:aa.unknown})})};function l(){r=s.value}function d(h){n.push(h);const m=()=>{const g=n.indexOf(h);g>-1&&n.splice(g,1)};return i.push(m),m}function u(){const{history:h}=window;h.state&&h.replaceState(Ue({},h.state,{scroll:yd()}),"")}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:d,destroy:f}}function lg(t,e,s,o=!1,n=!1){return{back:t,current:e,forward:s,replaced:o,position:window.history.length,scroll:n?yd():null}}function KA(t){const{history:e,location:s}=window,o={value:z1(t,s)},n={value:e.state};n.value||i(o.value,{back:null,current:o.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,d,u){const f=t.indexOf("#"),h=f>-1?(s.host&&document.querySelector("base")?t:t.slice(f))+l:qA()+t+l;try{e[u?"replaceState":"pushState"](d,"",h),n.value=d}catch(m){console.error(m),s[u?"replace":"assign"](h)}}function r(l,d){const u=Ue({},e.state,lg(n.value.back,l,n.value.forward,!0),d,{position:n.value.position});i(l,u,!0),o.value=l}function a(l,d){const u=Ue({},n.value,e.state,{forward:l,scroll:yd()});i(u.current,u,!0);const f=Ue({},lg(o.value,l,null),{position:u.position+1},d);i(l,f,!1),o.value=l}return{location:o,state:n,push:a,replace:r}}function GA(t){t=zA(t);const e=KA(t),s=WA(t,e.state,e.location,e.replace);function o(i,r=!0){r||s.pauseListeners(),history.go(i)}const n=Ue({location:"",base:t,go:o,createHref:VA.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function XA(t){return typeof t=="string"||t&&typeof t=="object"}function $1(t){return typeof t=="string"||typeof t=="symbol"}const V1=Symbol("");var cg;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(cg||(cg={}));function rr(t,e){return Ue(new Error,{type:t,[V1]:!0},e)}function So(t,e){return t instanceof Error&&V1 in t&&(e==null||!!(t.type&e))}const dg="[^/]+?",ZA={sensitive:!1,strict:!1,start:!0,end:!0},YA=/[.+*?^${}()[\]/\\]/g;function JA(t,e){const s=Ue({},ZA,e),o=[];let n=s.start?"^":"";const i=[];for(const d of t){const u=d.length?[]:[90];s.strict&&!d.length&&(n+="/");for(let f=0;f<d.length;f++){const h=d[f];let m=40+(s.sensitive?.25:0);if(h.type===0)f||(n+="/"),n+=h.value.replace(YA,"\\$&"),m+=40;else if(h.type===1){const{value:g,repeatable:b,optional:v,regexp:w}=h;i.push({name:g,repeatable:b,optional:v});const E=w||dg;if(E!==dg){m+=10;try{new RegExp(`(${E})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${g}" (${E}): `+D.message)}}let _=b?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;f||(_=v&&d.length<2?`(?:/${_})`:"/"+_),v&&(_+="?"),n+=_,m+=20,v&&(m+=-8),b&&(m+=-20),E===".*"&&(m+=-50)}u.push(m)}o.push(u)}if(s.strict&&s.end){const d=o.length-1;o[d][o[d].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const r=new RegExp(n,s.sensitive?"":"i");function a(d){const u=d.match(r),f={};if(!u)return null;for(let h=1;h<u.length;h++){const m=u[h]||"",g=i[h-1];f[g.name]=m&&g.repeatable?m.split("/"):m}return f}function l(d){let u="",f=!1;for(const h of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const m of h)if(m.type===0)u+=m.value;else if(m.type===1){const{value:g,repeatable:b,optional:v}=m,w=g in d?d[g]:"";if(eo(w)&&!b)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const E=eo(w)?w.join("/"):w;if(!E)if(v)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);u+=E}}return u||"/"}return{re:r,score:o,keys:i,parse:a,stringify:l}}function QA(t,e){let s=0;for(;s<t.length&&s<e.length;){const o=e[s]-t[s];if(o)return o;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function B1(t,e){let s=0;const o=t.score,n=e.score;for(;s<o.length&&s<n.length;){const i=QA(o[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-o.length)===1){if(ug(o))return 1;if(ug(n))return-1}return n.length-o.length}function ug(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const eT={type:0,value:""},tT=/[a-zA-Z0-9_]/;function sT(t){if(!t)return[[]];if(t==="/")return[[eT]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${s})/"${d}": ${m}`)}let s=0,o=s;const n=[];let i;function r(){i&&n.push(i),i=[]}let a=0,l,d="",u="";function f(){d&&(s===0?i.push({type:0,value:d}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),d="")}function h(){d+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){o=s,s=4;continue}switch(s){case 0:l==="/"?(d&&f(),r()):l===":"?(f(),s=1):h();break;case 4:h(),s=o;break;case 1:l==="("?s=2:tT.test(l)?h():(f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=3:u+=l;break;case 3:f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${d}"`),f(),r(),n}function oT(t,e,s){const o=JA(sT(t.path),s),n=Ue(o,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function nT(t,e){const s=[],o=new Map;e=pg({strict:!1,end:!0,sensitive:!1},e);function n(f){return o.get(f)}function i(f,h,m){const g=!m,b=hg(f);b.aliasOf=m&&m.record;const v=pg(e,f),w=[b];if("alias"in f){const D=typeof f.alias=="string"?[f.alias]:f.alias;for(const k of D)w.push(hg(Ue({},b,{components:m?m.record.components:b.components,path:k,aliasOf:m?m.record:b})))}let E,_;for(const D of w){const{path:k}=D;if(h&&k[0]!=="/"){const T=h.record.path,O=T[T.length-1]==="/"?"":"/";D.path=h.record.path+(k&&O+k)}if(E=oT(D,h,v),m?m.alias.push(E):(_=_||E,_!==E&&_.alias.push(E),g&&f.name&&!mg(E)&&r(f.name)),U1(E)&&l(E),b.children){const T=b.children;for(let O=0;O<T.length;O++)i(T[O],E,m&&m.children[O])}m=m||E}return _?()=>{r(_)}:ra}function r(f){if($1(f)){const h=o.get(f);h&&(o.delete(f),s.splice(s.indexOf(h),1),h.children.forEach(r),h.alias.forEach(r))}else{const h=s.indexOf(f);h>-1&&(s.splice(h,1),f.record.name&&o.delete(f.record.name),f.children.forEach(r),f.alias.forEach(r))}}function a(){return s}function l(f){const h=aT(f,s);s.splice(h,0,f),f.record.name&&!mg(f)&&o.set(f.record.name,f)}function d(f,h){let m,g={},b,v;if("name"in f&&f.name){if(m=o.get(f.name),!m)throw rr(1,{location:f});v=m.record.name,g=Ue(fg(h.params,m.keys.filter(_=>!_.optional).concat(m.parent?m.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),f.params&&fg(f.params,m.keys.map(_=>_.name))),b=m.stringify(g)}else if(f.path!=null)b=f.path,m=s.find(_=>_.re.test(b)),m&&(g=m.parse(b),v=m.record.name);else{if(m=h.name?o.get(h.name):s.find(_=>_.re.test(h.path)),!m)throw rr(1,{location:f,currentLocation:h});v=m.record.name,g=Ue({},h.params,f.params),b=m.stringify(g)}const w=[];let E=m;for(;E;)w.unshift(E.record),E=E.parent;return{name:v,path:b,params:g,matched:w,meta:rT(w)}}t.forEach(f=>i(f));function u(){s.length=0,o.clear()}return{addRoute:i,resolve:d,removeRoute:r,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function fg(t,e){const s={};for(const o of e)o in t&&(s[o]=t[o]);return s}function hg(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:iT(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function iT(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const o in t.components)e[o]=typeof s=="object"?s[o]:s;return e}function mg(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function rT(t){return t.reduce((e,s)=>Ue(e,s.meta),{})}function pg(t,e){const s={};for(const o in t)s[o]=o in e?e[o]:t[o];return s}function aT(t,e){let s=0,o=e.length;for(;s!==o;){const i=s+o>>1;B1(t,e[i])<0?o=i:s=i+1}const n=lT(t);return n&&(o=e.lastIndexOf(n,o-1)),o}function lT(t){let e=t;for(;e=e.parent;)if(U1(e)&&B1(t,e)===0)return e}function U1({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function cT(t){const e={};if(t===""||t==="?")return e;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<o.length;++n){const i=o[n].replace(F1," "),r=i.indexOf("="),a=Aa(r<0?i:i.slice(0,r)),l=r<0?null:Aa(i.slice(r+1));if(a in e){let d=e[a];eo(d)||(d=e[a]=[d]),d.push(l)}else e[a]=l}return e}function gg(t){let e="";for(let s in t){const o=t[s];if(s=TA(s),o==null){o!==void 0&&(e+=(e.length?"&":"")+s);continue}(eo(o)?o.map(i=>i&&cf(i)):[o&&cf(o)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function dT(t){const e={};for(const s in t){const o=t[s];o!==void 0&&(e[s]=eo(o)?o.map(n=>n==null?null:""+n):o==null?o:""+o)}return e}const uT=Symbol(""),bg=Symbol(""),_d=Symbol(""),Bh=Symbol(""),uf=Symbol("");function Mr(){let t=[];function e(o){return t.push(o),()=>{const n=t.indexOf(o);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function cn(t,e,s,o,n,i=r=>r()){const r=o&&(o.enterCallbacks[n]=o.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const d=h=>{h===!1?l(rr(4,{from:s,to:e})):h instanceof Error?l(h):XA(h)?l(rr(2,{from:e,to:h})):(r&&o.enterCallbacks[n]===r&&typeof h=="function"&&r.push(h),a())},u=i(()=>t.call(o&&o.instances[n],e,s,d));let f=Promise.resolve(u);t.length<3&&(f=f.then(d)),f.catch(h=>l(h))})}function nu(t,e,s,o,n=i=>i()){const i=[];for(const r of t)for(const a in r.components){let l=r.components[a];if(!(e!=="beforeRouteEnter"&&!r.instances[a]))if(P1(l)){const u=(l.__vccOpts||l)[e];u&&i.push(cn(u,s,o,r,a,n))}else{let d=l();i.push(()=>d.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${r.path}"`);const f=vA(u)?u.default:u;r.mods[a]=u,r.components[a]=f;const m=(f.__vccOpts||f)[e];return m&&cn(m,s,o,r,a,n)()}))}}return i}function vg(t){const e=Ds(_d),s=Ds(Bh),o=we(()=>{const l=Bo(t.to);return e.resolve(l)}),n=we(()=>{const{matched:l}=o.value,{length:d}=l,u=l[d-1],f=s.matched;if(!u||!f.length)return-1;const h=f.findIndex(ir.bind(null,u));if(h>-1)return h;const m=yg(l[d-2]);return d>1&&yg(u)===m&&f[f.length-1].path!==m?f.findIndex(ir.bind(null,l[d-2])):h}),i=we(()=>n.value>-1&&gT(s.params,o.value.params)),r=we(()=>n.value>-1&&n.value===s.matched.length-1&&L1(s.params,o.value.params));function a(l={}){if(pT(l)){const d=e[Bo(t.replace)?"replace":"push"](Bo(t.to)).catch(ra);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:o,href:we(()=>o.value.href),isActive:i,isExactActive:r,navigate:a}}function fT(t){return t.length===1?t[0]:t}const hT=gr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:vg,setup(t,{slots:e}){const s=yo(vg(t)),{options:o}=Ds(_d),n=we(()=>({[_g(t.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[_g(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&fT(e.default(s));return t.custom?i:pi("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),mT=hT;function pT(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function gT(t,e){for(const s in e){const o=e[s],n=t[s];if(typeof o=="string"){if(o!==n)return!1}else if(!eo(n)||n.length!==o.length||o.some((i,r)=>i!==n[r]))return!1}return!0}function yg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const _g=(t,e,s)=>t??e??s,bT=gr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const o=Ds(uf),n=we(()=>t.route||o.value),i=Ds(bg,0),r=we(()=>{let d=Bo(i);const{matched:u}=n.value;let f;for(;(f=u[d])&&!f.components;)d++;return d}),a=we(()=>n.value.matched[r.value]);ea(bg,we(()=>r.value+1)),ea(uT,a),ea(uf,n);const l=ge();return Os(()=>[l.value,a.value,t.name],([d,u,f],[h,m,g])=>{u&&(u.instances[f]=d,m&&m!==u&&d&&d===h&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),d&&u&&(!m||!ir(u,m)||!h)&&(u.enterCallbacks[f]||[]).forEach(b=>b(d))},{flush:"post"}),()=>{const d=n.value,u=t.name,f=a.value,h=f&&f.components[u];if(!h)return Eg(s.default,{Component:h,route:d});const m=f.props[u],g=m?m===!0?d.params:typeof m=="function"?m(d):m:null,v=pi(h,Ue({},g,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return Eg(s.default,{Component:v,route:d})||v}}});function Eg(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const vT=bT;function yT(t){const e=nT(t.routes,t),s=t.parseQuery||cT,o=t.stringifyQuery||gg,n=t.history,i=Mr(),r=Mr(),a=Mr(),l=Gf(Qo);let d=Qo;Li&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=su.bind(null,W=>""+W),f=su.bind(null,PA),h=su.bind(null,Aa);function m(W,me){let ue,ye;return $1(W)?(ue=e.getRecordMatcher(W),ye=me):ye=W,e.addRoute(ye,ue)}function g(W){const me=e.getRecordMatcher(W);me&&e.removeRoute(me)}function b(){return e.getRoutes().map(W=>W.record)}function v(W){return!!e.getRecordMatcher(W)}function w(W,me){if(me=Ue({},me||l.value),typeof W=="string"){const A=ou(s,W,me.path),R=e.resolve({path:A.path},me),B=n.createHref(A.fullPath);return Ue(A,R,{params:h(R.params),hash:Aa(A.hash),redirectedFrom:void 0,href:B})}let ue;if(W.path!=null)ue=Ue({},W,{path:ou(s,W.path,me.path).path});else{const A=Ue({},W.params);for(const R in A)A[R]==null&&delete A[R];ue=Ue({},W,{params:f(A)}),me.params=f(me.params)}const ye=e.resolve(ue,me),$e=W.hash||"";ye.params=u(h(ye.params));const it=RA(o,Ue({},W,{hash:AA($e),path:ye.path})),Fe=n.createHref(it);return Ue({fullPath:it,hash:$e,query:o===gg?dT(W.query):W.query||{}},ye,{redirectedFrom:void 0,href:Fe})}function E(W){return typeof W=="string"?ou(s,W,l.value.path):Ue({},W)}function _(W,me){if(d!==W)return rr(8,{from:me,to:W})}function D(W){return O(W)}function k(W){return D(Ue(E(W),{replace:!0}))}function T(W){const me=W.matched[W.matched.length-1];if(me&&me.redirect){const{redirect:ue}=me;let ye=typeof ue=="function"?ue(W):ue;return typeof ye=="string"&&(ye=ye.includes("?")||ye.includes("#")?ye=E(ye):{path:ye},ye.params={}),Ue({query:W.query,hash:W.hash,params:ye.path!=null?{}:W.params},ye)}}function O(W,me){const ue=d=w(W),ye=l.value,$e=W.state,it=W.force,Fe=W.replace===!0,A=T(ue);if(A)return O(Ue(E(A),{state:typeof A=="object"?Ue({},$e,A.state):$e,force:it,replace:Fe}),me||ue);const R=ue;R.redirectedFrom=me;let B;return!it&&OA(o,ye,ue)&&(B=rr(16,{to:R,from:ye}),Mt(ye,ye,!0,!1)),(B?Promise.resolve(B):F(R,ye)).catch(K=>So(K)?So(K,2)?K:nt(K):ie(K,R,ye)).then(K=>{if(K){if(So(K,2))return O(Ue({replace:Fe},E(K.to),{state:typeof K.to=="object"?Ue({},$e,K.to.state):$e,force:it}),me||R)}else K=N(R,ye,!0,Fe,$e);return L(R,ye,K),K})}function P(W,me){const ue=_(W,me);return ue?Promise.reject(ue):Promise.resolve()}function M(W){const me=Nt.values().next().value;return me&&typeof me.runWithContext=="function"?me.runWithContext(W):W()}function F(W,me){let ue;const[ye,$e,it]=_T(W,me);ue=nu(ye.reverse(),"beforeRouteLeave",W,me);for(const A of ye)A.leaveGuards.forEach(R=>{ue.push(cn(R,W,me))});const Fe=P.bind(null,W,me);return ue.push(Fe),Lt(ue).then(()=>{ue=[];for(const A of i.list())ue.push(cn(A,W,me));return ue.push(Fe),Lt(ue)}).then(()=>{ue=nu($e,"beforeRouteUpdate",W,me);for(const A of $e)A.updateGuards.forEach(R=>{ue.push(cn(R,W,me))});return ue.push(Fe),Lt(ue)}).then(()=>{ue=[];for(const A of it)if(A.beforeEnter)if(eo(A.beforeEnter))for(const R of A.beforeEnter)ue.push(cn(R,W,me));else ue.push(cn(A.beforeEnter,W,me));return ue.push(Fe),Lt(ue)}).then(()=>(W.matched.forEach(A=>A.enterCallbacks={}),ue=nu(it,"beforeRouteEnter",W,me,M),ue.push(Fe),Lt(ue))).then(()=>{ue=[];for(const A of r.list())ue.push(cn(A,W,me));return ue.push(Fe),Lt(ue)}).catch(A=>So(A,8)?A:Promise.reject(A))}function L(W,me,ue){a.list().forEach(ye=>M(()=>ye(W,me,ue)))}function N(W,me,ue,ye,$e){const it=_(W,me);if(it)return it;const Fe=me===Qo,A=Li?history.state:{};ue&&(ye||Fe?n.replace(W.fullPath,Ue({scroll:Fe&&A&&A.scroll},$e)):n.push(W.fullPath,$e)),l.value=W,Mt(W,me,ue,Fe),nt()}let z;function G(){z||(z=n.listen((W,me,ue)=>{if(!so.listening)return;const ye=w(W),$e=T(ye);if($e){O(Ue($e,{replace:!0,force:!0}),ye).catch(ra);return}d=ye;const it=l.value;Li&&jA(ag(it.fullPath,ue.delta),yd()),F(ye,it).catch(Fe=>So(Fe,12)?Fe:So(Fe,2)?(O(Ue(E(Fe.to),{force:!0}),ye).then(A=>{So(A,20)&&!ue.delta&&ue.type===Ta.pop&&n.go(-1,!1)}).catch(ra),Promise.reject()):(ue.delta&&n.go(-ue.delta,!1),ie(Fe,ye,it))).then(Fe=>{Fe=Fe||N(ye,it,!1),Fe&&(ue.delta&&!So(Fe,8)?n.go(-ue.delta,!1):ue.type===Ta.pop&&So(Fe,20)&&n.go(-1,!1)),L(ye,it,Fe)}).catch(ra)}))}let te=Mr(),Z=Mr(),Q;function ie(W,me,ue){nt(W);const ye=Z.list();return ye.length?ye.forEach($e=>$e(W,me,ue)):console.error(W),Promise.reject(W)}function xe(){return Q&&l.value!==Qo?Promise.resolve():new Promise((W,me)=>{te.add([W,me])})}function nt(W){return Q||(Q=!W,G(),te.list().forEach(([me,ue])=>W?ue(W):me()),te.reset()),W}function Mt(W,me,ue,ye){const{scrollBehavior:$e}=t;if(!Li||!$e)return Promise.resolve();const it=!ue&&HA(ag(W.fullPath,0))||(ye||!ue)&&history.state&&history.state.scroll||null;return pr().then(()=>$e(W,me,it)).then(Fe=>Fe&&UA(Fe)).catch(Fe=>ie(Fe,W,me))}const Pt=W=>n.go(W);let Ct;const Nt=new Set,so={currentRoute:l,listening:!0,addRoute:m,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:b,resolve:w,options:t,push:D,replace:k,go:Pt,back:()=>Pt(-1),forward:()=>Pt(1),beforeEach:i.add,beforeResolve:r.add,afterEach:a.add,onError:Z.add,isReady:xe,install(W){const me=this;W.component("RouterLink",mT),W.component("RouterView",vT),W.config.globalProperties.$router=me,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>Bo(l)}),Li&&!Ct&&l.value===Qo&&(Ct=!0,D(n.location).catch($e=>{}));const ue={};for(const $e in Qo)Object.defineProperty(ue,$e,{get:()=>l.value[$e],enumerable:!0});W.provide(_d,me),W.provide(Bh,Kf(ue)),W.provide(uf,l);const ye=W.unmount;Nt.add(W),W.unmount=function(){Nt.delete(W),Nt.size<1&&(d=Qo,z&&z(),z=null,l.value=Qo,Ct=!1,Q=!1),ye()}}};function Lt(W){return W.reduce((me,ue)=>me.then(()=>M(ue)),Promise.resolve())}return so}function _T(t,e){const s=[],o=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let r=0;r<i;r++){const a=e.matched[r];a&&(t.matched.find(d=>ir(d,a))?o.push(a):s.push(a));const l=t.matched[r];l&&(e.matched.find(d=>ir(d,l))||n.push(l))}return[s,o,n]}function _r(){return Ds(_d)}function j1(t){return Ds(Bh)}const de=(t,e)=>{const s=t.__vccOpts||t;for(const[o,n]of e)s[o]=n;return s},ET={name:"LoadingSpinner",props:{message:{type:String,default:"Cargando..."}}},wT={class:"loading-overlay"},CT={key:0,class:"loading-message"};function ST(t,e,s,o,n,i){return p(),y("div",wT,[e[0]||(e[0]=c("div",{class:"loading-spinner"},null,-1)),s.message?(p(),y("p",CT,S(s.message),1)):I("",!0)])}const rs=de(ET,[["render",ST]]),X=wt("notification",{state:()=>({message:null,type:null,timeoutId:null}),actions:{showNotification(t,e){this.message=t,this.type=e,this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{this.clearNotification()},3e3)},success(t,e="Éxito"){this.showNotification(`${e}: ${t}`,"success")},error(t,e="Error"){this.showNotification(`${e}: ${t}`,"error")},info(t,e="Información"){this.showNotification(`${e}: ${t}`,"info")},warning(t,e="Advertencia"){this.showNotification(`${e}: ${t}`,"warning")},clearNotification(){this.message=null,this.type=null}}});/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,o)=>o?o.toUpperCase():s.toLowerCase()),kT=t=>{const e=xT(t);return e.charAt(0).toUpperCase()+e.slice(1)},DT=(...t)=>t.filter((e,s,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fl={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=({size:t,strokeWidth:e=2,absoluteStrokeWidth:s,color:o,iconNode:n,name:i,class:r,...a},{slots:l})=>pi("svg",{...fl,width:t||fl.width,height:t||fl.height,stroke:o||fl.stroke,"stroke-width":s?Number(e)*24/Number(t):e,class:DT("lucide",...i?[`lucide-${wg(kT(i))}-icon`,`lucide-${wg(i)}`]:["lucide-icon"]),...a},[...n.map(d=>pi(...d)),...l.default?[l.default()]:[]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(t,e)=>(s,{slots:o})=>pi(AT,{...s,iconNode:e,name:t},o);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=pe("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=pe("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=pe("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=pe("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=pe("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=pe("calendar-check",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=pe("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=pe("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=pe("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=pe("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=pe("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=pe("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=pe("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=pe("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=pe("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=pe("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=pe("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=pe("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=pe("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=pe("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=pe("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=pe("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=pe("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=pe("file-chart-column-increasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=pe("file-image",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=pe("file-search",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=pe("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=pe("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=pe("file-x",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=pe("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=pe("files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=pe("folder-closed",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M2 10h20",key:"1ir3d8"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=pe("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=pe("folder-x",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"m9.5 10.5 5 5",key:"ra9qjz"}],["path",{d:"m14.5 10.5-5 5",key:"l2rkpq"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=pe("funnel-x",[["path",{d:"M12.531 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14v6a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341l.427-.473",key:"ol2ft2"}],["path",{d:"m16.5 3.5 5 5",key:"15e6fa"}],["path",{d:"m21.5 3.5-5 5",key:"m0lwru"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=pe("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=pe("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=pe("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=pe("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=pe("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=pe("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=pe("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=pe("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=pe("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=pe("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=pe("phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=pe("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=pe("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=pe("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=pe("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=pe("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=pe("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=pe("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=pe("toggle-left",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=pe("toggle-right",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=pe("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=pe("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=pe("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=pe("user-check",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=pe("user-cog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=pe("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=pe("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=pe("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=pe("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=pe("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=pe("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),KT={name:"Notification",components:{CheckCircle:W1,AlertCircle:Ed,AlertTriangle:Ot,Info:J1,X:Xe},setup(){return{notificationStore:X()}},computed:{notificationClass(){return{"notification-success":this.notificationStore.type==="success","notification-error":this.notificationStore.type==="error","notification-info":this.notificationStore.type==="info","notification-warning":this.notificationStore.type==="warning"}}}},GT={class:"notification-content"},XT={class:"notification-icon"},ZT={class:"notification-message"};function YT(t,e,s,o,n,i){const r=C("CheckCircle"),a=C("AlertCircle"),l=C("AlertTriangle"),d=C("Info"),u=C("X");return o.notificationStore.message?(p(),y("div",{key:0,class:j(["notification",i.notificationClass])},[c("div",GT,[c("span",XT,[o.notificationStore.type==="success"?(p(),q(r,{key:0,size:"20"})):o.notificationStore.type==="error"?(p(),q(a,{key:1,size:"20"})):o.notificationStore.type==="warning"?(p(),q(l,{key:2,size:"20"})):(p(),q(d,{key:3,size:"20"}))]),c("span",ZT,S(o.notificationStore.message),1)]),c("button",{class:"notification-close",onClick:e[0]||(e[0]=(...f)=>o.notificationStore.clearNotification&&o.notificationStore.clearNotification(...f))},[x(u,{size:"16"})])],2)):I("",!0)}const JT=de(KT,[["render",YT],["__scopeId","data-v-aa7eea51"]]),QT={name:"PermissionDebugger",setup(){const t=ns();return{authStore:t,hasPermission:o=>t.isAdmin?!0:o.tipo==="Escritura"?t.hasPermission(o):o.tipo==="Lectura"?t.hasPermission(o)||t.hasPermission({...o,tipo:"Escritura"}):!1,reloadPermissions:async()=>{console.log("Recargando permisos desde el depurador..."),await t.loadUserRoleAndPermissions()}}}},eM={class:"permission-debugger"},tM={class:"debugger-header"},sM={class:"debugger-content"},oM={class:"debug-section"},nM={class:"debug-item"},iM={class:"debug-item"},rM={class:"debug-item"},aM={class:"debug-section"},lM={class:"debug-item"},cM={class:"debug-value"},dM={class:"debug-item"},uM={class:"debug-value"},fM={class:"debug-item"},hM={class:"debug-value"},mM={class:"debug-item"},pM={class:"debug-value"},gM={class:"debug-item"},bM={class:"debug-section"},vM={key:0,class:"no-permissions"},yM={key:1,class:"permissions-list"},_M={class:"permission-name"},EM={class:"debug-section"},wM={class:"permission-check"},CM={class:"check-item"},SM={class:"check-item"},xM={class:"check-item"},kM={class:"check-item"};function DM(t,e,s,o,n,i){var r,a,l,d,u,f,h,m,g,b,v,w,E;return p(),y("div",eM,[c("div",tM,[e[1]||(e[1]=c("h3",null,"Depurador de Permisos",-1)),c("button",{onClick:e[0]||(e[0]=(..._)=>o.reloadPermissions&&o.reloadPermissions(..._)),class:"reload-button"}," Recargar Permisos ")]),c("div",sM,[c("div",oM,[e[5]||(e[5]=c("h4",null,"Estado de Autenticación",-1)),c("div",nM,[e[2]||(e[2]=c("span",{class:"debug-label"},"Autenticado:",-1)),c("span",{class:j(["debug-value",{"value-true":o.authStore.isAuthenticated,"value-false":!o.authStore.isAuthenticated}])},S(o.authStore.isAuthenticated?"Sí":"No"),3)]),c("div",iM,[e[3]||(e[3]=c("span",{class:"debug-label"},"Permisos Cargados:",-1)),c("span",{class:j(["debug-value",{"value-true":o.authStore.permissionsLoaded,"value-false":!o.authStore.permissionsLoaded}])},S(o.authStore.permissionsLoaded?"Sí":"No"),3)]),c("div",rM,[e[4]||(e[4]=c("span",{class:"debug-label"},"Cargando Permisos:",-1)),c("span",{class:j(["debug-value",{"value-true":o.authStore.isLoadingPermissions,"value-false":!o.authStore.isLoadingPermissions}])},S(o.authStore.isLoadingPermissions?"Sí":"No"),3)])]),c("div",aM,[e[11]||(e[11]=c("h4",null,"Información de Usuario",-1)),c("div",lM,[e[6]||(e[6]=c("span",{class:"debug-label"},"ID:",-1)),c("span",cM,S(((r=o.authStore.user)==null?void 0:r.id)||"N/A"),1)]),c("div",dM,[e[7]||(e[7]=c("span",{class:"debug-label"},"Nombre:",-1)),c("span",uM,S(((a=o.authStore.user)==null?void 0:a.nombre)||"N/A"),1)]),c("div",fM,[e[8]||(e[8]=c("span",{class:"debug-label"},"Rol ID:",-1)),c("span",hM,S(((l=o.authStore.user)==null?void 0:l.id_rol)||"N/A"),1)]),c("div",mM,[e[9]||(e[9]=c("span",{class:"debug-label"},"Rol Nombre:",-1)),c("span",pM,S(((u=(d=o.authStore.user)==null?void 0:d.Rol)==null?void 0:u.nombre)||"N/A"),1)]),c("div",gM,[e[10]||(e[10]=c("span",{class:"debug-label"},"Es Admin:",-1)),c("span",{class:j(["debug-value",{"value-true":o.authStore.isAdmin,"value-false":!o.authStore.isAdmin}])},S(o.authStore.isAdmin?"Sí":"No"),3)])]),c("div",bM,[c("h4",null,"Permisos ("+S(((m=(h=(f=o.authStore.user)==null?void 0:f.Rol)==null?void 0:h.Permisos)==null?void 0:m.length)||0)+")",1),(v=(b=(g=o.authStore.user)==null?void 0:g.Rol)==null?void 0:b.Permisos)!=null&&v.length?(p(),y("div",yM,[(p(!0),y(he,null,De((E=(w=o.authStore.user)==null?void 0:w.Rol)==null?void 0:E.Permisos,(_,D)=>(p(),y("div",{key:D,class:"permission-item"},[c("span",_M,S(_.nombre),1),c("span",{class:j(["permission-type",{"type-read":_.tipo==="Lectura","type-write":_.tipo==="Escritura"}])},S(_.tipo),3)]))),128))])):(p(),y("div",vM," No hay permisos cargados "))]),c("div",EM,[e[16]||(e[16]=c("h4",null,"Verificación de Permisos",-1)),c("div",wM,[c("div",CM,[e[12]||(e[12]=c("span",{class:"check-label"},"Empleados (Lectura):",-1)),c("span",{class:j(["check-value",{"value-true":o.hasPermission({nombre:"Empleados",tipo:"Lectura"}),"value-false":!o.hasPermission({nombre:"Empleados",tipo:"Lectura"})}])},S(o.hasPermission({nombre:"Empleados",tipo:"Lectura"})?"✓":"✗"),3)]),c("div",SM,[e[13]||(e[13]=c("span",{class:"check-label"},"Empleados (Escritura):",-1)),c("span",{class:j(["check-value",{"value-true":o.hasPermission({nombre:"Empleados",tipo:"Escritura"}),"value-false":!o.hasPermission({nombre:"Empleados",tipo:"Escritura"})}])},S(o.hasPermission({nombre:"Empleados",tipo:"Escritura"})?"✓":"✗"),3)]),c("div",xM,[e[14]||(e[14]=c("span",{class:"check-label"},"Usuarios (Lectura):",-1)),c("span",{class:j(["check-value",{"value-true":o.hasPermission({nombre:"Usuarios",tipo:"Lectura"}),"value-false":!o.hasPermission({nombre:"Usuarios",tipo:"Lectura"})}])},S(o.hasPermission({nombre:"Usuarios",tipo:"Lectura"})?"✓":"✗"),3)]),c("div",kM,[e[15]||(e[15]=c("span",{class:"check-label"},"Usuarios (Escritura):",-1)),c("span",{class:j(["check-value",{"value-true":o.hasPermission({nombre:"Usuarios",tipo:"Escritura"}),"value-false":!o.hasPermission({nombre:"Usuarios",tipo:"Escritura"})}])},S(o.hasPermission({nombre:"Usuarios",tipo:"Escritura"})?"✓":"✗"),3)])])])])])}const AM=de(QT,[["render",DM],["__scopeId","data-v-9c39c4c9"]]),TM={name:"App",components:{PermissionDebugger:AM,LoadingSpinner:rs,Notification:JT},setup(){const t=ns();_r();const e=we(()=>!1),s=ge(!1),o=ge(!1),n=we(()=>t.initializing||t.isAuthenticated&&!t.permissionsLoaded),i=we(()=>t.initializing?"Inicializando aplicación...":t.isLoadingPermissions?"Cargando permisos de usuario...":"Verificando autenticación..."),r=()=>{o.value=!o.value,localStorage.setItem("showPermissionDebugger",o.value)};return Os(()=>t.isAuthenticated,a=>{a&&!t.permissionsLoaded&&!t.isLoadingPermissions&&t.loadUserRoleAndPermissions().catch(l=>{t.permissionsLoaded=!0})}),is(async()=>{const a=localStorage.getItem("showPermissionDebugger");a!==null&&(o.value=a==="true");const l=setTimeout(()=>{s.value=!0,t.initializing=!1,t.isLoadingPermissions=!1,t.isAuthenticated&&(t.permissionsLoaded=!0)},5e3);try{await t.initAuth(),clearTimeout(l)}catch{s.value=!0,t.initializing=!1}}),{isLoading:n,loadingMessage:i,forceLoaded:s,isDevelopment:e,showDebugger:o,toggleDebugger:r}}},MM={id:"app"};function PM(t,e,s,o,n,i){const r=C("loading-spinner"),a=C("router-view"),l=C("Notification"),d=C("PermissionDebugger");return p(),y("div",MM,[o.isLoading&&!o.forceLoaded?(p(),q(r,{key:0,message:o.loadingMessage},null,8,["message"])):(p(),q(a,{key:1})),x(l),o.isDevelopment&&o.showDebugger?(p(),q(d,{key:2})):I("",!0)])}const IM=de(TM,[["render",PM]]);function i0(t){t.beforeEach(async(e,s,o)=>{const n=ns();if(e.meta.public){o();return}if(n.initializing){let r=0;const a=2e3,l=100;for(;n.initializing&&r<a;)await new Promise(d=>setTimeout(d,l)),r+=l}if(!n.isAuthenticated){o({name:"login",query:{redirect:e.fullPath}});return}if(!n.permissionsLoaded&&!n.isLoadingPermissions)try{await n.loadUserRoleAndPermissions()}catch{n.permissionsLoaded=!0}if(e.name==="unauthorized"){o();return}const i=e.meta.requiredPermission;if(i){if(n.isAdmin){o();return}if(i.tipo==="Escritura"){if(!n.hasPermission(i)){o({name:"unauthorized"});return}}else if(i.tipo==="Lectura"){const r=n.hasPermission(i),a=n.hasPermission({...i,tipo:"Escritura"});if(!r&&!a){o({name:"unauthorized"});return}}}o()})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ya(t){return t+.5|0}const hn=(t,e,s)=>Math.max(Math.min(t,s),e);function qr(t){return hn(Ya(t*2.55),0,255)}function _n(t){return hn(Ya(t*255),0,255)}function Ro(t){return hn(Ya(t/2.55)/100,0,1)}function Sg(t){return hn(Ya(t*100),0,100)}const Fs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ff=[..."0123456789ABCDEF"],FM=t=>ff[t&15],RM=t=>ff[(t&240)>>4]+ff[t&15],hl=t=>(t&240)>>4===(t&15),OM=t=>hl(t.r)&&hl(t.g)&&hl(t.b)&&hl(t.a);function NM(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&Fs[t[1]]*17,g:255&Fs[t[2]]*17,b:255&Fs[t[3]]*17,a:e===5?Fs[t[4]]*17:255}:(e===7||e===9)&&(s={r:Fs[t[1]]<<4|Fs[t[2]],g:Fs[t[3]]<<4|Fs[t[4]],b:Fs[t[5]]<<4|Fs[t[6]],a:e===9?Fs[t[7]]<<4|Fs[t[8]]:255})),s}const LM=(t,e)=>t<255?e(t):"";function zM(t){var e=OM(t)?FM:RM;return t?"#"+e(t.r)+e(t.g)+e(t.b)+LM(t.a,e):void 0}const $M=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function r0(t,e,s){const o=e*Math.min(s,1-s),n=(i,r=(i+t/30)%12)=>s-o*Math.max(Math.min(r-3,9-r,1),-1);return[n(0),n(8),n(4)]}function VM(t,e,s){const o=(n,i=(n+t/60)%6)=>s-s*e*Math.max(Math.min(i,4-i,1),0);return[o(5),o(3),o(1)]}function BM(t,e,s){const o=r0(t,1,.5);let n;for(e+s>1&&(n=1/(e+s),e*=n,s*=n),n=0;n<3;n++)o[n]*=1-e-s,o[n]+=e;return o}function UM(t,e,s,o,n){return t===n?(e-s)/o+(e<s?6:0):e===n?(s-t)/o+2:(t-e)/o+4}function qh(t){const s=t.r/255,o=t.g/255,n=t.b/255,i=Math.max(s,o,n),r=Math.min(s,o,n),a=(i+r)/2;let l,d,u;return i!==r&&(u=i-r,d=a>.5?u/(2-i-r):u/(i+r),l=UM(s,o,n,u,i),l=l*60+.5),[l|0,d||0,a]}function Wh(t,e,s,o){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,o)).map(_n)}function Kh(t,e,s){return Wh(r0,t,e,s)}function jM(t,e,s){return Wh(BM,t,e,s)}function HM(t,e,s){return Wh(VM,t,e,s)}function a0(t){return(t%360+360)%360}function qM(t){const e=$M.exec(t);let s=255,o;if(!e)return;e[5]!==o&&(s=e[6]?qr(+e[5]):_n(+e[5]));const n=a0(+e[2]),i=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?o=jM(n,i,r):e[1]==="hsv"?o=HM(n,i,r):o=Kh(n,i,r),{r:o[0],g:o[1],b:o[2],a:s}}function WM(t,e){var s=qh(t);s[0]=a0(s[0]+e),s=Kh(s),t.r=s[0],t.g=s[1],t.b=s[2]}function KM(t){if(!t)return;const e=qh(t),s=e[0],o=Sg(e[1]),n=Sg(e[2]);return t.a<255?`hsla(${s}, ${o}%, ${n}%, ${Ro(t.a)})`:`hsl(${s}, ${o}%, ${n}%)`}const xg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},kg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function GM(){const t={},e=Object.keys(kg),s=Object.keys(xg);let o,n,i,r,a;for(o=0;o<e.length;o++){for(r=a=e[o],n=0;n<s.length;n++)i=s[n],a=a.replace(i,xg[i]);i=parseInt(kg[r],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let ml;function XM(t){ml||(ml=GM(),ml.transparent=[0,0,0,0]);const e=ml[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const ZM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function YM(t){const e=ZM.exec(t);let s=255,o,n,i;if(e){if(e[7]!==o){const r=+e[7];s=e[8]?qr(r):hn(r*255,0,255)}return o=+e[1],n=+e[3],i=+e[5],o=255&(e[2]?qr(o):hn(o,0,255)),n=255&(e[4]?qr(n):hn(n,0,255)),i=255&(e[6]?qr(i):hn(i,0,255)),{r:o,g:n,b:i,a:s}}}function JM(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ro(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const iu=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ti=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function QM(t,e,s){const o=Ti(Ro(t.r)),n=Ti(Ro(t.g)),i=Ti(Ro(t.b));return{r:_n(iu(o+s*(Ti(Ro(e.r))-o))),g:_n(iu(n+s*(Ti(Ro(e.g))-n))),b:_n(iu(i+s*(Ti(Ro(e.b))-i))),a:t.a+s*(e.a-t.a)}}function pl(t,e,s){if(t){let o=qh(t);o[e]=Math.max(0,Math.min(o[e]+o[e]*s,e===0?360:1)),o=Kh(o),t.r=o[0],t.g=o[1],t.b=o[2]}}function l0(t,e){return t&&Object.assign(e||{},t)}function Dg(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=_n(t[3]))):(e=l0(t,{r:0,g:0,b:0,a:1}),e.a=_n(e.a)),e}function eP(t){return t.charAt(0)==="r"?YM(t):qM(t)}class Ma{constructor(e){if(e instanceof Ma)return e;const s=typeof e;let o;s==="object"?o=Dg(e):s==="string"&&(o=NM(e)||XM(e)||eP(e)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var e=l0(this._rgb);return e&&(e.a=Ro(e.a)),e}set rgb(e){this._rgb=Dg(e)}rgbString(){return this._valid?JM(this._rgb):void 0}hexString(){return this._valid?zM(this._rgb):void 0}hslString(){return this._valid?KM(this._rgb):void 0}mix(e,s){if(e){const o=this.rgb,n=e.rgb;let i;const r=s===i?.5:s,a=2*r-1,l=o.a-n.a,d=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-d,o.r=255&d*o.r+i*n.r+.5,o.g=255&d*o.g+i*n.g+.5,o.b=255&d*o.b+i*n.b+.5,o.a=r*o.a+(1-r)*n.a,this.rgb=o}return this}interpolate(e,s){return e&&(this._rgb=QM(this._rgb,e._rgb,s)),this}clone(){return new Ma(this.rgb)}alpha(e){return this._rgb.a=_n(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=Ya(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return pl(this._rgb,2,e),this}darken(e){return pl(this._rgb,2,-e),this}saturate(e){return pl(this._rgb,1,e),this}desaturate(e){return pl(this._rgb,1,-e),this}rotate(e){return WM(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function xo(){}const tP=(()=>{let t=0;return()=>t++})();function Re(t){return t==null}function rt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Oe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ut(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ws(t,e){return ut(t)?t:e}function Te(t,e){return typeof t>"u"?e:t}const sP=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,c0=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Je(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function He(t,e,s,o){let n,i,r;if(rt(t))for(i=t.length,n=0;n<i;n++)e.call(s,t[n],n);else if(Oe(t))for(r=Object.keys(t),i=r.length,n=0;n<i;n++)e.call(s,t[r[n]],r[n])}function Pc(t,e){let s,o,n,i;if(!t||!e||t.length!==e.length)return!1;for(s=0,o=t.length;s<o;++s)if(n=t[s],i=e[s],n.datasetIndex!==i.datasetIndex||n.index!==i.index)return!1;return!0}function Ic(t){if(rt(t))return t.map(Ic);if(Oe(t)){const e=Object.create(null),s=Object.keys(t),o=s.length;let n=0;for(;n<o;++n)e[s[n]]=Ic(t[s[n]]);return e}return t}function d0(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function oP(t,e,s,o){if(!d0(t))return;const n=e[t],i=s[t];Oe(n)&&Oe(i)?Pa(n,i,o):e[t]=Ic(i)}function Pa(t,e,s){const o=rt(e)?e:[e],n=o.length;if(!Oe(t))return t;s=s||{};const i=s.merger||oP;let r;for(let a=0;a<n;++a){if(r=o[a],!Oe(r))continue;const l=Object.keys(r);for(let d=0,u=l.length;d<u;++d)i(l[d],t,r,s)}return t}function la(t,e){return Pa(t,e,{merger:nP})}function nP(t,e,s){if(!d0(t))return;const o=e[t],n=s[t];Oe(o)&&Oe(n)?la(o,n):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ic(n))}const Ag={"":t=>t,x:t=>t.x,y:t=>t.y};function iP(t){const e=t.split("."),s=[];let o="";for(const n of e)o+=n,o.endsWith("\\")?o=o.slice(0,-1)+".":(s.push(o),o="");return s}function rP(t){const e=iP(t);return s=>{for(const o of e){if(o==="")break;s=s&&s[o]}return s}}function xn(t,e){return(Ag[e]||(Ag[e]=rP(e)))(t)}function Gh(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ia=t=>typeof t<"u",kn=t=>typeof t=="function",Tg=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function aP(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ot=Math.PI,st=2*ot,lP=st+ot,Fc=Number.POSITIVE_INFINITY,cP=ot/180,gt=ot/2,zn=ot/4,Mg=ot*2/3,mn=Math.log10,bo=Math.sign;function ca(t,e,s){return Math.abs(t-e)<s}function Pg(t){const e=Math.round(t);t=ca(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(mn(t))),o=t/s;return(o<=1?1:o<=2?2:o<=5?5:10)*s}function dP(t){const e=[],s=Math.sqrt(t);let o;for(o=1;o<s;o++)t%o===0&&(e.push(o),e.push(t/o));return s===(s|0)&&e.push(s),e.sort((n,i)=>n-i).pop(),e}function uP(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function cr(t){return!uP(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function fP(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function u0(t,e,s){let o,n,i;for(o=0,n=t.length;o<n;o++)i=t[o][s],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Gs(t){return t*(ot/180)}function Xh(t){return t*(180/ot)}function Ig(t){if(!ut(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function f0(t,e){const s=e.x-t.x,o=e.y-t.y,n=Math.sqrt(s*s+o*o);let i=Math.atan2(o,s);return i<-.5*ot&&(i+=st),{angle:i,distance:n}}function hf(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function hP(t,e){return(t-e+lP)%st-ot}function xs(t){return(t%st+st)%st}function Fa(t,e,s,o){const n=xs(t),i=xs(e),r=xs(s),a=xs(i-n),l=xs(r-n),d=xs(n-i),u=xs(n-r);return n===i||n===r||o&&i===r||a>l&&d<u}function kt(t,e,s){return Math.max(e,Math.min(s,t))}function mP(t){return kt(t,-32768,32767)}function zo(t,e,s,o=1e-6){return t>=Math.min(e,s)-o&&t<=Math.max(e,s)+o}function Zh(t,e,s){s=s||(r=>t[r]<e);let o=t.length-1,n=0,i;for(;o-n>1;)i=n+o>>1,s(i)?n=i:o=i;return{lo:n,hi:o}}const $o=(t,e,s,o)=>Zh(t,s,o?n=>{const i=t[n][e];return i<s||i===s&&t[n+1][e]===s}:n=>t[n][e]<s),pP=(t,e,s)=>Zh(t,s,o=>t[o][e]>=s);function gP(t,e,s){let o=0,n=t.length;for(;o<n&&t[o]<e;)o++;for(;n>o&&t[n-1]>s;)n--;return o>0||n<t.length?t.slice(o,n):t}const h0=["push","pop","shift","splice","unshift"];function bP(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),h0.forEach(s=>{const o="_onData"+Gh(s),n=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...i){const r=n.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[o]=="function"&&a[o](...i)}),r}})})}function Fg(t,e){const s=t._chartjs;if(!s)return;const o=s.listeners,n=o.indexOf(e);n!==-1&&o.splice(n,1),!(o.length>0)&&(h0.forEach(i=>{delete t[i]}),delete t._chartjs)}function m0(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const p0=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function g0(t,e){let s=[],o=!1;return function(...n){s=n,o||(o=!0,p0.call(window,()=>{o=!1,t.apply(e,s)}))}}function vP(t,e){let s;return function(...o){return e?(clearTimeout(s),s=setTimeout(t,e,o)):t.apply(this,o),e}}const Yh=t=>t==="start"?"left":t==="end"?"right":"center",Vt=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,yP=(t,e,s,o)=>t===(o?"left":"right")?s:t==="center"?(e+s)/2:e;function b0(t,e,s){const o=e.length;let n=0,i=o;if(t._sorted){const{iScale:r,vScale:a,_parsed:l}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=r.axis,{min:f,max:h,minDefined:m,maxDefined:g}=r.getUserBounds();if(m){if(n=Math.min($o(l,u,f).lo,s?o:$o(e,u,r.getPixelForValue(f)).lo),d){const b=l.slice(0,n+1).reverse().findIndex(v=>!Re(v[a.axis]));n-=Math.max(0,b)}n=kt(n,0,o-1)}if(g){let b=Math.max($o(l,r.axis,h,!0).hi+1,s?0:$o(e,u,r.getPixelForValue(h),!0).hi+1);if(d){const v=l.slice(b-1).findIndex(w=>!Re(w[a.axis]));b+=Math.max(0,v)}i=kt(b,n,o)-n}else i=o-n}return{start:n,count:i}}function v0(t){const{xScale:e,yScale:s,_scaleRanges:o}=t,n={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!o)return t._scaleRanges=n,!0;const i=o.xmin!==e.min||o.xmax!==e.max||o.ymin!==s.min||o.ymax!==s.max;return Object.assign(o,n),i}const gl=t=>t===0||t===1,Rg=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*st/s)),Og=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*st/s)+1,da={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*gt)+1,easeOutSine:t=>Math.sin(t*gt),easeInOutSine:t=>-.5*(Math.cos(ot*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>gl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>gl(t)?t:Rg(t,.075,.3),easeOutElastic:t=>gl(t)?t:Og(t,.075,.3),easeInOutElastic(t){return gl(t)?t:t<.5?.5*Rg(t*2,.1125,.45):.5+.5*Og(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-da.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?da.easeInBounce(t*2)*.5:da.easeOutBounce(t*2-1)*.5+.5};function Jh(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Ng(t){return Jh(t)?t:new Ma(t)}function ru(t){return Jh(t)?t:new Ma(t).saturate(.5).darken(.1).hexString()}const _P=["x","y","borderWidth","radius","tension"],EP=["color","borderColor","backgroundColor"];function wP(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:EP},numbers:{type:"number",properties:_P}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function CP(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Lg=new Map;function SP(t,e){e=e||{};const s=t+JSON.stringify(e);let o=Lg.get(s);return o||(o=new Intl.NumberFormat(t,e),Lg.set(s,o)),o}function Ja(t,e,s){return SP(e,s).format(t)}const y0={values(t){return rt(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const o=this.chart.options.locale;let n,i=t;if(s.length>1){const d=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(d<1e-4||d>1e15)&&(n="scientific"),i=xP(t,s)}const r=mn(Math.abs(i)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:n,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ja(t,o,l)},logarithmic(t,e,s){if(t===0)return"0";const o=s[e].significand||t/Math.pow(10,Math.floor(mn(t)));return[1,2,3,5,10,15].includes(o)||e>.8*s.length?y0.numeric.call(this,t,e,s):""}};function xP(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var xd={formatters:y0};function kP(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xd.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const vi=Object.create(null),mf=Object.create(null);function ua(t,e){if(!e)return t;const s=e.split(".");for(let o=0,n=s.length;o<n;++o){const i=s[o];t=t[i]||(t[i]=Object.create(null))}return t}function au(t,e,s){return typeof e=="string"?Pa(ua(t,e),s):Pa(ua(t,""),e)}class DP{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,n)=>ru(n.backgroundColor),this.hoverBorderColor=(o,n)=>ru(n.borderColor),this.hoverColor=(o,n)=>ru(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return au(this,e,s)}get(e){return ua(this,e)}describe(e,s){return au(mf,e,s)}override(e,s){return au(vi,e,s)}route(e,s,o,n){const i=ua(this,e),r=ua(this,o),a="_"+s;Object.defineProperties(i,{[a]:{value:i[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[a],d=r[n];return Oe(l)?Object.assign({},d,l):Te(l,d)},set(l){this[a]=l}}})}apply(e){e.forEach(s=>s(this))}}var at=new DP({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[wP,CP,kP]);function AP(t){return!t||Re(t.size)||Re(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Rc(t,e,s,o,n){let i=e[n];return i||(i=e[n]=t.measureText(n).width,s.push(n)),i>o&&(o=i),o}function TP(t,e,s,o){o=o||{};let n=o.data=o.data||{},i=o.garbageCollect=o.garbageCollect||[];o.font!==e&&(n=o.data={},i=o.garbageCollect=[],o.font=e),t.save(),t.font=e;let r=0;const a=s.length;let l,d,u,f,h;for(l=0;l<a;l++)if(f=s[l],f!=null&&!rt(f))r=Rc(t,n,i,r,f);else if(rt(f))for(d=0,u=f.length;d<u;d++)h=f[d],h!=null&&!rt(h)&&(r=Rc(t,n,i,r,h));t.restore();const m=i.length/2;if(m>s.length){for(l=0;l<m;l++)delete n[i[l]];i.splice(0,m)}return r}function $n(t,e,s){const o=t.currentDevicePixelRatio,n=s!==0?Math.max(s/2,.5):0;return Math.round((e-n)*o)/o+n}function zg(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function pf(t,e,s,o){_0(t,e,s,o,null)}function _0(t,e,s,o,n){let i,r,a,l,d,u,f,h;const m=e.pointStyle,g=e.rotation,b=e.radius;let v=(g||0)*cP;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(s,o),t.rotate(v),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),m){default:n?t.ellipse(s,o,n/2,b,0,0,st):t.arc(s,o,b,0,st),t.closePath();break;case"triangle":u=n?n/2:b,t.moveTo(s+Math.sin(v)*u,o-Math.cos(v)*b),v+=Mg,t.lineTo(s+Math.sin(v)*u,o-Math.cos(v)*b),v+=Mg,t.lineTo(s+Math.sin(v)*u,o-Math.cos(v)*b),t.closePath();break;case"rectRounded":d=b*.516,l=b-d,r=Math.cos(v+zn)*l,f=Math.cos(v+zn)*(n?n/2-d:l),a=Math.sin(v+zn)*l,h=Math.sin(v+zn)*(n?n/2-d:l),t.arc(s-f,o-a,d,v-ot,v-gt),t.arc(s+h,o-r,d,v-gt,v),t.arc(s+f,o+a,d,v,v+gt),t.arc(s-h,o+r,d,v+gt,v+ot),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*b,u=n?n/2:l,t.rect(s-u,o-l,2*u,2*l);break}v+=zn;case"rectRot":f=Math.cos(v)*(n?n/2:b),r=Math.cos(v)*b,a=Math.sin(v)*b,h=Math.sin(v)*(n?n/2:b),t.moveTo(s-f,o-a),t.lineTo(s+h,o-r),t.lineTo(s+f,o+a),t.lineTo(s-h,o+r),t.closePath();break;case"crossRot":v+=zn;case"cross":f=Math.cos(v)*(n?n/2:b),r=Math.cos(v)*b,a=Math.sin(v)*b,h=Math.sin(v)*(n?n/2:b),t.moveTo(s-f,o-a),t.lineTo(s+f,o+a),t.moveTo(s+h,o-r),t.lineTo(s-h,o+r);break;case"star":f=Math.cos(v)*(n?n/2:b),r=Math.cos(v)*b,a=Math.sin(v)*b,h=Math.sin(v)*(n?n/2:b),t.moveTo(s-f,o-a),t.lineTo(s+f,o+a),t.moveTo(s+h,o-r),t.lineTo(s-h,o+r),v+=zn,f=Math.cos(v)*(n?n/2:b),r=Math.cos(v)*b,a=Math.sin(v)*b,h=Math.sin(v)*(n?n/2:b),t.moveTo(s-f,o-a),t.lineTo(s+f,o+a),t.moveTo(s+h,o-r),t.lineTo(s-h,o+r);break;case"line":r=n?n/2:Math.cos(v)*b,a=Math.sin(v)*b,t.moveTo(s-r,o-a),t.lineTo(s+r,o+a);break;case"dash":t.moveTo(s,o),t.lineTo(s+Math.cos(v)*(n?n/2:b),o+Math.sin(v)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Vo(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function kd(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Dd(t){t.restore()}function MP(t,e,s,o,n){if(!e)return t.lineTo(s.x,s.y);if(n==="middle"){const i=(e.x+s.x)/2;t.lineTo(i,e.y),t.lineTo(i,s.y)}else n==="after"!=!!o?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function PP(t,e,s,o){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(o?e.cp1x:e.cp2x,o?e.cp1y:e.cp2y,o?s.cp2x:s.cp1x,o?s.cp2y:s.cp1y,s.x,s.y)}function IP(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Re(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function FP(t,e,s,o,n){if(n.strikethrough||n.underline){const i=t.measureText(o),r=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=s-i.actualBoundingBoxAscent,d=s+i.actualBoundingBoxDescent,u=n.strikethrough?(l+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(r,u),t.lineTo(a,u),t.stroke()}}function RP(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function yi(t,e,s,o,n,i={}){const r=rt(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,d;for(t.save(),t.font=n.string,IP(t,i),l=0;l<r.length;++l)d=r[l],i.backdrop&&RP(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Re(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,s,o,i.maxWidth)),t.fillText(d,s,o,i.maxWidth),FP(t,s,o,d,i),o+=Number(n.lineHeight);t.restore()}function Ra(t,e){const{x:s,y:o,w:n,h:i,radius:r}=e;t.arc(s+r.topLeft,o+r.topLeft,r.topLeft,1.5*ot,ot,!0),t.lineTo(s,o+i-r.bottomLeft),t.arc(s+r.bottomLeft,o+i-r.bottomLeft,r.bottomLeft,ot,gt,!0),t.lineTo(s+n-r.bottomRight,o+i),t.arc(s+n-r.bottomRight,o+i-r.bottomRight,r.bottomRight,gt,0,!0),t.lineTo(s+n,o+r.topRight),t.arc(s+n-r.topRight,o+r.topRight,r.topRight,0,-gt,!0),t.lineTo(s+r.topLeft,o)}const OP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,NP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function LP(t,e){const s=(""+t).match(OP);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const zP=t=>+t||0;function Qh(t,e){const s={},o=Oe(e),n=o?Object.keys(e):e,i=Oe(t)?o?r=>Te(t[r],t[e[r]]):r=>t[r]:()=>t;for(const r of n)s[r]=zP(i(r));return s}function E0(t){return Qh(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ci(t){return Qh(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Zt(t){const e=E0(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Et(t,e){t=t||{},e=e||at.font;let s=Te(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let o=Te(t.style,e.style);o&&!(""+o).match(NP)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);const n={family:Te(t.family,e.family),lineHeight:LP(Te(t.lineHeight,e.lineHeight),s),size:s,style:o,weight:Te(t.weight,e.weight),string:""};return n.string=AP(n),n}function Wr(t,e,s,o){let n,i,r;for(n=0,i=t.length;n<i;++n)if(r=t[n],r!==void 0&&r!==void 0)return r}function $P(t,e,s){const{min:o,max:n}=t,i=c0(e,(n-o)/2),r=(a,l)=>s&&a===0?0:a+l;return{min:r(o,-Math.abs(i)),max:r(n,i)}}function Fn(t,e){return Object.assign(Object.create(t),e)}function em(t,e=[""],s,o,n=()=>t[0]){const i=s||t;typeof o>"u"&&(o=x0("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:o,_getTarget:n,override:a=>em([a,...t],e,i,o)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return C0(a,l,()=>KP(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Vg(a).includes(l)},ownKeys(a){return Vg(a)},set(a,l,d){const u=a._storage||(a._storage=n());return a[l]=u[l]=d,delete a._keys,!0}})}function dr(t,e,s,o){const n={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:w0(t,o),setContext:i=>dr(t,i,s,o),override:i=>dr(t.override(i),e,s,o)};return new Proxy(n,{deleteProperty(i,r){return delete i[r],delete t[r],!0},get(i,r,a){return C0(i,r,()=>BP(i,r,a))},getOwnPropertyDescriptor(i,r){return i._descriptors.allKeys?Reflect.has(t,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,r)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,r){return Reflect.has(t,r)},ownKeys(){return Reflect.ownKeys(t)},set(i,r,a){return t[r]=a,delete i[r],!0}})}function w0(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:o=e.indexable,_allKeys:n=e.allKeys}=t;return{allKeys:n,scriptable:s,indexable:o,isScriptable:kn(s)?s:()=>s,isIndexable:kn(o)?o:()=>o}}const VP=(t,e)=>t?t+Gh(e):e,tm=(t,e)=>Oe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function C0(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const o=s();return t[e]=o,o}function BP(t,e,s){const{_proxy:o,_context:n,_subProxy:i,_descriptors:r}=t;let a=o[e];return kn(a)&&r.isScriptable(e)&&(a=UP(e,a,t,s)),rt(a)&&a.length&&(a=jP(e,a,t,r.isIndexable)),tm(e,a)&&(a=dr(a,n,i&&i[e],r)),a}function UP(t,e,s,o){const{_proxy:n,_context:i,_subProxy:r,_stack:a}=s;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,r||o);return a.delete(t),tm(t,l)&&(l=sm(n._scopes,n,t,l)),l}function jP(t,e,s,o){const{_proxy:n,_context:i,_subProxy:r,_descriptors:a}=s;if(typeof i.index<"u"&&o(t))return e[i.index%e.length];if(Oe(e[0])){const l=e,d=n._scopes.filter(u=>u!==l);e=[];for(const u of l){const f=sm(d,n,t,u);e.push(dr(f,i,r&&r[t],a))}}return e}function S0(t,e,s){return kn(t)?t(e,s):t}const HP=(t,e)=>t===!0?e:typeof t=="string"?xn(e,t):void 0;function qP(t,e,s,o,n){for(const i of e){const r=HP(s,i);if(r){t.add(r);const a=S0(r._fallback,s,n);if(typeof a<"u"&&a!==s&&a!==o)return a}else if(r===!1&&typeof o<"u"&&s!==o)return null}return!1}function sm(t,e,s,o){const n=e._rootScopes,i=S0(e._fallback,s,o),r=[...t,...n],a=new Set;a.add(o);let l=$g(a,r,s,i||s,o);return l===null||typeof i<"u"&&i!==s&&(l=$g(a,r,i,l,o),l===null)?!1:em(Array.from(a),[""],n,i,()=>WP(e,s,o))}function $g(t,e,s,o,n){for(;s;)s=qP(t,e,s,o,n);return s}function WP(t,e,s){const o=t._getTarget();e in o||(o[e]={});const n=o[e];return rt(n)&&Oe(s)?s:n||{}}function KP(t,e,s,o){let n;for(const i of e)if(n=x0(VP(i,t),s),typeof n<"u")return tm(t,n)?sm(s,o,t,n):n}function x0(t,e){for(const s of e){if(!s)continue;const o=s[t];if(typeof o<"u")return o}}function Vg(t){let e=t._keys;return e||(e=t._keys=GP(t._scopes)),e}function GP(t){const e=new Set;for(const s of t)for(const o of Object.keys(s).filter(n=>!n.startsWith("_")))e.add(o);return Array.from(e)}function k0(t,e,s,o){const{iScale:n}=t,{key:i="r"}=this._parsing,r=new Array(o);let a,l,d,u;for(a=0,l=o;a<l;++a)d=a+s,u=e[d],r[a]={r:n.parse(xn(u,i),d)};return r}const XP=Number.EPSILON||1e-14,ur=(t,e)=>e<t.length&&!t[e].skip&&t[e],D0=t=>t==="x"?"y":"x";function ZP(t,e,s,o){const n=t.skip?e:t,i=e,r=s.skip?e:s,a=hf(i,n),l=hf(r,i);let d=a/(a+l),u=l/(a+l);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const f=o*d,h=o*u;return{previous:{x:i.x-f*(r.x-n.x),y:i.y-f*(r.y-n.y)},next:{x:i.x+h*(r.x-n.x),y:i.y+h*(r.y-n.y)}}}function YP(t,e,s){const o=t.length;let n,i,r,a,l,d=ur(t,0);for(let u=0;u<o-1;++u)if(l=d,d=ur(t,u+1),!(!l||!d)){if(ca(e[u],0,XP)){s[u]=s[u+1]=0;continue}n=s[u]/e[u],i=s[u+1]/e[u],a=Math.pow(n,2)+Math.pow(i,2),!(a<=9)&&(r=3/Math.sqrt(a),s[u]=n*r*e[u],s[u+1]=i*r*e[u])}}function JP(t,e,s="x"){const o=D0(s),n=t.length;let i,r,a,l=ur(t,0);for(let d=0;d<n;++d){if(r=a,a=l,l=ur(t,d+1),!a)continue;const u=a[s],f=a[o];r&&(i=(u-r[s])/3,a[`cp1${s}`]=u-i,a[`cp1${o}`]=f-i*e[d]),l&&(i=(l[s]-u)/3,a[`cp2${s}`]=u+i,a[`cp2${o}`]=f+i*e[d])}}function QP(t,e="x"){const s=D0(e),o=t.length,n=Array(o).fill(0),i=Array(o);let r,a,l,d=ur(t,0);for(r=0;r<o;++r)if(a=l,l=d,d=ur(t,r+1),!!l){if(d){const u=d[e]-l[e];n[r]=u!==0?(d[s]-l[s])/u:0}i[r]=a?d?bo(n[r-1])!==bo(n[r])?0:(n[r-1]+n[r])/2:n[r-1]:n[r]}YP(t,n,i),JP(t,i,e)}function bl(t,e,s){return Math.max(Math.min(t,s),e)}function eI(t,e){let s,o,n,i,r,a=Vo(t[0],e);for(s=0,o=t.length;s<o;++s)r=i,i=a,a=s<o-1&&Vo(t[s+1],e),i&&(n=t[s],r&&(n.cp1x=bl(n.cp1x,e.left,e.right),n.cp1y=bl(n.cp1y,e.top,e.bottom)),a&&(n.cp2x=bl(n.cp2x,e.left,e.right),n.cp2y=bl(n.cp2y,e.top,e.bottom)))}function tI(t,e,s,o,n){let i,r,a,l;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")QP(t,n);else{let d=o?t[t.length-1]:t[0];for(i=0,r=t.length;i<r;++i)a=t[i],l=ZP(d,a,t[Math.min(i+1,r-(o?0:1))%r],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,d=a}e.capBezierPoints&&eI(t,s)}function om(){return typeof window<"u"&&typeof document<"u"}function nm(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Oc(t,e,s){let o;return typeof t=="string"?(o=parseInt(t,10),t.indexOf("%")!==-1&&(o=o/100*e.parentNode[s])):o=t,o}const Ad=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function sI(t,e){return Ad(t).getPropertyValue(e)}const oI=["top","right","bottom","left"];function di(t,e,s){const o={};s=s?"-"+s:"";for(let n=0;n<4;n++){const i=oI[n];o[i]=parseFloat(t[e+"-"+i+s])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}const nI=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function iI(t,e){const s=t.touches,o=s&&s.length?s[0]:t,{offsetX:n,offsetY:i}=o;let r=!1,a,l;if(nI(n,i,t.target))a=n,l=i;else{const d=e.getBoundingClientRect();a=o.clientX-d.left,l=o.clientY-d.top,r=!0}return{x:a,y:l,box:r}}function qn(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:o}=e,n=Ad(s),i=n.boxSizing==="border-box",r=di(n,"padding"),a=di(n,"border","width"),{x:l,y:d,box:u}=iI(t,s),f=r.left+(u&&a.left),h=r.top+(u&&a.top);let{width:m,height:g}=e;return i&&(m-=r.width+a.width,g-=r.height+a.height),{x:Math.round((l-f)/m*s.width/o),y:Math.round((d-h)/g*s.height/o)}}function rI(t,e,s){let o,n;if(e===void 0||s===void 0){const i=t&&nm(t);if(!i)e=t.clientWidth,s=t.clientHeight;else{const r=i.getBoundingClientRect(),a=Ad(i),l=di(a,"border","width"),d=di(a,"padding");e=r.width-d.width-l.width,s=r.height-d.height-l.height,o=Oc(a.maxWidth,i,"clientWidth"),n=Oc(a.maxHeight,i,"clientHeight")}}return{width:e,height:s,maxWidth:o||Fc,maxHeight:n||Fc}}const vl=t=>Math.round(t*10)/10;function aI(t,e,s,o){const n=Ad(t),i=di(n,"margin"),r=Oc(n.maxWidth,t,"clientWidth")||Fc,a=Oc(n.maxHeight,t,"clientHeight")||Fc,l=rI(t,e,s);let{width:d,height:u}=l;if(n.boxSizing==="content-box"){const h=di(n,"border","width"),m=di(n,"padding");d-=m.width+h.width,u-=m.height+h.height}return d=Math.max(0,d-i.width),u=Math.max(0,o?d/o:u-i.height),d=vl(Math.min(d,r,l.maxWidth)),u=vl(Math.min(u,a,l.maxHeight)),d&&!u&&(u=vl(d/2)),(e!==void 0||s!==void 0)&&o&&l.height&&u>l.height&&(u=l.height,d=vl(Math.floor(u*o))),{width:d,height:u}}function Bg(t,e,s){const o=e||1,n=Math.floor(t.height*o),i=Math.floor(t.width*o);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const r=t.canvas;return r.style&&(s||!r.style.height&&!r.style.width)&&(r.style.height=`${t.height}px`,r.style.width=`${t.width}px`),t.currentDevicePixelRatio!==o||r.height!==n||r.width!==i?(t.currentDevicePixelRatio=o,r.height=n,r.width=i,t.ctx.setTransform(o,0,0,o,0,0),!0):!1}const lI=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};om()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Ug(t,e){const s=sI(t,e),o=s&&s.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function Wn(t,e,s,o){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function cI(t,e,s,o){return{x:t.x+s*(e.x-t.x),y:o==="middle"?s<.5?t.y:e.y:o==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function dI(t,e,s,o){const n={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},r=Wn(t,n,s),a=Wn(n,i,s),l=Wn(i,e,s),d=Wn(r,a,s),u=Wn(a,l,s);return Wn(d,u,s)}const uI=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,o){return s-o},leftForLtr(s,o){return s-o}}},fI=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Wi(t,e,s){return t?uI(e,s):fI()}function A0(t,e){let s,o;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,o=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=o)}function T0(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function M0(t){return t==="angle"?{between:Fa,compare:hP,normalize:xs}:{between:zo,compare:(e,s)=>e-s,normalize:e=>e}}function jg({start:t,end:e,count:s,loop:o,style:n}){return{start:t%s,end:e%s,loop:o&&(e-t+1)%s===0,style:n}}function hI(t,e,s){const{property:o,start:n,end:i}=s,{between:r,normalize:a}=M0(o),l=e.length;let{start:d,end:u,loop:f}=t,h,m;if(f){for(d+=l,u+=l,h=0,m=l;h<m&&r(a(e[d%l][o]),n,i);++h)d--,u--;d%=l,u%=l}return u<d&&(u+=l),{start:d,end:u,loop:f,style:t.style}}function P0(t,e,s){if(!s)return[t];const{property:o,start:n,end:i}=s,r=e.length,{compare:a,between:l,normalize:d}=M0(o),{start:u,end:f,loop:h,style:m}=hI(t,e,s),g=[];let b=!1,v=null,w,E,_;const D=()=>l(n,_,w)&&a(n,_)!==0,k=()=>a(i,w)===0||l(i,_,w),T=()=>b||D(),O=()=>!b||k();for(let P=u,M=u;P<=f;++P)E=e[P%r],!E.skip&&(w=d(E[o]),w!==_&&(b=l(w,n,i),v===null&&T()&&(v=a(w,n)===0?P:M),v!==null&&O()&&(g.push(jg({start:v,end:P,loop:h,count:r,style:m})),v=null),M=P,_=w));return v!==null&&g.push(jg({start:v,end:f,loop:h,count:r,style:m})),g}function I0(t,e){const s=[],o=t.segments;for(let n=0;n<o.length;n++){const i=P0(o[n],t.points,e);i.length&&s.push(...i)}return s}function mI(t,e,s,o){let n=0,i=e-1;if(s&&!o)for(;n<e&&!t[n].skip;)n++;for(;n<e&&t[n].skip;)n++;for(n%=e,s&&(i+=n);i>n&&t[i%e].skip;)i--;return i%=e,{start:n,end:i}}function pI(t,e,s,o){const n=t.length,i=[];let r=e,a=t[e],l;for(l=e+1;l<=s;++l){const d=t[l%n];d.skip||d.stop?a.skip||(o=!1,i.push({start:e%n,end:(l-1)%n,loop:o}),e=r=d.stop?l:null):(r=l,a.skip&&(e=l)),a=d}return r!==null&&i.push({start:e%n,end:r%n,loop:o}),i}function gI(t,e){const s=t.points,o=t.options.spanGaps,n=s.length;if(!n)return[];const i=!!t._loop,{start:r,end:a}=mI(s,n,i,o);if(o===!0)return Hg(t,[{start:r,end:a,loop:i}],s,e);const l=a<r?a+n:a,d=!!t._fullLoop&&r===0&&a===n-1;return Hg(t,pI(s,r,l,d),s,e)}function Hg(t,e,s,o){return!o||!o.setContext||!s?e:bI(t,e,s,o)}function bI(t,e,s,o){const n=t._chart.getContext(),i=qg(t.options),{_datasetIndex:r,options:{spanGaps:a}}=t,l=s.length,d=[];let u=i,f=e[0].start,h=f;function m(g,b,v,w){const E=a?-1:1;if(g!==b){for(g+=l;s[g%l].skip;)g-=E;for(;s[b%l].skip;)b+=E;g%l!==b%l&&(d.push({start:g%l,end:b%l,loop:v,style:w}),u=w,f=b%l)}}for(const g of e){f=a?f:g.start;let b=s[f%l],v;for(h=f+1;h<=g.end;h++){const w=s[h%l];v=qg(o.setContext(Fn(n,{type:"segment",p0:b,p1:w,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:r}))),vI(v,u)&&m(f,h-1,g.loop,u),b=w,u=v}f<h-1&&m(f,h-1,g.loop,u)}return d}function qg(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function vI(t,e){if(!e)return!1;const s=[],o=function(n,i){return Jh(i)?(s.includes(i)||s.push(i),s.indexOf(i)):i};return JSON.stringify(t,o)!==JSON.stringify(e,o)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class yI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,o,n){const i=s.listeners[n],r=s.duration;i.forEach(a=>a({chart:e,initial:s.initial,numSteps:r,currentStep:Math.min(o-s.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=p0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((o,n)=>{if(!o.running||!o.items.length)return;const i=o.items;let r=i.length-1,a=!1,l;for(;r>=0;--r)l=i[r],l._active?(l._total>o.duration&&(o.duration=l._total),l.tick(e),a=!0):(i[r]=i[i.length-1],i.pop());a&&(n.draw(),this._notify(n,o,e,"progress")),i.length||(o.running=!1,this._notify(n,o,e,"complete"),o.initial=!1),s+=i.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let o=s.get(e);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,o)),o}listen(e,s,o){this._getAnims(e).listeners[s].push(o)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((o,n)=>Math.max(o,n._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const o=s.items;let n=o.length-1;for(;n>=0;--n)o[n].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Po=new yI;const Wg="transparent",_I={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const o=Ng(t||Wg),n=o.valid&&Ng(e||Wg);return n&&n.valid?n.mix(o,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class EI{constructor(e,s,o,n){const i=s[o];n=Wr([e.to,n,i,e.from]);const r=Wr([e.from,i,n]);this._active=!0,this._fn=e.fn||_I[e.type||typeof r],this._easing=da[e.easing]||da.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=o,this._from=r,this._to=n,this._promises=void 0}active(){return this._active}update(e,s,o){if(this._active){this._notify(!1);const n=this._target[this._prop],i=o-this._start,r=this._duration-i;this._start=o,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Wr([e.to,s,n,e.from]),this._from=Wr([e.from,n,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,o=this._duration,n=this._prop,i=this._from,r=this._loop,a=this._to;let l;if(this._active=i!==a&&(r||s<o),!this._active){this._target[n]=a,this._notify(!0);return}if(s<0){this._target[n]=i;return}l=s/o%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,o)=>{e.push({res:s,rej:o})})}_notify(e){const s=e?"res":"rej",o=this._promises||[];for(let n=0;n<o.length;n++)o[n][s]()}}class F0{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!Oe(e))return;const s=Object.keys(at.animation),o=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const i=e[n];if(!Oe(i))return;const r={};for(const a of s)r[a]=i[a];(rt(i.properties)&&i.properties||[n]).forEach(a=>{(a===n||!o.has(a))&&o.set(a,r)})})}_animateOptions(e,s){const o=s.options,n=CI(e,o);if(!n)return[];const i=this._createAnimations(n,o);return o.$shared&&wI(e.options.$animations,o).then(()=>{e.options=o},()=>{}),i}_createAnimations(e,s){const o=this._properties,n=[],i=e.$animations||(e.$animations={}),r=Object.keys(s),a=Date.now();let l;for(l=r.length-1;l>=0;--l){const d=r[l];if(d.charAt(0)==="$")continue;if(d==="options"){n.push(...this._animateOptions(e,s));continue}const u=s[d];let f=i[d];const h=o.get(d);if(f)if(h&&f.active()){f.update(h,u,a);continue}else f.cancel();if(!h||!h.duration){e[d]=u;continue}i[d]=f=new EI(h,e,d,u),n.push(f)}return n}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const o=this._createAnimations(e,s);if(o.length)return Po.add(this._chart,o),!0}}function wI(t,e){const s=[],o=Object.keys(e);for(let n=0;n<o.length;n++){const i=t[o[n]];i&&i.active()&&s.push(i.wait())}return Promise.all(s)}function CI(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function Kg(t,e){const s=t&&t.options||{},o=s.reverse,n=s.min===void 0?e:0,i=s.max===void 0?e:0;return{start:o?i:n,end:o?n:i}}function SI(t,e,s){if(s===!1)return!1;const o=Kg(t,s),n=Kg(e,s);return{top:n.end,right:o.end,bottom:n.start,left:o.start}}function xI(t){let e,s,o,n;return Oe(t)?(e=t.top,s=t.right,o=t.bottom,n=t.left):e=s=o=n=t,{top:e,right:s,bottom:o,left:n,disabled:t===!1}}function R0(t,e){const s=[],o=t._getSortedDatasetMetas(e);let n,i;for(n=0,i=o.length;n<i;++n)s.push(o[n].index);return s}function Gg(t,e,s,o={}){const n=t.keys,i=o.mode==="single";let r,a,l,d;if(e===null)return;let u=!1;for(r=0,a=n.length;r<a;++r){if(l=+n[r],l===s){if(u=!0,o.all)continue;break}d=t.values[l],ut(d)&&(i||e===0||bo(e)===bo(d))&&(e+=d)}return!u&&!o.all?0:e}function kI(t,e){const{iScale:s,vScale:o}=e,n=s.axis==="x"?"x":"y",i=o.axis==="x"?"x":"y",r=Object.keys(t),a=new Array(r.length);let l,d,u;for(l=0,d=r.length;l<d;++l)u=r[l],a[l]={[n]:u,[i]:t[u]};return a}function lu(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function DI(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function AI(t){const{min:e,max:s,minDefined:o,maxDefined:n}=t.getUserBounds();return{min:o?e:Number.NEGATIVE_INFINITY,max:n?s:Number.POSITIVE_INFINITY}}function TI(t,e,s){const o=t[e]||(t[e]={});return o[s]||(o[s]={})}function Xg(t,e,s,o){for(const n of e.getMatchingVisibleMetas(o).reverse()){const i=t[n.index];if(s&&i>0||!s&&i<0)return n.index}return null}function Zg(t,e){const{chart:s,_cachedMeta:o}=t,n=s._stacks||(s._stacks={}),{iScale:i,vScale:r,index:a}=o,l=i.axis,d=r.axis,u=DI(i,r,o),f=e.length;let h;for(let m=0;m<f;++m){const g=e[m],{[l]:b,[d]:v}=g,w=g._stacks||(g._stacks={});h=w[d]=TI(n,u,b),h[a]=v,h._top=Xg(h,r,!0,o.type),h._bottom=Xg(h,r,!1,o.type);const E=h._visualValues||(h._visualValues={});E[a]=v}}function cu(t,e){const s=t.scales;return Object.keys(s).filter(o=>s[o].axis===e).shift()}function MI(t,e){return Fn(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function PI(t,e,s){return Fn(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function Pr(t,e){const s=t.controller.index,o=t.vScale&&t.vScale.axis;if(o){e=e||t._parsed;for(const n of e){const i=n._stacks;if(!i||i[o]===void 0||i[o][s]===void 0)return;delete i[o][s],i[o]._visualValues!==void 0&&i[o]._visualValues[s]!==void 0&&delete i[o]._visualValues[s]}}}const du=t=>t==="reset"||t==="none",Yg=(t,e)=>e?t:Object.assign({},t),II=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:R0(s,!0),values:null};class Qs{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=lu(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Pr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,o=this.getDataset(),n=(f,h,m,g)=>f==="x"?h:f==="r"?g:m,i=s.xAxisID=Te(o.xAxisID,cu(e,"x")),r=s.yAxisID=Te(o.yAxisID,cu(e,"y")),a=s.rAxisID=Te(o.rAxisID,cu(e,"r")),l=s.indexAxis,d=s.iAxisID=n(l,i,r,a),u=s.vAxisID=n(l,r,i,a);s.xScale=this.getScaleForId(i),s.yScale=this.getScaleForId(r),s.rScale=this.getScaleForId(a),s.iScale=this.getScaleForId(d),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Fg(this._data,this),e._stacked&&Pr(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),o=this._data;if(Oe(s)){const n=this._cachedMeta;this._data=kI(s,n)}else if(o!==s){if(o){Fg(o,this);const n=this._cachedMeta;Pr(n),n._parsed=[]}s&&Object.isExtensible(s)&&bP(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,o=this.getDataset();let n=!1;this._dataCheck();const i=s._stacked;s._stacked=lu(s.vScale,s),s.stack!==o.stack&&(n=!0,Pr(s),s.stack=o.stack),this._resyncElements(e),(n||i!==s._stacked)&&(Zg(this,s._parsed),s._stacked=lu(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:o,_data:n}=this,{iScale:i,_stacked:r}=o,a=i.axis;let l=e===0&&s===n.length?!0:o._sorted,d=e>0&&o._parsed[e-1],u,f,h;if(this._parsing===!1)o._parsed=n,o._sorted=!0,h=n;else{rt(n[e])?h=this.parseArrayData(o,n,e,s):Oe(n[e])?h=this.parseObjectData(o,n,e,s):h=this.parsePrimitiveData(o,n,e,s);const m=()=>f[a]===null||d&&f[a]<d[a];for(u=0;u<s;++u)o._parsed[u+e]=f=h[u],l&&(m()&&(l=!1),d=f);o._sorted=l}r&&Zg(this,h)}parsePrimitiveData(e,s,o,n){const{iScale:i,vScale:r}=e,a=i.axis,l=r.axis,d=i.getLabels(),u=i===r,f=new Array(n);let h,m,g;for(h=0,m=n;h<m;++h)g=h+o,f[h]={[a]:u||i.parse(d[g],g),[l]:r.parse(s[g],g)};return f}parseArrayData(e,s,o,n){const{xScale:i,yScale:r}=e,a=new Array(n);let l,d,u,f;for(l=0,d=n;l<d;++l)u=l+o,f=s[u],a[l]={x:i.parse(f[0],u),y:r.parse(f[1],u)};return a}parseObjectData(e,s,o,n){const{xScale:i,yScale:r}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,d=new Array(n);let u,f,h,m;for(u=0,f=n;u<f;++u)h=u+o,m=s[h],d[u]={x:i.parse(xn(m,a),h),y:r.parse(xn(m,l),h)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,o){const n=this.chart,i=this._cachedMeta,r=s[e.axis],a={keys:R0(n,!0),values:s._stacks[e.axis]._visualValues};return Gg(a,r,i.index,{mode:o})}updateRangeFromParsed(e,s,o,n){const i=o[s.axis];let r=i===null?NaN:i;const a=n&&o._stacks[s.axis];n&&a&&(n.values=a,r=Gg(n,i,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,s){const o=this._cachedMeta,n=o._parsed,i=o._sorted&&e===o.iScale,r=n.length,a=this._getOtherScale(e),l=II(s,o,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=AI(a);let h,m;function g(){m=n[h];const b=m[a.axis];return!ut(m[e.axis])||u>b||f<b}for(h=0;h<r&&!(!g()&&(this.updateRangeFromParsed(d,e,m,l),i));++h);if(i){for(h=r-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(d,e,m,l);break}}return d}getAllParsedValues(e){const s=this._cachedMeta._parsed,o=[];let n,i,r;for(n=0,i=s.length;n<i;++n)r=s[n][e.axis],ut(r)&&o.push(r);return o}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,o=s.iScale,n=s.vScale,i=this.getParsed(e);return{label:o?""+o.getLabelForValue(i[o.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=xI(Te(this.options.clip,SI(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,o=this._cachedMeta,n=o.data||[],i=s.chartArea,r=[],a=this._drawStart||0,l=this._drawCount||n.length-a,d=this.options.drawActiveElementsOnTop;let u;for(o.dataset&&o.dataset.draw(e,i,a,l),u=a;u<a+l;++u){const f=n[u];f.hidden||(f.active&&d?r.push(f):f.draw(e,i))}for(u=0;u<r.length;++u)r[u].draw(e,i)}getStyle(e,s){const o=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,s,o){const n=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const r=this._cachedMeta.data[e];i=r.$context||(r.$context=PI(this.getContext(),e,r)),i.parsed=this.getParsed(e),i.raw=n.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=MI(this.chart.getContext(),this.index)),i.dataset=n,i.index=i.datasetIndex=this.index;return i.active=!!s,i.mode=o,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",o){const n=s==="active",i=this._cachedDataOpts,r=e+"-"+s,a=i[r],l=this.enableOptionSharing&&Ia(o);if(a)return Yg(a,l);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),f=n?[`${e}Hover`,"hover",e,""]:[e,""],h=d.getOptionScopes(this.getDataset(),u),m=Object.keys(at.elements[e]),g=()=>this.getContext(o,n,s),b=d.resolveNamedOptions(h,m,g,f);return b.$shared&&(b.$shared=l,i[r]=Object.freeze(Yg(b,l))),b}_resolveAnimations(e,s,o){const n=this.chart,i=this._cachedDataOpts,r=`animation-${s}`,a=i[r];if(a)return a;let l;if(n.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,s),h=u.getOptionScopes(this.getDataset(),f);l=u.createResolver(h,this.getContext(e,o,s))}const d=new F0(n,l&&l.animations);return l&&l._cacheable&&(i[r]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||du(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const o=this.resolveDataElementOptions(e,s),n=this._sharedOptions,i=this.getSharedOptions(o),r=this.includeOptions(s,i)||i!==n;return this.updateSharedOptions(i,s,o),{sharedOptions:i,includeOptions:r}}updateElement(e,s,o,n){du(n)?Object.assign(e,o):this._resolveAnimations(s,n).update(e,o)}updateSharedOptions(e,s,o){e&&!du(s)&&this._resolveAnimations(void 0,s).update(e,o)}_setStyle(e,s,o,n){e.active=n;const i=this.getStyle(s,n);this._resolveAnimations(s,o,n).update(e,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(e,s,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,s,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,o=this._cachedMeta.data;for(const[a,l,d]of this._syncList)this[a](l,d);this._syncList=[];const n=o.length,i=s.length,r=Math.min(i,n);r&&this.parse(0,r),i>n?this._insertElements(n,i-n,e):i<n&&this._removeElements(i,n-i)}_insertElements(e,s,o=!0){const n=this._cachedMeta,i=n.data,r=e+s;let a;const l=d=>{for(d.length+=s,a=d.length-1;a>=r;a--)d[a]=d[a-s]};for(l(i),a=e;a<r;++a)i[a]=new this.dataElementType;this._parsing&&l(n._parsed),this.parse(e,s),o&&this.updateElements(i,e,s,"reset")}updateElements(e,s,o,n){}_removeElements(e,s){const o=this._cachedMeta;if(this._parsing){const n=o._parsed.splice(e,s);o._stacked&&Pr(o,n)}o.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,o,n]=e;this[s](o,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}re(Qs,"defaults",{}),re(Qs,"datasetElementType",null),re(Qs,"dataElementType",null);function FI(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let o=[];for(let n=0,i=s.length;n<i;n++)o=o.concat(s[n].controller.getAllParsedValues(t));t._cache.$bar=m0(o.sort((n,i)=>n-i))}return t._cache.$bar}function RI(t){const e=t.iScale,s=FI(e,t.type);let o=e._length,n,i,r,a;const l=()=>{r===32767||r===-32768||(Ia(a)&&(o=Math.min(o,Math.abs(r-a)||o)),a=r)};for(n=0,i=s.length;n<i;++n)r=e.getPixelForValue(s[n]),l();for(a=void 0,n=0,i=e.ticks.length;n<i;++n)r=e.getPixelForTick(n),l();return o}function OI(t,e,s,o){const n=s.barThickness;let i,r;return Re(n)?(i=e.min*s.categoryPercentage,r=s.barPercentage):(i=n*o,r=1),{chunk:i/o,ratio:r,start:e.pixels[t]-i/2}}function NI(t,e,s,o){const n=e.pixels,i=n[t];let r=t>0?n[t-1]:null,a=t<n.length-1?n[t+1]:null;const l=s.categoryPercentage;r===null&&(r=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-r);const d=i-(i-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/o,ratio:s.barPercentage,start:d}}function LI(t,e,s,o){const n=s.parse(t[0],o),i=s.parse(t[1],o),r=Math.min(n,i),a=Math.max(n,i);let l=r,d=a;Math.abs(r)>Math.abs(a)&&(l=a,d=r),e[s.axis]=d,e._custom={barStart:l,barEnd:d,start:n,end:i,min:r,max:a}}function O0(t,e,s,o){return rt(t)?LI(t,e,s,o):e[s.axis]=s.parse(t,o),e}function Jg(t,e,s,o){const n=t.iScale,i=t.vScale,r=n.getLabels(),a=n===i,l=[];let d,u,f,h;for(d=s,u=s+o;d<u;++d)h=e[d],f={},f[n.axis]=a||n.parse(r[d],d),l.push(O0(h,f,i,d));return l}function uu(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function zI(t,e,s){return t!==0?bo(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function $I(t){let e,s,o,n,i;return t.horizontal?(e=t.base>t.x,s="left",o="right"):(e=t.base<t.y,s="bottom",o="top"),e?(n="end",i="start"):(n="start",i="end"),{start:s,end:o,reverse:e,top:n,bottom:i}}function VI(t,e,s,o){let n=e.borderSkipped;const i={};if(!n){t.borderSkipped=i;return}if(n===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:a,reverse:l,top:d,bottom:u}=$I(t);n==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===o?n=d:(s._bottom||0)===o?n=u:(i[Qg(u,r,a,l)]=!0,n=d)),i[Qg(n,r,a,l)]=!0,t.borderSkipped=i}function Qg(t,e,s,o){return o?(t=BI(t,e,s),t=eb(t,s,e)):t=eb(t,e,s),t}function BI(t,e,s){return t===e?s:t===s?e:t}function eb(t,e,s){return t==="start"?e:t==="end"?s:t}function UI(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class jl extends Qs{parsePrimitiveData(e,s,o,n){return Jg(e,s,o,n)}parseArrayData(e,s,o,n){return Jg(e,s,o,n)}parseObjectData(e,s,o,n){const{iScale:i,vScale:r}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,d=i.axis==="x"?a:l,u=r.axis==="x"?a:l,f=[];let h,m,g,b;for(h=o,m=o+n;h<m;++h)b=s[h],g={},g[i.axis]=i.parse(xn(b,d),h),f.push(O0(xn(b,u),g,r,h));return f}updateRangeFromParsed(e,s,o,n){super.updateRangeFromParsed(e,s,o,n);const i=o._custom;i&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:o,vScale:n}=s,i=this.getParsed(e),r=i._custom,a=uu(r)?"["+r.start+", "+r.end+"]":""+n.getLabelForValue(i[n.axis]);return{label:""+o.getLabelForValue(i[o.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,o,n){const i=n==="reset",{index:r,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),d=a.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(s,n);for(let m=s;m<s+o;m++){const g=this.getParsed(m),b=i||Re(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),v=this._calculateBarIndexPixels(m,u),w=(g._stacks||{})[a.axis],E={horizontal:d,base:b.base,enableBorderRadius:!w||uu(g._custom)||r===w._top||r===w._bottom,x:d?b.head:v.center,y:d?v.center:b.head,height:d?v.size:Math.abs(b.size),width:d?Math.abs(b.size):v.size};h&&(E.options=f||this.resolveDataElementOptions(m,e[m].active?"active":n));const _=E.options||e[m].options;VI(E,_,w,r),UI(E,_,u.ratio),this.updateElement(e[m],m,E,n)}}_getStacks(e,s){const{iScale:o}=this._cachedMeta,n=o.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=o.options.stacked,r=[],a=this._cachedMeta.controller.getParsed(s),l=a&&a[o.axis],d=u=>{const f=u._parsed.find(m=>m[o.axis]===l),h=f&&f[u.vScale.axis];if(Re(h)||isNaN(h))return!0};for(const u of n)if(!(s!==void 0&&d(u))&&((i===!1||r.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&r.push(u.stack),u.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,s,o){const n=this._getStacks(e,o),i=s!==void 0?n.indexOf(s):-1;return i===-1?n.length-1:i}_getRuler(){const e=this.options,s=this._cachedMeta,o=s.iScale,n=[];let i,r;for(i=0,r=s.data.length;i<r;++i)n.push(o.getPixelForValue(this.getParsed(i)[o.axis],i));const a=e.barThickness;return{min:a||RI(s),pixels:n,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:o,index:n},options:{base:i,minBarLength:r}}=this,a=i||0,l=this.getParsed(e),d=l._custom,u=uu(d);let f=l[s.axis],h=0,m=o?this.applyStack(s,l,o):f,g,b;m!==f&&(h=m-f,m=f),u&&(f=d.barStart,m=d.barEnd-d.barStart,f!==0&&bo(f)!==bo(d.barEnd)&&(h=0),h+=f);const v=!Re(i)&&!u?i:h;let w=s.getPixelForValue(v);if(this.chart.getDataVisibility(e)?g=s.getPixelForValue(h+m):g=w,b=g-w,Math.abs(b)<r){b=zI(b,s,a)*r,f===a&&(w-=b/2);const E=s.getPixelForDecimal(0),_=s.getPixelForDecimal(1),D=Math.min(E,_),k=Math.max(E,_);w=Math.max(Math.min(w,k),D),g=w+b,o&&!u&&(l._stacks[s.axis]._visualValues[n]=s.getValueForPixel(g)-s.getValueForPixel(w))}if(w===s.getPixelForValue(a)){const E=bo(b)*s.getLineWidthForValue(a)/2;w+=E,b-=E}return{size:b,base:w,head:g,center:g+b/2}}_calculateBarIndexPixels(e,s){const o=s.scale,n=this.options,i=n.skipNull,r=Te(n.maxBarThickness,1/0);let a,l;if(s.grouped){const d=i?this._getStackCount(e):s.stackCount,u=n.barThickness==="flex"?NI(e,s,n,d):OI(e,s,n,d),f=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);a=u.start+u.chunk*f+u.chunk/2,l=Math.min(r,u.chunk*u.ratio)}else a=o.getPixelForValue(this.getParsed(e)[o.axis],e),l=Math.min(r,s.min*s.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,s=e.vScale,o=e.data,n=o.length;let i=0;for(;i<n;++i)this.getParsed(i)[s.axis]!==null&&!o[i].hidden&&o[i].draw(this._ctx)}}re(jl,"id","bar"),re(jl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),re(jl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Hl extends Qs{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,s,o,n){const i=super.parsePrimitiveData(e,s,o,n);for(let r=0;r<i.length;r++)i[r]._custom=this.resolveDataElementOptions(r+o).radius;return i}parseArrayData(e,s,o,n){const i=super.parseArrayData(e,s,o,n);for(let r=0;r<i.length;r++){const a=s[o+r];i[r]._custom=Te(a[2],this.resolveDataElementOptions(r+o).radius)}return i}parseObjectData(e,s,o,n){const i=super.parseObjectData(e,s,o,n);for(let r=0;r<i.length;r++){const a=s[o+r];i[r]._custom=Te(a&&a.r&&+a.r,this.resolveDataElementOptions(r+o).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let s=0;for(let o=e.length-1;o>=0;--o)s=Math.max(s,e[o].size(this.resolveDataElementOptions(o))/2);return s>0&&s}getLabelAndValue(e){const s=this._cachedMeta,o=this.chart.data.labels||[],{xScale:n,yScale:i}=s,r=this.getParsed(e),a=n.getLabelForValue(r.x),l=i.getLabelForValue(r.y),d=r._custom;return{label:o[e]||"",value:"("+a+", "+l+(d?", "+d:"")+")"}}update(e){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,e)}updateElements(e,s,o,n){const i=n==="reset",{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(s,n),u=r.axis,f=a.axis;for(let h=s;h<s+o;h++){const m=e[h],g=!i&&this.getParsed(h),b={},v=b[u]=i?r.getPixelForDecimal(.5):r.getPixelForValue(g[u]),w=b[f]=i?a.getBasePixel():a.getPixelForValue(g[f]);b.skip=isNaN(v)||isNaN(w),d&&(b.options=l||this.resolveDataElementOptions(h,m.active?"active":n),i&&(b.options.radius=0)),this.updateElement(m,h,b,n)}}resolveDataElementOptions(e,s){const o=this.getParsed(e);let n=super.resolveDataElementOptions(e,s);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const i=n.radius;return s!=="active"&&(n.radius=0),n.radius+=Te(o&&o._custom,i),n}}re(Hl,"id","bubble"),re(Hl,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),re(Hl,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function jI(t,e,s){let o=1,n=1,i=0,r=0;if(e<st){const a=t,l=a+e,d=Math.cos(a),u=Math.sin(a),f=Math.cos(l),h=Math.sin(l),m=(_,D,k)=>Fa(_,a,l,!0)?1:Math.max(D,D*s,k,k*s),g=(_,D,k)=>Fa(_,a,l,!0)?-1:Math.min(D,D*s,k,k*s),b=m(0,d,f),v=m(gt,u,h),w=g(ot,d,f),E=g(ot+gt,u,h);o=(b-w)/2,n=(v-E)/2,i=-(b+w)/2,r=-(v+E)/2}return{ratioX:o,ratioY:n,offsetX:i,offsetY:r}}class Qn extends Qs{constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const o=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=o;else{let i=l=>+o[l];if(Oe(o[e])){const{key:l="value"}=this._parsing;i=d=>+xn(o[d],l)}let r,a;for(r=e,a=e+s;r<a;++r)n._parsed[r]=i(r)}}_getRotation(){return Gs(this.options.rotation-90)}_getCircumference(){return Gs(this.options.circumference)}_getRotationExtents(){let e=st,s=-st;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){const n=this.chart.getDatasetMeta(o).controller,i=n._getRotation(),r=n._getCircumference();e=Math.min(e,i),s=Math.max(s,i+r)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:o}=s,n=this._cachedMeta,i=n.data,r=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(o.width,o.height)-r)/2,0),l=Math.min(sP(this.options.cutout,a),1),d=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:m,offsetX:g,offsetY:b}=jI(f,u,l),v=(o.width-r)/h,w=(o.height-r)/m,E=Math.max(Math.min(v,w)/2,0),_=c0(this.options.radius,E),D=Math.max(_*l,0),k=(_-D)/this._getVisibleDatasetWeightTotal();this.offsetX=g*_,this.offsetY=b*_,n.total=this.calculateTotal(),this.outerRadius=_-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,s){const o=this.options,n=this._cachedMeta,i=this._getCircumference();return s&&o.animation.animateRotate||!this.chart.getDataVisibility(e)||n._parsed[e]===null||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*i/st)}updateElements(e,s,o,n){const i=n==="reset",r=this.chart,a=r.chartArea,d=r.options.animation,u=(a.left+a.right)/2,f=(a.top+a.bottom)/2,h=i&&d.animateScale,m=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:b,includeOptions:v}=this._getSharedOptions(s,n);let w=this._getRotation(),E;for(E=0;E<s;++E)w+=this._circumference(E,i);for(E=s;E<s+o;++E){const _=this._circumference(E,i),D=e[E],k={x:u+this.offsetX,y:f+this.offsetY,startAngle:w,endAngle:w+_,circumference:_,outerRadius:g,innerRadius:m};v&&(k.options=b||this.resolveDataElementOptions(E,D.active?"active":n)),w+=_,this.updateElement(D,E,k,n)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let o=0,n;for(n=0;n<s.length;n++){const i=e._parsed[n];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(n)&&!s[n].hidden&&(o+=Math.abs(i))}return o}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?st*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,o=this.chart,n=o.data.labels||[],i=Ja(s._parsed[e],o.options.locale);return{label:n[e]||"",value:i}}getMaxBorderWidth(e){let s=0;const o=this.chart;let n,i,r,a,l;if(!e){for(n=0,i=o.data.datasets.length;n<i;++n)if(o.isDatasetVisible(n)){r=o.getDatasetMeta(n),e=r.data,a=r.controller;break}}if(!e)return 0;for(n=0,i=e.length;n<i;++n)l=a.resolveDataElementOptions(n),l.borderAlign!=="inner"&&(s=Math.max(s,l.borderWidth||0,l.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let o=0,n=e.length;o<n;++o){const i=this.resolveDataElementOptions(o);s=Math.max(s,i.offset||0,i.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let o=0;o<e;++o)this.chart.isDatasetVisible(o)&&(s+=this._getRingWeight(o));return s}_getRingWeight(e){return Math.max(Te(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}re(Qn,"id","doughnut"),re(Qn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),re(Qn,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),re(Qn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:o,color:n}}=e.legend.options;return s.labels.map((i,r)=>{const l=e.getDatasetMeta(0).controller.getStyle(r);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:n,lineWidth:l.borderWidth,pointStyle:o,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,s,o){o.chart.toggleDataVisibility(s.index),o.chart.update()}}}});class ql extends Qs{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:o,data:n=[],_dataset:i}=s,r=this.chart._animationsDisabled;let{start:a,count:l}=b0(s,n,r);this._drawStart=a,this._drawCount=l,v0(s)&&(a=0,l=n.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!i._decimated,o.points=n;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(o,void 0,{animated:!r,options:d},e),this.updateElements(n,a,l,e)}updateElements(e,s,o,n){const i=n==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(s,n),h=r.axis,m=a.axis,{spanGaps:g,segment:b}=this.options,v=cr(g)?g:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||i||n==="none",E=s+o,_=e.length;let D=s>0&&this.getParsed(s-1);for(let k=0;k<_;++k){const T=e[k],O=w?T:{};if(k<s||k>=E){O.skip=!0;continue}const P=this.getParsed(k),M=Re(P[m]),F=O[h]=r.getPixelForValue(P[h],k),L=O[m]=i||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,P,l):P[m],k);O.skip=isNaN(F)||isNaN(L)||M,O.stop=k>0&&Math.abs(P[h]-D[h])>v,b&&(O.parsed=P,O.raw=d.data[k]),f&&(O.options=u||this.resolveDataElementOptions(k,T.active?"active":n)),w||this.updateElement(T,k,O,n),D=P}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,o=s.options&&s.options.borderWidth||0,n=e.data||[];if(!n.length)return o;const i=n[0].size(this.resolveDataElementOptions(0)),r=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(o,i,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}re(ql,"id","line"),re(ql,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),re(ql,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class fa extends Qs{constructor(e,s){super(e,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const s=this._cachedMeta,o=this.chart,n=o.data.labels||[],i=Ja(s._parsed[e].r,o.options.locale);return{label:n[e]||"",value:i}}parseObjectData(e,s,o,n){return k0.bind(this)(e,s,o,n)}update(e){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,e)}getMinMax(){const e=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((o,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<s.min&&(s.min=i),i>s.max&&(s.max=i))}),s}_updateRadius(){const e=this.chart,s=e.chartArea,o=e.options,n=Math.min(s.right-s.left,s.bottom-s.top),i=Math.max(n/2,0),r=Math.max(o.cutoutPercentage?i/100*o.cutoutPercentage:1,0),a=(i-r)/e.getVisibleDatasetCount();this.outerRadius=i-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,s,o,n){const i=n==="reset",r=this.chart,l=r.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,f=d.yCenter,h=d.getIndexAngle(0)-.5*ot;let m=h,g;const b=360/this.countVisibleElements();for(g=0;g<s;++g)m+=this._computeAngle(g,n,b);for(g=s;g<s+o;g++){const v=e[g];let w=m,E=m+this._computeAngle(g,n,b),_=r.getDataVisibility(g)?d.getDistanceFromCenterForValue(this.getParsed(g).r):0;m=E,i&&(l.animateScale&&(_=0),l.animateRotate&&(w=E=h));const D={x:u,y:f,innerRadius:0,outerRadius:_,startAngle:w,endAngle:E,options:this.resolveDataElementOptions(g,v.active?"active":n)};this.updateElement(v,g,D,n)}}countVisibleElements(){const e=this._cachedMeta;let s=0;return e.data.forEach((o,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&s++}),s}_computeAngle(e,s,o){return this.chart.getDataVisibility(e)?Gs(this.resolveDataElementOptions(e,s).angle||o):0}}re(fa,"id","polarArea"),re(fa,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),re(fa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:o,color:n}}=e.legend.options;return s.labels.map((i,r)=>{const l=e.getDatasetMeta(0).controller.getStyle(r);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:n,lineWidth:l.borderWidth,pointStyle:o,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,s,o){o.chart.toggleDataVisibility(s.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class gf extends Qn{}re(gf,"id","pie"),re(gf,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Wl extends Qs{getLabelAndValue(e){const s=this._cachedMeta.vScale,o=this.getParsed(e);return{label:s.getLabels()[e],value:""+s.getLabelForValue(o[s.axis])}}parseObjectData(e,s,o,n){return k0.bind(this)(e,s,o,n)}update(e){const s=this._cachedMeta,o=s.dataset,n=s.data||[],i=s.iScale.getLabels();if(o.points=n,e!=="resize"){const r=this.resolveDatasetElementOptions(e);this.options.showLine||(r.borderWidth=0);const a={_loop:!0,_fullLoop:i.length===n.length,options:r};this.updateElement(o,void 0,a,e)}this.updateElements(n,0,n.length,e)}updateElements(e,s,o,n){const i=this._cachedMeta.rScale,r=n==="reset";for(let a=s;a<s+o;a++){const l=e[a],d=this.resolveDataElementOptions(a,l.active?"active":n),u=i.getPointPositionForValue(a,this.getParsed(a).r),f=r?i.xCenter:u.x,h=r?i.yCenter:u.y,m={x:f,y:h,angle:u.angle,skip:isNaN(f)||isNaN(h),options:d};this.updateElement(l,a,m,n)}}}re(Wl,"id","radar"),re(Wl,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),re(Wl,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Kl extends Qs{getLabelAndValue(e){const s=this._cachedMeta,o=this.chart.data.labels||[],{xScale:n,yScale:i}=s,r=this.getParsed(e),a=n.getLabelForValue(r.x),l=i.getLabelForValue(r.y);return{label:o[e]||"",value:"("+a+", "+l+")"}}update(e){const s=this._cachedMeta,{data:o=[]}=s,n=this.chart._animationsDisabled;let{start:i,count:r}=b0(s,o,n);if(this._drawStart=i,this._drawCount=r,v0(s)&&(i=0,r=o.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=s;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=o;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(a,void 0,{animated:!n,options:d},e)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(o,i,r,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,s,o,n){const i=n==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(s,n),f=this.getSharedOptions(u),h=this.includeOptions(n,f),m=r.axis,g=a.axis,{spanGaps:b,segment:v}=this.options,w=cr(b)?b:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||i||n==="none";let _=s>0&&this.getParsed(s-1);for(let D=s;D<s+o;++D){const k=e[D],T=this.getParsed(D),O=E?k:{},P=Re(T[g]),M=O[m]=r.getPixelForValue(T[m],D),F=O[g]=i||P?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[g],D);O.skip=isNaN(M)||isNaN(F)||P,O.stop=D>0&&Math.abs(T[m]-_[m])>w,v&&(O.parsed=T,O.raw=d.data[D]),h&&(O.options=f||this.resolveDataElementOptions(D,k.active?"active":n)),E||this.updateElement(k,D,O,n),_=T}this.updateSharedOptions(f,n,u)}getMaxOverflow(){const e=this._cachedMeta,s=e.data||[];if(!this.options.showLine){let a=0;for(let l=s.length-1;l>=0;--l)a=Math.max(a,s[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const o=e.dataset,n=o.options&&o.options.borderWidth||0;if(!s.length)return n;const i=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,i,r)/2}}re(Kl,"id","scatter"),re(Kl,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),re(Kl,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var HI=Object.freeze({__proto__:null,BarController:jl,BubbleController:Hl,DoughnutController:Qn,LineController:ql,PieController:gf,PolarAreaController:fa,RadarController:Wl,ScatterController:Kl});function Vn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class im{constructor(e){re(this,"options");this.options=e||{}}static override(e){Object.assign(im.prototype,e)}init(){}formats(){return Vn()}parse(){return Vn()}format(){return Vn()}add(){return Vn()}diff(){return Vn()}startOf(){return Vn()}endOf(){return Vn()}}var qI={_date:im};function WI(t,e,s,o){const{controller:n,data:i,_sorted:r}=t,a=n._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&r&&i.length){const d=a._reversePixels?pP:$o;if(o){if(n._sharedOptions){const u=i[0],f=typeof u.getRange=="function"&&u.getRange(e);if(f){const h=d(i,e,s-f),m=d(i,e,s+f);return{lo:h.lo,hi:m.hi}}}}else{const u=d(i,e,s);if(l){const{vScale:f}=n._cachedMeta,{_parsed:h}=t,m=h.slice(0,u.lo+1).reverse().findIndex(b=>!Re(b[f.axis]));u.lo-=Math.max(0,m);const g=h.slice(u.hi).findIndex(b=>!Re(b[f.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:i.length-1}}function Td(t,e,s,o,n){const i=t.getSortedVisibleDatasetMetas(),r=s[e];for(let a=0,l=i.length;a<l;++a){const{index:d,data:u}=i[a],{lo:f,hi:h}=WI(i[a],e,r,n);for(let m=f;m<=h;++m){const g=u[m];g.skip||o(g,d,m)}}}function KI(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(o,n){const i=e?Math.abs(o.x-n.x):0,r=s?Math.abs(o.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(r,2))}}function fu(t,e,s,o,n){const i=[];return!n&&!t.isPointInArea(e)||Td(t,s,e,function(a,l,d){!n&&!Vo(a,t.chartArea,0)||a.inRange(e.x,e.y,o)&&i.push({element:a,datasetIndex:l,index:d})},!0),i}function GI(t,e,s,o){let n=[];function i(r,a,l){const{startAngle:d,endAngle:u}=r.getProps(["startAngle","endAngle"],o),{angle:f}=f0(r,{x:e.x,y:e.y});Fa(f,d,u)&&n.push({element:r,datasetIndex:a,index:l})}return Td(t,s,e,i),n}function XI(t,e,s,o,n,i){let r=[];const a=KI(s);let l=Number.POSITIVE_INFINITY;function d(u,f,h){const m=u.inRange(e.x,e.y,n);if(o&&!m)return;const g=u.getCenterPoint(n);if(!(!!i||t.isPointInArea(g))&&!m)return;const v=a(e,g);v<l?(r=[{element:u,datasetIndex:f,index:h}],l=v):v===l&&r.push({element:u,datasetIndex:f,index:h})}return Td(t,s,e,d),r}function hu(t,e,s,o,n,i){return!i&&!t.isPointInArea(e)?[]:s==="r"&&!o?GI(t,e,s,n):XI(t,e,s,o,n,i)}function tb(t,e,s,o,n){const i=[],r=s==="x"?"inXRange":"inYRange";let a=!1;return Td(t,s,e,(l,d,u)=>{l[r]&&l[r](e[s],n)&&(i.push({element:l,datasetIndex:d,index:u}),a=a||l.inRange(e.x,e.y,n))}),o&&!a?[]:i}var ZI={modes:{index(t,e,s,o){const n=qn(e,t),i=s.axis||"x",r=s.includeInvisible||!1,a=s.intersect?fu(t,n,i,o,r):hu(t,n,i,!1,o,r),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=a[0].index,f=d.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:d.index,index:u})}),l):[]},dataset(t,e,s,o){const n=qn(e,t),i=s.axis||"xy",r=s.includeInvisible||!1;let a=s.intersect?fu(t,n,i,o,r):hu(t,n,i,!1,o,r);if(a.length>0){const l=a[0].datasetIndex,d=t.getDatasetMeta(l).data;a=[];for(let u=0;u<d.length;++u)a.push({element:d[u],datasetIndex:l,index:u})}return a},point(t,e,s,o){const n=qn(e,t),i=s.axis||"xy",r=s.includeInvisible||!1;return fu(t,n,i,o,r)},nearest(t,e,s,o){const n=qn(e,t),i=s.axis||"xy",r=s.includeInvisible||!1;return hu(t,n,i,s.intersect,o,r)},x(t,e,s,o){const n=qn(e,t);return tb(t,n,"x",s.intersect,o)},y(t,e,s,o){const n=qn(e,t);return tb(t,n,"y",s.intersect,o)}}};const N0=["left","top","right","bottom"];function Ir(t,e){return t.filter(s=>s.pos===e)}function sb(t,e){return t.filter(s=>N0.indexOf(s.pos)===-1&&s.box.axis===e)}function Fr(t,e){return t.sort((s,o)=>{const n=e?o:s,i=e?s:o;return n.weight===i.weight?n.index-i.index:n.weight-i.weight})}function YI(t){const e=[];let s,o,n,i,r,a;for(s=0,o=(t||[]).length;s<o;++s)n=t[s],{position:i,options:{stack:r,stackWeight:a=1}}=n,e.push({index:s,box:n,pos:i,horizontal:n.isHorizontal(),weight:n.weight,stack:r&&i+r,stackWeight:a});return e}function JI(t){const e={};for(const s of t){const{stack:o,pos:n,stackWeight:i}=s;if(!o||!N0.includes(n))continue;const r=e[o]||(e[o]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=i}return e}function QI(t,e){const s=JI(t),{vBoxMaxWidth:o,hBoxMaxHeight:n}=e;let i,r,a;for(i=0,r=t.length;i<r;++i){a=t[i];const{fullSize:l}=a.box,d=s[a.stack],u=d&&a.stackWeight/d.weight;a.horizontal?(a.width=u?u*o:l&&e.availableWidth,a.height=n):(a.width=o,a.height=u?u*n:l&&e.availableHeight)}return s}function eF(t){const e=YI(t),s=Fr(e.filter(d=>d.box.fullSize),!0),o=Fr(Ir(e,"left"),!0),n=Fr(Ir(e,"right")),i=Fr(Ir(e,"top"),!0),r=Fr(Ir(e,"bottom")),a=sb(e,"x"),l=sb(e,"y");return{fullSize:s,leftAndTop:o.concat(i),rightAndBottom:n.concat(l).concat(r).concat(a),chartArea:Ir(e,"chartArea"),vertical:o.concat(n).concat(l),horizontal:i.concat(r).concat(a)}}function ob(t,e,s,o){return Math.max(t[s],e[s])+Math.max(t[o],e[o])}function L0(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function tF(t,e,s,o){const{pos:n,box:i}=s,r=t.maxPadding;if(!Oe(n)){s.size&&(t[n]-=s.size);const f=o[s.stack]||{size:0,count:1};f.size=Math.max(f.size,s.horizontal?i.height:i.width),s.size=f.size/f.count,t[n]+=s.size}i.getPadding&&L0(r,i.getPadding());const a=Math.max(0,e.outerWidth-ob(r,t,"left","right")),l=Math.max(0,e.outerHeight-ob(r,t,"top","bottom")),d=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,s.horizontal?{same:d,other:u}:{same:u,other:d}}function sF(t){const e=t.maxPadding;function s(o){const n=Math.max(e[o]-t[o],0);return t[o]+=n,n}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function oF(t,e){const s=e.maxPadding;function o(n){const i={left:0,top:0,right:0,bottom:0};return n.forEach(r=>{i[r]=Math.max(e[r],s[r])}),i}return o(t?["left","right"]:["top","bottom"])}function Kr(t,e,s,o){const n=[];let i,r,a,l,d,u;for(i=0,r=t.length,d=0;i<r;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,oF(a.horizontal,e));const{same:f,other:h}=tF(e,s,a,o);d|=f&&n.length,u=u||h,l.fullSize||n.push(a)}return d&&Kr(n,e,s,o)||u}function yl(t,e,s,o,n){t.top=s,t.left=e,t.right=e+o,t.bottom=s+n,t.width=o,t.height=n}function nb(t,e,s,o){const n=s.padding;let{x:i,y:r}=e;for(const a of t){const l=a.box,d=o[a.stack]||{placed:0,weight:1},u=a.stackWeight/d.weight||1;if(a.horizontal){const f=e.w*u,h=d.size||l.height;Ia(d.start)&&(r=d.start),l.fullSize?yl(l,n.left,r,s.outerWidth-n.right-n.left,h):yl(l,e.left+d.placed,r,f,h),d.start=r,d.placed+=f,r=l.bottom}else{const f=e.h*u,h=d.size||l.width;Ia(d.start)&&(i=d.start),l.fullSize?yl(l,i,n.top,h,s.outerHeight-n.bottom-n.top):yl(l,i,e.top+d.placed,h,f),d.start=i,d.placed+=f,i=l.right}}e.x=i,e.y=r}var Wt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,o){if(!t)return;const n=Zt(t.options.layout.padding),i=Math.max(e-n.width,0),r=Math.max(s-n.height,0),a=eF(t.boxes),l=a.vertical,d=a.horizontal;He(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const u=l.reduce((b,v)=>v.box.options&&v.box.options.display===!1?b:b+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:s,padding:n,availableWidth:i,availableHeight:r,vBoxMaxWidth:i/2/u,hBoxMaxHeight:r/2}),h=Object.assign({},n);L0(h,Zt(o));const m=Object.assign({maxPadding:h,w:i,h:r,x:n.left,y:n.top},n),g=QI(l.concat(d),f);Kr(a.fullSize,m,f,g),Kr(l,m,f,g),Kr(d,m,f,g)&&Kr(l,m,f,g),sF(m),nb(a.leftAndTop,m,f,g),m.x+=m.w,m.y+=m.h,nb(a.rightAndBottom,m,f,g),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},He(a.chartArea,b=>{const v=b.box;Object.assign(v,t.chartArea),v.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class z0{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,o){}removeEventListener(e,s,o){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,o,n){return s=Math.max(0,s||e.width),o=o||e.height,{width:s,height:Math.max(0,n?Math.floor(s/n):o)}}isAttached(e){return!0}updateConfig(e){}}class nF extends z0{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Gl="$chartjs",iF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ib=t=>t===null||t==="";function rF(t,e){const s=t.style,o=t.getAttribute("height"),n=t.getAttribute("width");if(t[Gl]={initial:{height:o,width:n,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",ib(n)){const i=Ug(t,"width");i!==void 0&&(t.width=i)}if(ib(o))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Ug(t,"height");i!==void 0&&(t.height=i)}return t}const $0=lI?{passive:!0}:!1;function aF(t,e,s){t&&t.addEventListener(e,s,$0)}function lF(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,$0)}function cF(t,e){const s=iF[t.type]||t.type,{x:o,y:n}=qn(t,e);return{type:s,chart:e,native:t,x:o!==void 0?o:null,y:n!==void 0?n:null}}function Nc(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function dF(t,e,s){const o=t.canvas,n=new MutationObserver(i=>{let r=!1;for(const a of i)r=r||Nc(a.addedNodes,o),r=r&&!Nc(a.removedNodes,o);r&&s()});return n.observe(document,{childList:!0,subtree:!0}),n}function uF(t,e,s){const o=t.canvas,n=new MutationObserver(i=>{let r=!1;for(const a of i)r=r||Nc(a.removedNodes,o),r=r&&!Nc(a.addedNodes,o);r&&s()});return n.observe(document,{childList:!0,subtree:!0}),n}const Oa=new Map;let rb=0;function V0(){const t=window.devicePixelRatio;t!==rb&&(rb=t,Oa.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function fF(t,e){Oa.size||window.addEventListener("resize",V0),Oa.set(t,e)}function hF(t){Oa.delete(t),Oa.size||window.removeEventListener("resize",V0)}function mF(t,e,s){const o=t.canvas,n=o&&nm(o);if(!n)return;const i=g0((a,l)=>{const d=n.clientWidth;s(a,l),d<n.clientWidth&&s()},window),r=new ResizeObserver(a=>{const l=a[0],d=l.contentRect.width,u=l.contentRect.height;d===0&&u===0||i(d,u)});return r.observe(n),fF(t,i),r}function mu(t,e,s){s&&s.disconnect(),e==="resize"&&hF(t)}function pF(t,e,s){const o=t.canvas,n=g0(i=>{t.ctx!==null&&s(cF(i,t))},t);return aF(o,e,n),n}class gF extends z0{acquireContext(e,s){const o=e&&e.getContext&&e.getContext("2d");return o&&o.canvas===e?(rF(e,s),o):null}releaseContext(e){const s=e.canvas;if(!s[Gl])return!1;const o=s[Gl].initial;["height","width"].forEach(i=>{const r=o[i];Re(r)?s.removeAttribute(i):s.setAttribute(i,r)});const n=o.style||{};return Object.keys(n).forEach(i=>{s.style[i]=n[i]}),s.width=s.width,delete s[Gl],!0}addEventListener(e,s,o){this.removeEventListener(e,s);const n=e.$proxies||(e.$proxies={}),r={attach:dF,detach:uF,resize:mF}[s]||pF;n[s]=r(e,s,o)}removeEventListener(e,s){const o=e.$proxies||(e.$proxies={}),n=o[s];if(!n)return;({attach:mu,detach:mu,resize:mu}[s]||lF)(e,s,n),o[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,o,n){return aI(e,s,o,n)}isAttached(e){const s=e&&nm(e);return!!(s&&s.isConnected)}}function bF(t){return!om()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?nF:gF}var Al;let Go=(Al=class{constructor(){re(this,"x");re(this,"y");re(this,"active",!1);re(this,"options");re(this,"$animations")}tooltipPosition(e){const{x:s,y:o}=this.getProps(["x","y"],e);return{x:s,y:o}}hasValue(){return cr(this.x)&&cr(this.y)}getProps(e,s){const o=this.$animations;if(!s||!o)return this;const n={};return e.forEach(i=>{n[i]=o[i]&&o[i].active()?o[i]._to:this[i]}),n}},re(Al,"defaults",{}),re(Al,"defaultRoutes"),Al);function vF(t,e){const s=t.options.ticks,o=yF(t),n=Math.min(s.maxTicksLimit||o,o),i=s.major.enabled?EF(e):[],r=i.length,a=i[0],l=i[r-1],d=[];if(r>n)return wF(e,d,i,r/n),d;const u=_F(i,e,n);if(r>0){let f,h;const m=r>1?Math.round((l-a)/(r-1)):null;for(_l(e,d,u,Re(m)?0:a-m,a),f=0,h=r-1;f<h;f++)_l(e,d,u,i[f],i[f+1]);return _l(e,d,u,l,Re(m)?e.length:l+m),d}return _l(e,d,u),d}function yF(t){const e=t.options.offset,s=t._tickSize(),o=t._length/s+(e?0:1),n=t._maxLength/s;return Math.floor(Math.min(o,n))}function _F(t,e,s){const o=CF(t),n=e.length/s;if(!o)return Math.max(n,1);const i=dP(o);for(let r=0,a=i.length-1;r<a;r++){const l=i[r];if(l>n)return l}return Math.max(n,1)}function EF(t){const e=[];let s,o;for(s=0,o=t.length;s<o;s++)t[s].major&&e.push(s);return e}function wF(t,e,s,o){let n=0,i=s[0],r;for(o=Math.ceil(o),r=0;r<t.length;r++)r===i&&(e.push(t[r]),n++,i=s[n*o])}function _l(t,e,s,o,n){const i=Te(o,0),r=Math.min(Te(n,t.length),t.length);let a=0,l,d,u;for(s=Math.ceil(s),n&&(l=n-o,s=l/Math.floor(l/s)),u=i;u<0;)a++,u=Math.round(i+a*s);for(d=Math.max(i,0);d<r;d++)d===u&&(e.push(t[d]),a++,u=Math.round(i+a*s))}function CF(t){const e=t.length;let s,o;if(e<2)return!1;for(o=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==o)return!1;return o}const SF=t=>t==="left"?"right":t==="right"?"left":t,ab=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,lb=(t,e)=>Math.min(e||t,t);function cb(t,e){const s=[],o=t.length/e,n=t.length;let i=0;for(;i<n;i+=o)s.push(t[Math.floor(i)]);return s}function xF(t,e,s){const o=t.ticks.length,n=Math.min(e,o-1),i=t._startPixel,r=t._endPixel,a=1e-6;let l=t.getPixelForTick(n),d;if(!(s&&(o===1?d=Math.max(l-i,r-l):e===0?d=(t.getPixelForTick(1)-l)/2:d=(l-t.getPixelForTick(n-1))/2,l+=n<e?d:-d,l<i-a||l>r+a)))return l}function kF(t,e){He(t,s=>{const o=s.gc,n=o.length/2;let i;if(n>e){for(i=0;i<n;++i)delete s.data[o[i]];o.splice(0,n)}})}function Rr(t){return t.drawTicks?t.tickLength:0}function db(t,e){if(!t.display)return 0;const s=Et(t.font,e),o=Zt(t.padding);return(rt(t.text)?t.text.length:1)*s.lineHeight+o.height}function DF(t,e){return Fn(t,{scale:e,type:"scale"})}function AF(t,e,s){return Fn(t,{tick:s,index:e,type:"tick"})}function TF(t,e,s){let o=Yh(t);return(s&&e!=="right"||!s&&e==="right")&&(o=SF(o)),o}function MF(t,e,s,o){const{top:n,left:i,bottom:r,right:a,chart:l}=t,{chartArea:d,scales:u}=l;let f=0,h,m,g;const b=r-n,v=a-i;if(t.isHorizontal()){if(m=Vt(o,i,a),Oe(s)){const w=Object.keys(s)[0],E=s[w];g=u[w].getPixelForValue(E)+b-e}else s==="center"?g=(d.bottom+d.top)/2+b-e:g=ab(t,s,e);h=a-i}else{if(Oe(s)){const w=Object.keys(s)[0],E=s[w];m=u[w].getPixelForValue(E)-v+e}else s==="center"?m=(d.left+d.right)/2-v+e:m=ab(t,s,e);g=Vt(o,r,n),f=s==="left"?-gt:gt}return{titleX:m,titleY:g,maxWidth:h,rotation:f}}class Ci extends Go{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:o,_suggestedMax:n}=this;return e=ws(e,Number.POSITIVE_INFINITY),s=ws(s,Number.NEGATIVE_INFINITY),o=ws(o,Number.POSITIVE_INFINITY),n=ws(n,Number.NEGATIVE_INFINITY),{min:ws(e,o),max:ws(s,n),minDefined:ut(e),maxDefined:ut(s)}}getMinMax(e){let{min:s,max:o,minDefined:n,maxDefined:i}=this.getUserBounds(),r;if(n&&i)return{min:s,max:o};const a=this.getMatchingVisibleMetas();for(let l=0,d=a.length;l<d;++l)r=a[l].controller.getMinMax(this,e),n||(s=Math.min(s,r.min)),i||(o=Math.max(o,r.max));return s=i&&s>o?o:s,o=n&&s>o?s:o,{min:ws(s,ws(o,s)),max:ws(o,ws(s,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Je(this.options.beforeUpdate,[this])}update(e,s,o){const{beginAtZero:n,grace:i,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=$P(this,i,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?cb(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=vF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,o;this.isHorizontal()?(s=this.left,o=this.right):(s=this.top,o=this.bottom,e=!e),this._startPixel=s,this._endPixel=o,this._reversePixels=e,this._length=o-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Je(this.options.afterUpdate,[this])}beforeSetDimensions(){Je(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Je(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Je(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Je(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let o,n,i;for(o=0,n=e.length;o<n;o++)i=e[o],i.label=Je(s.callback,[i.value,o,e],this)}afterTickToLabelConversion(){Je(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Je(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,o=lb(this.ticks.length,e.ticks.maxTicksLimit),n=s.minRotation||0,i=s.maxRotation;let r=n,a,l,d;if(!this._isVisible()||!s.display||n>=i||o<=1||!this.isHorizontal()){this.labelRotation=n;return}const u=this._getLabelSizes(),f=u.widest.width,h=u.highest.height,m=kt(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/o:m/(o-1),f+6>a&&(a=m/(o-(e.offset?.5:1)),l=this.maxHeight-Rr(e.grid)-s.padding-db(e.title,this.chart.options.font),d=Math.sqrt(f*f+h*h),r=Xh(Math.min(Math.asin(kt((u.highest.height+6)/a,-1,1)),Math.asin(kt(l/d,-1,1))-Math.asin(kt(h/d,-1,1)))),r=Math.max(n,Math.min(i,r))),this.labelRotation=r}afterCalculateLabelRotation(){Je(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Je(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:o,title:n,grid:i}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const l=db(n,s.options.font);if(a?(e.width=this.maxWidth,e.height=Rr(i)+l):(e.height=this.maxHeight,e.width=Rr(i)+l),o.display&&this.ticks.length){const{first:d,last:u,widest:f,highest:h}=this._getLabelSizes(),m=o.padding*2,g=Gs(this.labelRotation),b=Math.cos(g),v=Math.sin(g);if(a){const w=o.mirror?0:v*f.width+b*h.height;e.height=Math.min(this.maxHeight,e.height+w+m)}else{const w=o.mirror?0:b*f.width+v*h.height;e.width=Math.min(this.maxWidth,e.width+w+m)}this._calculatePadding(d,u,v,b)}}this._handleMargins(),a?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,o,n){const{ticks:{align:i,padding:r},position:a}=this.options,l=this.labelRotation!==0,d=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,m=0;l?d?(h=n*e.width,m=o*s.height):(h=o*e.height,m=n*s.width):i==="start"?m=s.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,m=s.width/2),this.paddingLeft=Math.max((h-u+r)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-f+r)*this.width/(this.width-f),0)}else{let u=s.height/2,f=e.height/2;i==="start"?(u=0,f=e.height):i==="end"&&(u=s.height,f=0),this.paddingTop=u+r,this.paddingBottom=f+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Je(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,o;for(s=0,o=e.length;s<o;s++)Re(e[s].label)&&(e.splice(s,1),o--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let o=this.ticks;s<o.length&&(o=cb(o,s)),this._labelSizes=e=this._computeLabelSizes(o,o.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,o){const{ctx:n,_longestTextCache:i}=this,r=[],a=[],l=Math.floor(s/lb(s,o));let d=0,u=0,f,h,m,g,b,v,w,E,_,D,k;for(f=0;f<s;f+=l){if(g=e[f].label,b=this._resolveTickFontOptions(f),n.font=v=b.string,w=i[v]=i[v]||{data:{},gc:[]},E=b.lineHeight,_=D=0,!Re(g)&&!rt(g))_=Rc(n,w.data,w.gc,_,g),D=E;else if(rt(g))for(h=0,m=g.length;h<m;++h)k=g[h],!Re(k)&&!rt(k)&&(_=Rc(n,w.data,w.gc,_,k),D+=E);r.push(_),a.push(D),d=Math.max(_,d),u=Math.max(D,u)}kF(i,s);const T=r.indexOf(d),O=a.indexOf(u),P=M=>({width:r[M]||0,height:a[M]||0});return{first:P(0),last:P(s-1),widest:P(T),highest:P(O),widths:r,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return mP(this._alignToPixels?$n(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const o=s[e];return o.$context||(o.$context=AF(this.getContext(),e,o))}return this.$context||(this.$context=DF(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=Gs(this.labelRotation),o=Math.abs(Math.cos(s)),n=Math.abs(Math.sin(s)),i=this._getLabelSizes(),r=e.autoSkipPadding||0,a=i?i.widest.width+r:0,l=i?i.highest.height+r:0;return this.isHorizontal()?l*o>a*n?a/o:l/n:l*n<a*o?l/o:a/n}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,o=this.chart,n=this.options,{grid:i,position:r,border:a}=n,l=i.offset,d=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=Rr(i),m=[],g=a.setContext(this.getContext()),b=g.display?g.width:0,v=b/2,w=function(Z){return $n(o,Z,b)};let E,_,D,k,T,O,P,M,F,L,N,z;if(r==="top")E=w(this.bottom),O=this.bottom-h,M=E-v,L=w(e.top)+v,z=e.bottom;else if(r==="bottom")E=w(this.top),L=e.top,z=w(e.bottom)-v,O=E+v,M=this.top+h;else if(r==="left")E=w(this.right),T=this.right-h,P=E-v,F=w(e.left)+v,N=e.right;else if(r==="right")E=w(this.left),F=e.left,N=w(e.right)-v,T=E+v,P=this.left+h;else if(s==="x"){if(r==="center")E=w((e.top+e.bottom)/2+.5);else if(Oe(r)){const Z=Object.keys(r)[0],Q=r[Z];E=w(this.chart.scales[Z].getPixelForValue(Q))}L=e.top,z=e.bottom,O=E+v,M=O+h}else if(s==="y"){if(r==="center")E=w((e.left+e.right)/2);else if(Oe(r)){const Z=Object.keys(r)[0],Q=r[Z];E=w(this.chart.scales[Z].getPixelForValue(Q))}T=E-v,P=T-h,F=e.left,N=e.right}const G=Te(n.ticks.maxTicksLimit,f),te=Math.max(1,Math.ceil(f/G));for(_=0;_<f;_+=te){const Z=this.getContext(_),Q=i.setContext(Z),ie=a.setContext(Z),xe=Q.lineWidth,nt=Q.color,Mt=ie.dash||[],Pt=ie.dashOffset,Ct=Q.tickWidth,Nt=Q.tickColor,so=Q.tickBorderDash||[],Lt=Q.tickBorderDashOffset;D=xF(this,_,l),D!==void 0&&(k=$n(o,D,xe),d?T=P=F=N=k:O=M=L=z=k,m.push({tx1:T,ty1:O,tx2:P,ty2:M,x1:F,y1:L,x2:N,y2:z,width:xe,color:nt,borderDash:Mt,borderDashOffset:Pt,tickWidth:Ct,tickColor:Nt,tickBorderDash:so,tickBorderDashOffset:Lt}))}return this._ticksLength=f,this._borderValue=E,m}_computeLabelItems(e){const s=this.axis,o=this.options,{position:n,ticks:i}=o,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:d,padding:u,mirror:f}=i,h=Rr(o.grid),m=h+u,g=f?-u:m,b=-Gs(this.labelRotation),v=[];let w,E,_,D,k,T,O,P,M,F,L,N,z="middle";if(n==="top")T=this.bottom-g,O=this._getXAxisLabelAlignment();else if(n==="bottom")T=this.top+g,O=this._getXAxisLabelAlignment();else if(n==="left"){const te=this._getYAxisLabelAlignment(h);O=te.textAlign,k=te.x}else if(n==="right"){const te=this._getYAxisLabelAlignment(h);O=te.textAlign,k=te.x}else if(s==="x"){if(n==="center")T=(e.top+e.bottom)/2+m;else if(Oe(n)){const te=Object.keys(n)[0],Z=n[te];T=this.chart.scales[te].getPixelForValue(Z)+m}O=this._getXAxisLabelAlignment()}else if(s==="y"){if(n==="center")k=(e.left+e.right)/2-m;else if(Oe(n)){const te=Object.keys(n)[0],Z=n[te];k=this.chart.scales[te].getPixelForValue(Z)}O=this._getYAxisLabelAlignment(h).textAlign}s==="y"&&(l==="start"?z="top":l==="end"&&(z="bottom"));const G=this._getLabelSizes();for(w=0,E=a.length;w<E;++w){_=a[w],D=_.label;const te=i.setContext(this.getContext(w));P=this.getPixelForTick(w)+i.labelOffset,M=this._resolveTickFontOptions(w),F=M.lineHeight,L=rt(D)?D.length:1;const Z=L/2,Q=te.color,ie=te.textStrokeColor,xe=te.textStrokeWidth;let nt=O;r?(k=P,O==="inner"&&(w===E-1?nt=this.options.reverse?"left":"right":w===0?nt=this.options.reverse?"right":"left":nt="center"),n==="top"?d==="near"||b!==0?N=-L*F+F/2:d==="center"?N=-G.highest.height/2-Z*F+F:N=-G.highest.height+F/2:d==="near"||b!==0?N=F/2:d==="center"?N=G.highest.height/2-Z*F:N=G.highest.height-L*F,f&&(N*=-1),b!==0&&!te.showLabelBackdrop&&(k+=F/2*Math.sin(b))):(T=P,N=(1-L)*F/2);let Mt;if(te.showLabelBackdrop){const Pt=Zt(te.backdropPadding),Ct=G.heights[w],Nt=G.widths[w];let so=N-Pt.top,Lt=0-Pt.left;switch(z){case"middle":so-=Ct/2;break;case"bottom":so-=Ct;break}switch(O){case"center":Lt-=Nt/2;break;case"right":Lt-=Nt;break;case"inner":w===E-1?Lt-=Nt:w>0&&(Lt-=Nt/2);break}Mt={left:Lt,top:so,width:Nt+Pt.width,height:Ct+Pt.height,color:te.backdropColor}}v.push({label:D,font:M,textOffset:N,options:{rotation:b,color:Q,strokeColor:ie,strokeWidth:xe,textAlign:nt,textBaseline:z,translation:[k,T],backdrop:Mt}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-Gs(this.labelRotation))return e==="top"?"left":"right";let n="center";return s.align==="start"?n="left":s.align==="end"?n="right":s.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:o,mirror:n,padding:i}}=this.options,r=this._getLabelSizes(),a=e+i,l=r.widest.width;let d,u;return s==="left"?n?(u=this.right+i,o==="near"?d="left":o==="center"?(d="center",u+=l/2):(d="right",u+=l)):(u=this.right-a,o==="near"?d="right":o==="center"?(d="center",u-=l/2):(d="left",u=this.left)):s==="right"?n?(u=this.left+i,o==="near"?d="right":o==="center"?(d="center",u-=l/2):(d="left",u-=l)):(u=this.left+a,o==="near"?d="left":o==="center"?(d="center",u+=l/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:o,top:n,width:i,height:r}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(o,n,i,r),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const n=this.ticks.findIndex(i=>i.value===e);return n>=0?s.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const s=this.options.grid,o=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,r;const a=(l,d,u)=>{!u.width||!u.color||(o.save(),o.lineWidth=u.width,o.strokeStyle=u.color,o.setLineDash(u.borderDash||[]),o.lineDashOffset=u.borderDashOffset,o.beginPath(),o.moveTo(l.x,l.y),o.lineTo(d.x,d.y),o.stroke(),o.restore())};if(s.display)for(i=0,r=n.length;i<r;++i){const l=n[i];s.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:o,grid:n}}=this,i=o.setContext(this.getContext()),r=o.display?i.width:0;if(!r)return;const a=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let d,u,f,h;this.isHorizontal()?(d=$n(e,this.left,r)-r/2,u=$n(e,this.right,a)+a/2,f=h=l):(f=$n(e,this.top,r)-r/2,h=$n(e,this.bottom,a)+a/2,d=u=l),s.save(),s.lineWidth=i.width,s.strokeStyle=i.color,s.beginPath(),s.moveTo(d,f),s.lineTo(u,h),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const o=this.ctx,n=this._computeLabelArea();n&&kd(o,n);const i=this.getLabelItems(e);for(const r of i){const a=r.options,l=r.font,d=r.label,u=r.textOffset;yi(o,d,0,u,l,a)}n&&Dd(o)}drawTitle(){const{ctx:e,options:{position:s,title:o,reverse:n}}=this;if(!o.display)return;const i=Et(o.font),r=Zt(o.padding),a=o.align;let l=i.lineHeight/2;s==="bottom"||s==="center"||Oe(s)?(l+=r.bottom,rt(o.text)&&(l+=i.lineHeight*(o.text.length-1))):l+=r.top;const{titleX:d,titleY:u,maxWidth:f,rotation:h}=MF(this,l,s,a);yi(e,o.text,0,0,i,{color:o.color,maxWidth:f,rotation:h,textAlign:TF(a,s,n),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,o=Te(e.grid&&e.grid.z,-1),n=Te(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ci.prototype.draw?[{z:s,draw:i=>{this.draw(i)}}]:[{z:o,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:s,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",n=[];let i,r;for(i=0,r=s.length;i<r;++i){const a=s[i];a[o]===this.id&&(!e||a.type===e)&&n.push(a)}return n}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return Et(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class El{constructor(e,s,o){this.type=e,this.scope=s,this.override=o,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let o;FF(s)&&(o=this.register(s));const n=this.items,i=e.id,r=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in n||(n[i]=e,PF(e,r,o),this.override&&at.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const s=this.items,o=e.id,n=this.scope;o in s&&delete s[o],n&&o in at[n]&&(delete at[n][o],this.override&&delete vi[o])}}function PF(t,e,s){const o=Pa(Object.create(null),[s?at.get(s):{},at.get(e),t.defaults]);at.set(e,o),t.defaultRoutes&&IF(e,t.defaultRoutes),t.descriptors&&at.describe(e,t.descriptors)}function IF(t,e){Object.keys(e).forEach(s=>{const o=s.split("."),n=o.pop(),i=[t].concat(o).join("."),r=e[s].split("."),a=r.pop(),l=r.join(".");at.route(i,n,l,a)})}function FF(t){return"id"in t&&"defaults"in t}class RF{constructor(){this.controllers=new El(Qs,"datasets",!0),this.elements=new El(Go,"elements"),this.plugins=new El(Object,"plugins"),this.scales=new El(Ci,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,o){[...s].forEach(n=>{const i=o||this._getRegistryForType(n);o||i.isForType(n)||i===this.plugins&&n.id?this._exec(e,i,n):He(n,r=>{const a=o||this._getRegistryForType(r);this._exec(e,a,r)})})}_exec(e,s,o){const n=Gh(e);Je(o["before"+n],[],o),s[e](o),Je(o["after"+n],[],o)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const o=this._typedRegistries[s];if(o.isForType(e))return o}return this.plugins}_get(e,s,o){const n=s.get(e);if(n===void 0)throw new Error('"'+e+'" is not a registered '+o+".");return n}}var lo=new RF;class OF{constructor(){this._init=[]}notify(e,s,o,n){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=n?this._descriptors(e).filter(n):this._descriptors(e),r=this._notify(i,e,s,o);return s==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,s,o,n){n=n||{};for(const i of e){const r=i.plugin,a=r[o],l=[s,n,i.options];if(Je(a,l,r)===!1&&n.cancelable)return!1}return!0}invalidate(){Re(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const o=e&&e.config,n=Te(o.options&&o.options.plugins,{}),i=NF(o);return n===!1&&!s?[]:zF(e,i,n,s)}_notifyStateChanges(e){const s=this._oldCache||[],o=this._cache,n=(i,r)=>i.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(n(s,o),e,"stop"),this._notify(n(o,s),e,"start")}}function NF(t){const e={},s=[],o=Object.keys(lo.plugins.items);for(let i=0;i<o.length;i++)s.push(lo.getPlugin(o[i]));const n=t.plugins||[];for(let i=0;i<n.length;i++){const r=n[i];s.indexOf(r)===-1&&(s.push(r),e[r.id]=!0)}return{plugins:s,localIds:e}}function LF(t,e){return!e&&t===!1?null:t===!0?{}:t}function zF(t,{plugins:e,localIds:s},o,n){const i=[],r=t.getContext();for(const a of e){const l=a.id,d=LF(o[l],n);d!==null&&i.push({plugin:a,options:$F(t.config,{plugin:a,local:s[l]},d,r)})}return i}function $F(t,{plugin:e,local:s},o,n){const i=t.pluginScopeKeys(e),r=t.getOptionScopes(o,i);return s&&e.defaults&&r.push(e.defaults),t.createResolver(r,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bf(t,e){const s=at.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function VF(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function BF(t,e){return t===e?"_index_":"_value_"}function ub(t){if(t==="x"||t==="y"||t==="r")return t}function UF(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function vf(t,...e){if(ub(t))return t;for(const s of e){const o=s.axis||UF(s.position)||t.length>1&&ub(t[0].toLowerCase());if(o)return o}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function fb(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function jF(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(o=>o.xAxisID===t||o.yAxisID===t);if(s.length)return fb(t,"x",s[0])||fb(t,"y",s[0])}return{}}function HF(t,e){const s=vi[t.type]||{scales:{}},o=e.scales||{},n=bf(t.type,e),i=Object.create(null);return Object.keys(o).forEach(r=>{const a=o[r];if(!Oe(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const l=vf(r,a,jF(r,t),at.scales[a.type]),d=BF(l,n),u=s.scales||{};i[r]=la(Object.create(null),[{axis:l},a,u[l],u[d]])}),t.data.datasets.forEach(r=>{const a=r.type||t.type,l=r.indexAxis||bf(a,e),u=(vi[a]||{}).scales||{};Object.keys(u).forEach(f=>{const h=VF(f,l),m=r[h+"AxisID"]||h;i[m]=i[m]||Object.create(null),la(i[m],[{axis:h},o[m],u[f]])})}),Object.keys(i).forEach(r=>{const a=i[r];la(a,[at.scales[a.type],at.scale])}),i}function B0(t){const e=t.options||(t.options={});e.plugins=Te(e.plugins,{}),e.scales=HF(t,e)}function U0(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function qF(t){return t=t||{},t.data=U0(t.data),B0(t),t}const hb=new Map,j0=new Set;function wl(t,e){let s=hb.get(t);return s||(s=e(),hb.set(t,s),j0.add(s)),s}const Or=(t,e,s)=>{const o=xn(e,s);o!==void 0&&t.add(o)};class WF{constructor(e){this._config=qF(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=U0(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),B0(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return wl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return wl(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return wl(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,o=this.type;return wl(`${o}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const o=this._scopeCache;let n=o.get(e);return(!n||s)&&(n=new Map,o.set(e,n)),n}getOptionScopes(e,s,o){const{options:n,type:i}=this,r=this._cachedScopes(e,o),a=r.get(s);if(a)return a;const l=new Set;s.forEach(u=>{e&&(l.add(e),u.forEach(f=>Or(l,e,f))),u.forEach(f=>Or(l,n,f)),u.forEach(f=>Or(l,vi[i]||{},f)),u.forEach(f=>Or(l,at,f)),u.forEach(f=>Or(l,mf,f))});const d=Array.from(l);return d.length===0&&d.push(Object.create(null)),j0.has(s)&&r.set(s,d),d}chartOptionScopes(){const{options:e,type:s}=this;return[e,vi[s]||{},at.datasets[s]||{},{type:s},at,mf]}resolveNamedOptions(e,s,o,n=[""]){const i={$shared:!0},{resolver:r,subPrefixes:a}=mb(this._resolverCache,e,n);let l=r;if(GF(r,s)){i.$shared=!1,o=kn(o)?o():o;const d=this.createResolver(e,o,a);l=dr(r,o,d)}for(const d of s)i[d]=l[d];return i}createResolver(e,s,o=[""],n){const{resolver:i}=mb(this._resolverCache,e,o);return Oe(s)?dr(i,s,void 0,n):i}}function mb(t,e,s){let o=t.get(e);o||(o=new Map,t.set(e,o));const n=s.join();let i=o.get(n);return i||(i={resolver:em(e,s),subPrefixes:s.filter(a=>!a.toLowerCase().includes("hover"))},o.set(n,i)),i}const KF=t=>Oe(t)&&Object.getOwnPropertyNames(t).some(e=>kn(t[e]));function GF(t,e){const{isScriptable:s,isIndexable:o}=w0(t);for(const n of e){const i=s(n),r=o(n),a=(r||i)&&t[n];if(i&&(kn(a)||KF(a))||r&&rt(a))return!0}return!1}var XF="4.4.8";const ZF=["top","bottom","left","right","chartArea"];function pb(t,e){return t==="top"||t==="bottom"||ZF.indexOf(t)===-1&&e==="x"}function gb(t,e){return function(s,o){return s[t]===o[t]?s[e]-o[e]:s[t]-o[t]}}function bb(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),Je(s&&s.onComplete,[t],e)}function YF(t){const e=t.chart,s=e.options.animation;Je(s&&s.onProgress,[t],e)}function H0(t){return om()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Xl={},vb=t=>{const e=H0(t);return Object.values(Xl).filter(s=>s.canvas===e).pop()};function JF(t,e,s){const o=Object.keys(t);for(const n of o){const i=+n;if(i>=e){const r=t[n];delete t[n],(s>0||i>e)&&(t[i+s]=r)}}}function QF(t,e,s,o){return!s||t.type==="mouseout"?null:o?e:t}function Cl(t,e,s){return t.options.clip?t[s]:e[s]}function eR(t,e){const{xScale:s,yScale:o}=t;return s&&o?{left:Cl(s,e,"left"),right:Cl(s,e,"right"),top:Cl(o,e,"top"),bottom:Cl(o,e,"bottom")}:e}class Oo{static register(...e){lo.add(...e),yb()}static unregister(...e){lo.remove(...e),yb()}constructor(e,s){const o=this.config=new WF(s),n=H0(e),i=vb(n);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const r=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||bF(n)),this.platform.updateConfig(o);const a=this.platform.acquireContext(n,r.aspectRatio),l=a&&a.canvas,d=l&&l.height,u=l&&l.width;if(this.id=tP(),this.ctx=a,this.canvas=l,this.width=u,this.height=d,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new OF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=vP(f=>this.update(f),r.resizeDelay||0),this._dataChanges=[],Xl[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Po.listen(this,"complete",bb),Po.listen(this,"progress",YF),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:o,height:n,_aspectRatio:i}=this;return Re(e)?s&&i?i:n?o/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return lo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Bg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return zg(this.canvas,this.ctx),this}stop(){return Po.stop(this),this}resize(e,s){Po.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const o=this.options,n=this.canvas,i=o.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(n,e,s,i),a=o.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Bg(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),Je(o.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};He(s,(o,n)=>{o.id=n})}buildOrUpdateScales(){const e=this.options,s=e.scales,o=this.scales,n=Object.keys(o).reduce((r,a)=>(r[a]=!1,r),{});let i=[];s&&(i=i.concat(Object.keys(s).map(r=>{const a=s[r],l=vf(r,a),d=l==="r",u=l==="x";return{options:a,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),He(i,r=>{const a=r.options,l=a.id,d=vf(l,a),u=Te(a.type,r.dtype);(a.position===void 0||pb(a.position,d)!==pb(r.dposition))&&(a.position=r.dposition),n[l]=!0;let f=null;if(l in o&&o[l].type===u)f=o[l];else{const h=lo.getScale(u);f=new h({id:l,type:u,ctx:this.ctx,chart:this}),o[f.id]=f}f.init(a,e)}),He(n,(r,a)=>{r||delete o[a]}),He(o,r=>{Wt.configure(this,r,r.options),Wt.addBox(this,r)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,o=e.length;if(e.sort((n,i)=>n.index-i.index),o>s){for(let n=s;n<o;++n)this._destroyDatasetMeta(n);e.splice(s,o-s)}this._sortedMetasets=e.slice(0).sort(gb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((o,n)=>{s.filter(i=>i===o._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let o,n;for(this._removeUnreferencedMetasets(),o=0,n=s.length;o<n;o++){const i=s[o];let r=this.getDatasetMeta(o);const a=i.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(o),r=this.getDatasetMeta(o)),r.type=a,r.indexAxis=i.indexAxis||bf(a,this.options),r.order=i.order||0,r.index=o,r.label=""+i.label,r.visible=this.isDatasetVisible(o),r.controller)r.controller.updateIndex(o),r.controller.linkScales();else{const l=lo.getController(a),{datasetElementType:d,dataElementType:u}=at.datasets[a];Object.assign(l,{dataElementType:lo.getElement(u),datasetElementType:d&&lo.getElement(d)}),r.controller=new l(this,o),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){He(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const o=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:f}=this.getDatasetMeta(d),h=!n&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),r=Math.max(+f.getMaxOverflow(),r)}r=this._minPadding=o.layout.autoPadding?r:0,this._updateLayout(r),n||He(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(gb("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){He(this.scales,e=>{Wt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),o=new Set(e.events);(!Tg(s,o)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:o,start:n,count:i}of s){const r=o==="_removeElements"?-i:i;JF(e,n,r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,o=i=>new Set(e.filter(r=>r[0]===i).map((r,a)=>a+","+r.splice(1).join(","))),n=o(0);for(let i=1;i<s;i++)if(!Tg(n,o(i)))return;return Array.from(n).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Wt.update(this,this.width,this.height,e);const s=this.chartArea,o=s.width<=0||s.height<=0;this._layers=[],He(this.boxes,n=>{o&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,i)=>{n._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,o=this.data.datasets.length;s<o;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,o=this.data.datasets.length;s<o;++s)this._updateDataset(s,kn(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const o=this.getDatasetMeta(e),n={meta:o,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(o.controller._update(s),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Po.has(this)?this.attached&&!Po.running(this)&&Po.start(this):(this.draw(),bb({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:o,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,o=[];let n,i;for(n=0,i=s.length;n<i;++n){const r=s[n];(!e||r.visible)&&o.push(r)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,o=e._clip,n=!o.disabled,i=eR(e,this.chartArea),r={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(n&&kd(s,{left:o.left===!1?0:i.left-o.left,right:o.right===!1?this.width:i.right+o.right,top:o.top===!1?0:i.top-o.top,bottom:o.bottom===!1?this.height:i.bottom+o.bottom}),e.controller.draw(),n&&Dd(s),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Vo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,o,n){const i=ZI.modes[s];return typeof i=="function"?i(this,e,o,n):[]}getDatasetMeta(e){const s=this.data.datasets[e],o=this._metasets;let n=o.filter(i=>i&&i._dataset===s).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},o.push(n)),n}getContext(){return this.$context||(this.$context=Fn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const o=this.getDatasetMeta(e);return typeof o.hidden=="boolean"?!o.hidden:!s.hidden}setDatasetVisibility(e,s){const o=this.getDatasetMeta(e);o.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,o){const n=o?"show":"hide",i=this.getDatasetMeta(e),r=i.controller._resolveAnimations(void 0,n);Ia(s)?(i.data[s].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),r.update(i,{visible:o}),this.update(a=>a.datasetIndex===e?n:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),Po.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),zg(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Xl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,o=(i,r)=>{s.addEventListener(this,i,r),e[i]=r},n=(i,r,a)=>{i.offsetX=r,i.offsetY=a,this._eventHandler(i)};He(this.options.events,i=>o(i,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,o=(l,d)=>{s.addEventListener(this,l,d),e[l]=d},n=(l,d)=>{e[l]&&(s.removeEventListener(this,l,d),delete e[l])},i=(l,d)=>{this.canvas&&this.resize(l,d)};let r;const a=()=>{n("attach",a),this.attached=!0,this.resize(),o("resize",i),o("detach",r)};r=()=>{this.attached=!1,n("resize",i),this._stop(),this._resize(0,0),o("attach",a)},s.isAttached(this.canvas)?a():r()}unbindEvents(){He(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},He(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,o){const n=o?"set":"remove";let i,r,a,l;for(s==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+n+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){r=e[a];const d=r&&this.getDatasetMeta(r.datasetIndex).controller;d&&d[n+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],o=e.map(({datasetIndex:i,index:r})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[r],index:r}});!Pc(o,s)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,s))}notifyPlugins(e,s,o){return this._plugins.notify(this,e,s,o)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,o){const n=this.options.hover,i=(l,d)=>l.filter(u=>!d.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),r=i(s,e),a=o?e:i(e,s);r.length&&this.updateHoverStyle(r,n.mode,!1),a.length&&n.mode&&this.updateHoverStyle(a,n.mode,!0)}_eventHandler(e,s){const o={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},n=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",o,n)===!1)return;const i=this._handleEvent(e,s,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,n),(i||o.changed)&&this.render(),this}_handleEvent(e,s,o){const{_active:n=[],options:i}=this,r=s,a=this._getActiveElements(e,n,o,r),l=aP(e),d=QF(e,this._lastEvent,o,l);o&&(this._lastEvent=null,Je(i.onHover,[e,a,this],this),l&&Je(i.onClick,[e,a,this],this));const u=!Pc(a,n);return(u||s)&&(this._active=a,this._updateHoverStyles(a,n,s)),this._lastEvent=d,u}_getActiveElements(e,s,o,n){if(e.type==="mouseout")return[];if(!o)return s;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,n)}}re(Oo,"defaults",at),re(Oo,"instances",Xl),re(Oo,"overrides",vi),re(Oo,"registry",lo),re(Oo,"version",XF),re(Oo,"getChart",vb);function yb(){return He(Oo.instances,t=>t._plugins.invalidate())}function tR(t,e,s){const{startAngle:o,pixelMargin:n,x:i,y:r,outerRadius:a,innerRadius:l}=e;let d=n/a;t.beginPath(),t.arc(i,r,a,o-d,s+d),l>n?(d=n/l,t.arc(i,r,l,s+d,o-d,!0)):t.arc(i,r,n,s+gt,o-gt),t.closePath(),t.clip()}function sR(t){return Qh(t,["outerStart","outerEnd","innerStart","innerEnd"])}function oR(t,e,s,o){const n=sR(t.options.borderRadius),i=(s-e)/2,r=Math.min(i,o*e/2),a=l=>{const d=(s-Math.min(i,l))*o/2;return kt(l,0,Math.min(i,d))};return{outerStart:a(n.outerStart),outerEnd:a(n.outerEnd),innerStart:kt(n.innerStart,0,r),innerEnd:kt(n.innerEnd,0,r)}}function Mi(t,e,s,o){return{x:s+t*Math.cos(e),y:o+t*Math.sin(e)}}function Lc(t,e,s,o,n,i){const{x:r,y:a,startAngle:l,pixelMargin:d,innerRadius:u}=e,f=Math.max(e.outerRadius+o+s-d,0),h=u>0?u+o+s+d:0;let m=0;const g=n-l;if(o){const te=u>0?u-o:0,Z=f>0?f-o:0,Q=(te+Z)/2,ie=Q!==0?g*Q/(Q+o):g;m=(g-ie)/2}const b=Math.max(.001,g*f-s/ot)/f,v=(g-b)/2,w=l+v+m,E=n-v-m,{outerStart:_,outerEnd:D,innerStart:k,innerEnd:T}=oR(e,h,f,E-w),O=f-_,P=f-D,M=w+_/O,F=E-D/P,L=h+k,N=h+T,z=w+k/L,G=E-T/N;if(t.beginPath(),i){const te=(M+F)/2;if(t.arc(r,a,f,M,te),t.arc(r,a,f,te,F),D>0){const xe=Mi(P,F,r,a);t.arc(xe.x,xe.y,D,F,E+gt)}const Z=Mi(N,E,r,a);if(t.lineTo(Z.x,Z.y),T>0){const xe=Mi(N,G,r,a);t.arc(xe.x,xe.y,T,E+gt,G+Math.PI)}const Q=(E-T/h+(w+k/h))/2;if(t.arc(r,a,h,E-T/h,Q,!0),t.arc(r,a,h,Q,w+k/h,!0),k>0){const xe=Mi(L,z,r,a);t.arc(xe.x,xe.y,k,z+Math.PI,w-gt)}const ie=Mi(O,w,r,a);if(t.lineTo(ie.x,ie.y),_>0){const xe=Mi(O,M,r,a);t.arc(xe.x,xe.y,_,w-gt,M)}}else{t.moveTo(r,a);const te=Math.cos(M)*f+r,Z=Math.sin(M)*f+a;t.lineTo(te,Z);const Q=Math.cos(F)*f+r,ie=Math.sin(F)*f+a;t.lineTo(Q,ie)}t.closePath()}function nR(t,e,s,o,n){const{fullCircles:i,startAngle:r,circumference:a}=e;let l=e.endAngle;if(i){Lc(t,e,s,o,l,n);for(let d=0;d<i;++d)t.fill();isNaN(a)||(l=r+(a%st||st))}return Lc(t,e,s,o,l,n),t.fill(),l}function iR(t,e,s,o,n){const{fullCircles:i,startAngle:r,circumference:a,options:l}=e,{borderWidth:d,borderJoinStyle:u,borderDash:f,borderDashOffset:h}=l,m=l.borderAlign==="inner";if(!d)return;t.setLineDash(f||[]),t.lineDashOffset=h,m?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel");let g=e.endAngle;if(i){Lc(t,e,s,o,g,n);for(let b=0;b<i;++b)t.stroke();isNaN(a)||(g=r+(a%st||st))}m&&tR(t,e,g),i||(Lc(t,e,s,o,g,n),t.stroke())}class Gr extends Go{constructor(s){super();re(this,"circumference");re(this,"endAngle");re(this,"fullCircles");re(this,"innerRadius");re(this,"outerRadius");re(this,"pixelMargin");re(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,o,n){const i=this.getProps(["x","y"],n),{angle:r,distance:a}=f0(i,{x:s,y:o}),{startAngle:l,endAngle:d,innerRadius:u,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),m=(this.options.spacing+this.options.borderWidth)/2,g=Te(h,d-l),b=Fa(r,l,d)&&l!==d,v=g>=st||b,w=zo(a,u+m,f+m);return v&&w}getCenterPoint(s){const{x:o,y:n,startAngle:i,endAngle:r,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:d,spacing:u}=this.options,f=(i+r)/2,h=(a+l+u+d)/2;return{x:o+Math.cos(f)*h,y:n+Math.sin(f)*h}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:o,circumference:n}=this,i=(o.offset||0)/4,r=(o.spacing||0)/2,a=o.circular;if(this.pixelMargin=o.borderAlign==="inner"?.33:0,this.fullCircles=n>st?Math.floor(n/st):0,n===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const l=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(l)*i,Math.sin(l)*i);const d=1-Math.sin(Math.min(ot,n||0)),u=i*d;s.fillStyle=o.backgroundColor,s.strokeStyle=o.borderColor,nR(s,this,u,r,a),iR(s,this,u,r,a),s.restore()}}re(Gr,"id","arc"),re(Gr,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),re(Gr,"defaultRoutes",{backgroundColor:"backgroundColor"}),re(Gr,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function q0(t,e,s=e){t.lineCap=Te(s.borderCapStyle,e.borderCapStyle),t.setLineDash(Te(s.borderDash,e.borderDash)),t.lineDashOffset=Te(s.borderDashOffset,e.borderDashOffset),t.lineJoin=Te(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Te(s.borderWidth,e.borderWidth),t.strokeStyle=Te(s.borderColor,e.borderColor)}function rR(t,e,s){t.lineTo(s.x,s.y)}function aR(t){return t.stepped?MP:t.tension||t.cubicInterpolationMode==="monotone"?PP:rR}function W0(t,e,s={}){const o=t.length,{start:n=0,end:i=o-1}=s,{start:r,end:a}=e,l=Math.max(n,r),d=Math.min(i,a),u=n<r&&i<r||n>a&&i>a;return{count:o,start:l,loop:e.loop,ilen:d<l&&!u?o+d-l:d-l}}function lR(t,e,s,o){const{points:n,options:i}=e,{count:r,start:a,loop:l,ilen:d}=W0(n,s,o),u=aR(i);let{move:f=!0,reverse:h}=o||{},m,g,b;for(m=0;m<=d;++m)g=n[(a+(h?d-m:m))%r],!g.skip&&(f?(t.moveTo(g.x,g.y),f=!1):u(t,b,g,h,i.stepped),b=g);return l&&(g=n[(a+(h?d:0))%r],u(t,b,g,h,i.stepped)),!!l}function cR(t,e,s,o){const n=e.points,{count:i,start:r,ilen:a}=W0(n,s,o),{move:l=!0,reverse:d}=o||{};let u=0,f=0,h,m,g,b,v,w;const E=D=>(r+(d?a-D:D))%i,_=()=>{b!==v&&(t.lineTo(u,v),t.lineTo(u,b),t.lineTo(u,w))};for(l&&(m=n[E(0)],t.moveTo(m.x,m.y)),h=0;h<=a;++h){if(m=n[E(h)],m.skip)continue;const D=m.x,k=m.y,T=D|0;T===g?(k<b?b=k:k>v&&(v=k),u=(f*u+D)/++f):(_(),t.lineTo(D,k),g=T,f=0,b=v=k),w=k}_()}function yf(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?cR:lR}function dR(t){return t.stepped?cI:t.tension||t.cubicInterpolationMode==="monotone"?dI:Wn}function uR(t,e,s,o){let n=e._path;n||(n=e._path=new Path2D,e.path(n,s,o)&&n.closePath()),q0(t,e.options),t.stroke(n)}function fR(t,e,s,o){const{segments:n,options:i}=e,r=yf(e);for(const a of n)q0(t,i,a.style),t.beginPath(),r(t,e,a,{start:s,end:s+o-1})&&t.closePath(),t.stroke()}const hR=typeof Path2D=="function";function mR(t,e,s,o){hR&&!e.options.segment?uR(t,e,s,o):fR(t,e,s,o)}class pn extends Go{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){const n=o.spanGaps?this._loop:this._fullLoop;tI(this._points,o,e,n,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=gI(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,o=e.length;return o&&s[e[o-1].end]}interpolate(e,s){const o=this.options,n=e[s],i=this.points,r=I0(this,{property:s,start:n,end:n});if(!r.length)return;const a=[],l=dR(o);let d,u;for(d=0,u=r.length;d<u;++d){const{start:f,end:h}=r[d],m=i[f],g=i[h];if(m===g){a.push(m);continue}const b=Math.abs((n-m[s])/(g[s]-m[s])),v=l(m,g,b,o.stepped);v[s]=e[s],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,s,o){return yf(this)(e,this,s,o)}path(e,s,o){const n=this.segments,i=yf(this);let r=this._loop;s=s||0,o=o||this.points.length-s;for(const a of n)r&=i(e,this,a,{start:s,end:s+o-1});return!!r}draw(e,s,o,n){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),mR(e,this,o,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}re(pn,"id","line"),re(pn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),re(pn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),re(pn,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function _b(t,e,s,o){const n=t.options,{[s]:i}=t.getProps([s],o);return Math.abs(e-i)<n.radius+n.hitRadius}class Zl extends Go{constructor(s){super();re(this,"parsed");re(this,"skip");re(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,o,n){const i=this.options,{x:r,y:a}=this.getProps(["x","y"],n);return Math.pow(s-r,2)+Math.pow(o-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(s,o){return _b(this,s,"x",o)}inYRange(s,o){return _b(this,s,"y",o)}getCenterPoint(s){const{x:o,y:n}=this.getProps(["x","y"],s);return{x:o,y:n}}size(s){s=s||this.options||{};let o=s.radius||0;o=Math.max(o,o&&s.hoverRadius||0);const n=o&&s.borderWidth||0;return(o+n)*2}draw(s,o){const n=this.options;this.skip||n.radius<.1||!Vo(this,o,this.size(n)/2)||(s.strokeStyle=n.borderColor,s.lineWidth=n.borderWidth,s.fillStyle=n.backgroundColor,pf(s,n,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}re(Zl,"id","point"),re(Zl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),re(Zl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function K0(t,e){const{x:s,y:o,base:n,width:i,height:r}=t.getProps(["x","y","base","width","height"],e);let a,l,d,u,f;return t.horizontal?(f=r/2,a=Math.min(s,n),l=Math.max(s,n),d=o-f,u=o+f):(f=i/2,a=s-f,l=s+f,d=Math.min(o,n),u=Math.max(o,n)),{left:a,top:d,right:l,bottom:u}}function gn(t,e,s,o){return t?0:kt(e,s,o)}function pR(t,e,s){const o=t.options.borderWidth,n=t.borderSkipped,i=E0(o);return{t:gn(n.top,i.top,0,s),r:gn(n.right,i.right,0,e),b:gn(n.bottom,i.bottom,0,s),l:gn(n.left,i.left,0,e)}}function gR(t,e,s){const{enableBorderRadius:o}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,i=ci(n),r=Math.min(e,s),a=t.borderSkipped,l=o||Oe(n);return{topLeft:gn(!l||a.top||a.left,i.topLeft,0,r),topRight:gn(!l||a.top||a.right,i.topRight,0,r),bottomLeft:gn(!l||a.bottom||a.left,i.bottomLeft,0,r),bottomRight:gn(!l||a.bottom||a.right,i.bottomRight,0,r)}}function bR(t){const e=K0(t),s=e.right-e.left,o=e.bottom-e.top,n=pR(t,s/2,o/2),i=gR(t,s/2,o/2);return{outer:{x:e.left,y:e.top,w:s,h:o,radius:i},inner:{x:e.left+n.l,y:e.top+n.t,w:s-n.l-n.r,h:o-n.t-n.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,i.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(n.b,n.r))}}}}function pu(t,e,s,o){const n=e===null,i=s===null,a=t&&!(n&&i)&&K0(t,o);return a&&(n||zo(e,a.left,a.right))&&(i||zo(s,a.top,a.bottom))}function vR(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function yR(t,e){t.rect(e.x,e.y,e.w,e.h)}function gu(t,e,s={}){const o=t.x!==s.x?-e:0,n=t.y!==s.y?-e:0,i=(t.x+t.w!==s.x+s.w?e:0)-o,r=(t.y+t.h!==s.y+s.h?e:0)-n;return{x:t.x+o,y:t.y+n,w:t.w+i,h:t.h+r,radius:t.radius}}class Yl extends Go{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:o,backgroundColor:n}}=this,{inner:i,outer:r}=bR(this),a=vR(r.radius)?Ra:yR;e.save(),(r.w!==i.w||r.h!==i.h)&&(e.beginPath(),a(e,gu(r,s,i)),e.clip(),a(e,gu(i,-s,r)),e.fillStyle=o,e.fill("evenodd")),e.beginPath(),a(e,gu(i,s)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,s,o){return pu(this,e,s,o)}inXRange(e,s){return pu(this,e,null,s)}inYRange(e,s){return pu(this,null,e,s)}getCenterPoint(e){const{x:s,y:o,base:n,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(s+n)/2:s,y:i?o:(o+n)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}re(Yl,"id","bar"),re(Yl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),re(Yl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var _R=Object.freeze({__proto__:null,ArcElement:Gr,BarElement:Yl,LineElement:pn,PointElement:Zl});const _f=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Eb=_f.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function G0(t){return _f[t%_f.length]}function X0(t){return Eb[t%Eb.length]}function ER(t,e){return t.borderColor=G0(e),t.backgroundColor=X0(e),++e}function wR(t,e){return t.backgroundColor=t.data.map(()=>G0(e++)),e}function CR(t,e){return t.backgroundColor=t.data.map(()=>X0(e++)),e}function SR(t){let e=0;return(s,o)=>{const n=t.getDatasetMeta(o).controller;n instanceof Qn?e=wR(s,e):n instanceof fa?e=CR(s,e):n&&(e=ER(s,e))}}function wb(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function xR(t){return t&&(t.borderColor||t.backgroundColor)}function kR(){return at.borderColor!=="rgba(0,0,0,0.1)"||at.backgroundColor!=="rgba(0,0,0,0.1)"}var DR={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,s){if(!s.enabled)return;const{data:{datasets:o},options:n}=t.config,{elements:i}=n,r=wb(o)||xR(n)||i&&wb(i)||kR();if(!s.forceOverride&&r)return;const a=SR(t);o.forEach(a)}};function AR(t,e,s,o,n){const i=n.samples||o;if(i>=s)return t.slice(e,e+s);const r=[],a=(s-2)/(i-2);let l=0;const d=e+s-1;let u=e,f,h,m,g,b;for(r[l++]=t[u],f=0;f<i-2;f++){let v=0,w=0,E;const _=Math.floor((f+1)*a)+1+e,D=Math.min(Math.floor((f+2)*a)+1,s)+e,k=D-_;for(E=_;E<D;E++)v+=t[E].x,w+=t[E].y;v/=k,w/=k;const T=Math.floor(f*a)+1+e,O=Math.min(Math.floor((f+1)*a)+1,s)+e,{x:P,y:M}=t[u];for(m=g=-1,E=T;E<O;E++)g=.5*Math.abs((P-v)*(t[E].y-M)-(P-t[E].x)*(w-M)),g>m&&(m=g,h=t[E],b=E);r[l++]=h,u=b}return r[l++]=t[d],r}function TR(t,e,s,o){let n=0,i=0,r,a,l,d,u,f,h,m,g,b;const v=[],w=e+s-1,E=t[e].x,D=t[w].x-E;for(r=e;r<e+s;++r){a=t[r],l=(a.x-E)/D*o,d=a.y;const k=l|0;if(k===u)d<g?(g=d,f=r):d>b&&(b=d,h=r),n=(i*n+a.x)/++i;else{const T=r-1;if(!Re(f)&&!Re(h)){const O=Math.min(f,h),P=Math.max(f,h);O!==m&&O!==T&&v.push({...t[O],x:n}),P!==m&&P!==T&&v.push({...t[P],x:n})}r>0&&T!==m&&v.push(t[T]),v.push(a),u=k,i=0,g=b=d,f=h=m=r}}return v}function Z0(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Cb(t){t.data.datasets.forEach(e=>{Z0(e)})}function MR(t,e){const s=e.length;let o=0,n;const{iScale:i}=t,{min:r,max:a,minDefined:l,maxDefined:d}=i.getUserBounds();return l&&(o=kt($o(e,i.axis,r).lo,0,s-1)),d?n=kt($o(e,i.axis,a).hi+1,o,s)-o:n=s-o,{start:o,count:n}}var PR={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,s)=>{if(!s.enabled){Cb(t);return}const o=t.width;t.data.datasets.forEach((n,i)=>{const{_data:r,indexAxis:a}=n,l=t.getDatasetMeta(i),d=r||n.data;if(Wr([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:f,count:h}=MR(l,d);const m=s.threshold||4*o;if(h<=m){Z0(n);return}Re(r)&&(n._data=d,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}}));let g;switch(s.algorithm){case"lttb":g=AR(d,f,h,o,s);break;case"min-max":g=TR(d,f,h,o);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}n._decimated=g})},destroy(t){Cb(t)}};function IR(t,e,s){const o=t.segments,n=t.points,i=e.points,r=[];for(const a of o){let{start:l,end:d}=a;d=rm(l,d,n);const u=Ef(s,n[l],n[d],a.loop);if(!e.segments){r.push({source:a,target:u,start:n[l],end:n[d]});continue}const f=I0(e,u);for(const h of f){const m=Ef(s,i[h.start],i[h.end],h.loop),g=P0(a,n,m);for(const b of g)r.push({source:b,target:h,start:{[s]:Sb(u,m,"start",Math.max)},end:{[s]:Sb(u,m,"end",Math.min)}})}}return r}function Ef(t,e,s,o){if(o)return;let n=e[t],i=s[t];return t==="angle"&&(n=xs(n),i=xs(i)),{property:t,start:n,end:i}}function FR(t,e){const{x:s=null,y:o=null}=t||{},n=e.points,i=[];return e.segments.forEach(({start:r,end:a})=>{a=rm(r,a,n);const l=n[r],d=n[a];o!==null?(i.push({x:l.x,y:o}),i.push({x:d.x,y:o})):s!==null&&(i.push({x:s,y:l.y}),i.push({x:s,y:d.y}))}),i}function rm(t,e,s){for(;e>t;e--){const o=s[e];if(!isNaN(o.x)&&!isNaN(o.y))break}return e}function Sb(t,e,s,o){return t&&e?o(t[s],e[s]):t?t[s]:e?e[s]:0}function Y0(t,e){let s=[],o=!1;return rt(t)?(o=!0,s=t):s=FR(t,e),s.length?new pn({points:s,options:{tension:0},_loop:o,_fullLoop:o}):null}function xb(t){return t&&t.fill!==!1}function RR(t,e,s){let n=t[e].fill;const i=[e];let r;if(!s)return n;for(;n!==!1&&i.indexOf(n)===-1;){if(!ut(n))return n;if(r=t[n],!r)return!1;if(r.visible)return n;i.push(n),n=r.fill}return!1}function OR(t,e,s){const o=$R(t);if(Oe(o))return isNaN(o.value)?!1:o;let n=parseFloat(o);return ut(n)&&Math.floor(n)===n?NR(o[0],e,n,s):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function NR(t,e,s,o){return(t==="-"||t==="+")&&(s=e+s),s===e||s<0||s>=o?!1:s}function LR(t,e){let s=null;return t==="start"?s=e.bottom:t==="end"?s=e.top:Oe(t)?s=e.getPixelForValue(t.value):e.getBasePixel&&(s=e.getBasePixel()),s}function zR(t,e,s){let o;return t==="start"?o=s:t==="end"?o=e.options.reverse?e.min:e.max:Oe(t)?o=t.value:o=e.getBaseValue(),o}function $R(t){const e=t.options,s=e.fill;let o=Te(s&&s.target,s);return o===void 0&&(o=!!e.backgroundColor),o===!1||o===null?!1:o===!0?"origin":o}function VR(t){const{scale:e,index:s,line:o}=t,n=[],i=o.segments,r=o.points,a=BR(e,s);a.push(Y0({x:null,y:e.bottom},o));for(let l=0;l<i.length;l++){const d=i[l];for(let u=d.start;u<=d.end;u++)UR(n,r[u],a)}return new pn({points:n,options:{}})}function BR(t,e){const s=[],o=t.getMatchingVisibleMetas("line");for(let n=0;n<o.length;n++){const i=o[n];if(i.index===e)break;i.hidden||s.unshift(i.dataset)}return s}function UR(t,e,s){const o=[];for(let n=0;n<s.length;n++){const i=s[n],{first:r,last:a,point:l}=jR(i,e,"x");if(!(!l||r&&a)){if(r)o.unshift(l);else if(t.push(l),!a)break}}t.push(...o)}function jR(t,e,s){const o=t.interpolate(e,s);if(!o)return{};const n=o[s],i=t.segments,r=t.points;let a=!1,l=!1;for(let d=0;d<i.length;d++){const u=i[d],f=r[u.start][s],h=r[u.end][s];if(zo(n,f,h)){a=n===f,l=n===h;break}}return{first:a,last:l,point:o}}class J0{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,s,o){const{x:n,y:i,radius:r}=this;return s=s||{start:0,end:st},e.arc(n,i,r,s.end,s.start,!0),!o.bounds}interpolate(e){const{x:s,y:o,radius:n}=this,i=e.angle;return{x:s+Math.cos(i)*n,y:o+Math.sin(i)*n,angle:i}}}function HR(t){const{chart:e,fill:s,line:o}=t;if(ut(s))return qR(e,s);if(s==="stack")return VR(t);if(s==="shape")return!0;const n=WR(t);return n instanceof J0?n:Y0(n,o)}function qR(t,e){const s=t.getDatasetMeta(e);return s&&t.isDatasetVisible(e)?s.dataset:null}function WR(t){return(t.scale||{}).getPointPositionForValue?GR(t):KR(t)}function KR(t){const{scale:e={},fill:s}=t,o=LR(s,e);if(ut(o)){const n=e.isHorizontal();return{x:n?o:null,y:n?null:o}}return null}function GR(t){const{scale:e,fill:s}=t,o=e.options,n=e.getLabels().length,i=o.reverse?e.max:e.min,r=zR(s,e,i),a=[];if(o.grid.circular){const l=e.getPointPositionForValue(0,i);return new J0({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(r)})}for(let l=0;l<n;++l)a.push(e.getPointPositionForValue(l,r));return a}function bu(t,e,s){const o=HR(e),{line:n,scale:i,axis:r}=e,a=n.options,l=a.fill,d=a.backgroundColor,{above:u=d,below:f=d}=l||{};o&&n.points.length&&(kd(t,s),XR(t,{line:n,target:o,above:u,below:f,area:s,scale:i,axis:r}),Dd(t))}function XR(t,e){const{line:s,target:o,above:n,below:i,area:r,scale:a}=e,l=s._loop?"angle":e.axis;t.save(),l==="x"&&i!==n&&(kb(t,o,r.top),Db(t,{line:s,target:o,color:n,scale:a,property:l}),t.restore(),t.save(),kb(t,o,r.bottom)),Db(t,{line:s,target:o,color:i,scale:a,property:l}),t.restore()}function kb(t,e,s){const{segments:o,points:n}=e;let i=!0,r=!1;t.beginPath();for(const a of o){const{start:l,end:d}=a,u=n[l],f=n[rm(l,d,n)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,s),t.lineTo(u.x,u.y)),r=!!e.pathSegment(t,a,{move:r}),r?t.closePath():t.lineTo(f.x,s)}t.lineTo(e.first().x,s),t.closePath(),t.clip()}function Db(t,e){const{line:s,target:o,property:n,color:i,scale:r}=e,a=IR(s,o,n);for(const{source:l,target:d,start:u,end:f}of a){const{style:{backgroundColor:h=i}={}}=l,m=o!==!0;t.save(),t.fillStyle=h,ZR(t,r,m&&Ef(n,u,f)),t.beginPath();const g=!!s.pathSegment(t,l);let b;if(m){g?t.closePath():Ab(t,o,f,n);const v=!!o.pathSegment(t,d,{move:g,reverse:!0});b=g&&v,b||Ab(t,o,u,n)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function ZR(t,e,s){const{top:o,bottom:n}=e.chart.chartArea,{property:i,start:r,end:a}=s||{};i==="x"&&(t.beginPath(),t.rect(r,o,a-r,n-o),t.clip())}function Ab(t,e,s,o){const n=e.interpolate(s,o);n&&t.lineTo(n.x,n.y)}var YR={id:"filler",afterDatasetsUpdate(t,e,s){const o=(t.data.datasets||[]).length,n=[];let i,r,a,l;for(r=0;r<o;++r)i=t.getDatasetMeta(r),a=i.dataset,l=null,a&&a.options&&a instanceof pn&&(l={visible:t.isDatasetVisible(r),index:r,fill:OR(a,r,o),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:a}),i.$filler=l,n.push(l);for(r=0;r<o;++r)l=n[r],!(!l||l.fill===!1)&&(l.fill=RR(n,r,s.propagate))},beforeDraw(t,e,s){const o=s.drawTime==="beforeDraw",n=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let r=n.length-1;r>=0;--r){const a=n[r].$filler;a&&(a.line.updateControlPoints(i,a.axis),o&&a.fill&&bu(t.ctx,a,i))}},beforeDatasetsDraw(t,e,s){if(s.drawTime!=="beforeDatasetsDraw")return;const o=t.getSortedVisibleDatasetMetas();for(let n=o.length-1;n>=0;--n){const i=o[n].$filler;xb(i)&&bu(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,s){const o=e.meta.$filler;!xb(o)||s.drawTime!=="beforeDatasetDraw"||bu(t.ctx,o,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Tb=(t,e)=>{let{boxHeight:s=e,boxWidth:o=e}=t;return t.usePointStyle&&(s=Math.min(s,e),o=t.pointStyleWidth||Math.min(o,e)),{boxWidth:o,boxHeight:s,itemHeight:Math.max(e,s)}},JR=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Mb extends Go{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,o){this.maxWidth=e,this.maxHeight=s,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=Je(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(o=>e.filter(o,this.chart.data))),e.sort&&(s=s.sort((o,n)=>e.sort(o,n,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const o=e.labels,n=Et(o.font),i=n.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Tb(o,i);let d,u;s.font=n.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(r,i,a,l)+10):(u=this.maxHeight,d=this._fitCols(r,n,a,l)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,s,o,n){const{ctx:i,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],d=this.lineWidths=[0],u=n+a;let f=e;i.textAlign="left",i.textBaseline="middle";let h=-1,m=-u;return this.legendItems.forEach((g,b)=>{const v=o+s/2+i.measureText(g.text).width;(b===0||d[d.length-1]+v+2*a>r)&&(f+=u,d[d.length-(b>0?0:1)]=0,m+=u,h++),l[b]={left:0,top:m,row:h,width:v,height:n},d[d.length-1]+=v+a}),f}_fitCols(e,s,o,n){const{ctx:i,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],d=this.columnSizes=[],u=r-e;let f=a,h=0,m=0,g=0,b=0;return this.legendItems.forEach((v,w)=>{const{itemWidth:E,itemHeight:_}=QR(o,s,i,v,n);w>0&&m+_+2*a>u&&(f+=h+a,d.push({width:h,height:m}),g+=h+a,b++,h=m=0),l[w]={left:g,top:m,col:b,width:E,height:_},h=Math.max(h,E),m+=_+a}),f+=h,d.push({width:h,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:o,labels:{padding:n},rtl:i}}=this,r=Wi(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=Vt(o,this.left+n,this.right-this.lineWidths[a]);for(const d of s)a!==d.row&&(a=d.row,l=Vt(o,this.left+n,this.right-this.lineWidths[a])),d.top+=this.top+e+n,d.left=r.leftForLtr(r.x(l),d.width),l+=d.width+n}else{let a=0,l=Vt(o,this.top+e+n,this.bottom-this.columnSizes[a].height);for(const d of s)d.col!==a&&(a=d.col,l=Vt(o,this.top+e+n,this.bottom-this.columnSizes[a].height)),d.top=l,d.left+=this.left+n,d.left=r.leftForLtr(r.x(d.left),d.width),l+=d.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;kd(e,this),this._draw(),Dd(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:o,ctx:n}=this,{align:i,labels:r}=e,a=at.color,l=Wi(e.rtl,this.left,this.width),d=Et(r.font),{padding:u}=r,f=d.size,h=f/2;let m;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=d.string;const{boxWidth:g,boxHeight:b,itemHeight:v}=Tb(r,f),w=function(T,O,P){if(isNaN(g)||g<=0||isNaN(b)||b<0)return;n.save();const M=Te(P.lineWidth,1);if(n.fillStyle=Te(P.fillStyle,a),n.lineCap=Te(P.lineCap,"butt"),n.lineDashOffset=Te(P.lineDashOffset,0),n.lineJoin=Te(P.lineJoin,"miter"),n.lineWidth=M,n.strokeStyle=Te(P.strokeStyle,a),n.setLineDash(Te(P.lineDash,[])),r.usePointStyle){const F={radius:b*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:M},L=l.xPlus(T,g/2),N=O+h;_0(n,F,L,N,r.pointStyleWidth&&g)}else{const F=O+Math.max((f-b)/2,0),L=l.leftForLtr(T,g),N=ci(P.borderRadius);n.beginPath(),Object.values(N).some(z=>z!==0)?Ra(n,{x:L,y:F,w:g,h:b,radius:N}):n.rect(L,F,g,b),n.fill(),M!==0&&n.stroke()}n.restore()},E=function(T,O,P){yi(n,P.text,T,O+v/2,d,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},_=this.isHorizontal(),D=this._computeTitleHeight();_?m={x:Vt(i,this.left+u,this.right-o[0]),y:this.top+u+D,line:0}:m={x:this.left+u,y:Vt(i,this.top+D+u,this.bottom-s[0].height),line:0},A0(this.ctx,e.textDirection);const k=v+u;this.legendItems.forEach((T,O)=>{n.strokeStyle=T.fontColor,n.fillStyle=T.fontColor;const P=n.measureText(T.text).width,M=l.textAlign(T.textAlign||(T.textAlign=r.textAlign)),F=g+h+P;let L=m.x,N=m.y;l.setWidth(this.width),_?O>0&&L+F+u>this.right&&(N=m.y+=k,m.line++,L=m.x=Vt(i,this.left+u,this.right-o[m.line])):O>0&&N+k>this.bottom&&(L=m.x=L+s[m.line].width+u,m.line++,N=m.y=Vt(i,this.top+D+u,this.bottom-s[m.line].height));const z=l.x(L);if(w(z,N,T),L=yP(M,L+g+h,_?L+F:this.right,e.rtl),E(l.x(L),N,T),_)m.x+=F+u;else if(typeof T.text!="string"){const G=d.lineHeight;m.y+=Q0(T,G)+u}else m.y+=k}),T0(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,o=Et(s.font),n=Zt(s.padding);if(!s.display)return;const i=Wi(e.rtl,this.left,this.width),r=this.ctx,a=s.position,l=o.size/2,d=n.top+l;let u,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+d,f=Vt(e.align,f,this.right-h);else{const g=this.columnSizes.reduce((b,v)=>Math.max(b,v.height),0);u=d+Vt(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const m=Vt(a,f,f+h);r.textAlign=i.textAlign(Yh(a)),r.textBaseline="middle",r.strokeStyle=s.color,r.fillStyle=s.color,r.font=o.string,yi(r,s.text,m,u,o)}_computeTitleHeight(){const e=this.options.title,s=Et(e.font),o=Zt(e.padding);return e.display?s.lineHeight+o.height:0}_getLegendItemAt(e,s){let o,n,i;if(zo(e,this.left,this.right)&&zo(s,this.top,this.bottom)){for(i=this.legendHitBoxes,o=0;o<i.length;++o)if(n=i[o],zo(e,n.left,n.left+n.width)&&zo(s,n.top,n.top+n.height))return this.legendItems[o]}return null}handleEvent(e){const s=this.options;if(!sO(e.type,s))return;const o=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const n=this._hoveredItem,i=JR(n,o);n&&!i&&Je(s.onLeave,[e,n,this],this),this._hoveredItem=o,o&&!i&&Je(s.onHover,[e,o,this],this)}else o&&Je(s.onClick,[e,o,this],this)}}function QR(t,e,s,o,n){const i=eO(o,t,e,s),r=tO(n,o,e.lineHeight);return{itemWidth:i,itemHeight:r}}function eO(t,e,s,o){let n=t.text;return n&&typeof n!="string"&&(n=n.reduce((i,r)=>i.length>r.length?i:r)),e+s.size/2+o.measureText(n).width}function tO(t,e,s){let o=t;return typeof e.text!="string"&&(o=Q0(e,s)),o}function Q0(t,e){const s=t.text?t.text.length:0;return e*s}function sO(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var oO={id:"legend",_element:Mb,start(t,e,s){const o=t.legend=new Mb({ctx:t.ctx,options:s,chart:t});Wt.configure(t,o,s),Wt.addBox(t,o)},stop(t){Wt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const o=t.legend;Wt.configure(t,o,s),o.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const o=e.datasetIndex,n=s.chart;n.isDatasetVisible(o)?(n.hide(o),e.hidden=!0):(n.show(o),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:o,textAlign:n,color:i,useBorderRadius:r,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const d=l.controller.getStyle(s?0:void 0),u=Zt(d.borderWidth);return{text:e[l.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:o||d.pointStyle,rotation:d.rotation,textAlign:n||d.textAlign,borderRadius:r&&(a||d.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class am extends Go{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const o=this.options;if(this.left=0,this.top=0,!o.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const n=rt(o.text)?o.text.length:1;this._padding=Zt(o.padding);const i=n*Et(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:o,bottom:n,right:i,options:r}=this,a=r.align;let l=0,d,u,f;return this.isHorizontal()?(u=Vt(a,o,i),f=s+e,d=i-o):(r.position==="left"?(u=o+e,f=Vt(a,n,s),l=ot*-.5):(u=i-e,f=Vt(a,s,n),l=ot*.5),d=n-s),{titleX:u,titleY:f,maxWidth:d,rotation:l}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const o=Et(s.font),i=o.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:d}=this._drawArgs(i);yi(e,s.text,0,0,o,{color:s.color,maxWidth:l,rotation:d,textAlign:Yh(s.align),textBaseline:"middle",translation:[r,a]})}}function nO(t,e){const s=new am({ctx:t.ctx,options:e,chart:t});Wt.configure(t,s,e),Wt.addBox(t,s),t.titleBlock=s}var iO={id:"title",_element:am,start(t,e,s){nO(t,s)},stop(t){const e=t.titleBlock;Wt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const o=t.titleBlock;Wt.configure(t,o,s),o.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sl=new WeakMap;var rO={id:"subtitle",start(t,e,s){const o=new am({ctx:t.ctx,options:s,chart:t});Wt.configure(t,o,s),Wt.addBox(t,o),Sl.set(t,o)},stop(t){Wt.removeBox(t,Sl.get(t)),Sl.delete(t)},beforeUpdate(t,e,s){const o=Sl.get(t);Wt.configure(t,o,s),o.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xr={average(t){if(!t.length)return!1;let e,s,o=new Set,n=0,i=0;for(e=0,s=t.length;e<s;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();o.add(l.x),n+=l.y,++i}}return i===0||o.size===0?!1:{x:[...o].reduce((a,l)=>a+l)/o.size,y:n/i}},nearest(t,e){if(!t.length)return!1;let s=e.x,o=e.y,n=Number.POSITIVE_INFINITY,i,r,a;for(i=0,r=t.length;i<r;++i){const l=t[i].element;if(l&&l.hasValue()){const d=l.getCenterPoint(),u=hf(e,d);u<n&&(n=u,a=l)}}if(a){const l=a.tooltipPosition();s=l.x,o=l.y}return{x:s,y:o}}};function ro(t,e){return e&&(rt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Io(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function aO(t,e){const{element:s,datasetIndex:o,index:n}=e,i=t.getDatasetMeta(o).controller,{label:r,value:a}=i.getLabelAndValue(n);return{chart:t,label:r,parsed:i.getParsed(n),raw:t.data.datasets[o].data[n],formattedValue:a,dataset:i.getDataset(),dataIndex:n,datasetIndex:o,element:s}}function Pb(t,e){const s=t.chart.ctx,{body:o,footer:n,title:i}=t,{boxWidth:r,boxHeight:a}=e,l=Et(e.bodyFont),d=Et(e.titleFont),u=Et(e.footerFont),f=i.length,h=n.length,m=o.length,g=Zt(e.padding);let b=g.height,v=0,w=o.reduce((D,k)=>D+k.before.length+k.lines.length+k.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,f&&(b+=f*d.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),w){const D=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;b+=m*D+(w-m)*l.lineHeight+(w-1)*e.bodySpacing}h&&(b+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let E=0;const _=function(D){v=Math.max(v,s.measureText(D).width+E)};return s.save(),s.font=d.string,He(t.title,_),s.font=l.string,He(t.beforeBody.concat(t.afterBody),_),E=e.displayColors?r+2+e.boxPadding:0,He(o,D=>{He(D.before,_),He(D.lines,_),He(D.after,_)}),E=0,s.font=u.string,He(t.footer,_),s.restore(),v+=g.width,{width:v,height:b}}function lO(t,e){const{y:s,height:o}=e;return s<o/2?"top":s>t.height-o/2?"bottom":"center"}function cO(t,e,s,o){const{x:n,width:i}=o,r=s.caretSize+s.caretPadding;if(t==="left"&&n+i+r>e.width||t==="right"&&n-i-r<0)return!0}function dO(t,e,s,o){const{x:n,width:i}=s,{width:r,chartArea:{left:a,right:l}}=t;let d="center";return o==="center"?d=n<=(a+l)/2?"left":"right":n<=i/2?d="left":n>=r-i/2&&(d="right"),cO(d,t,e,s)&&(d="center"),d}function Ib(t,e,s){const o=s.yAlign||e.yAlign||lO(t,s);return{xAlign:s.xAlign||e.xAlign||dO(t,e,s,o),yAlign:o}}function uO(t,e){let{x:s,width:o}=t;return e==="right"?s-=o:e==="center"&&(s-=o/2),s}function fO(t,e,s){let{y:o,height:n}=t;return e==="top"?o+=s:e==="bottom"?o-=n+s:o-=n/2,o}function Fb(t,e,s,o){const{caretSize:n,caretPadding:i,cornerRadius:r}=t,{xAlign:a,yAlign:l}=s,d=n+i,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:m}=ci(r);let g=uO(e,a);const b=fO(e,l,d);return l==="center"?a==="left"?g+=d:a==="right"&&(g-=d):a==="left"?g-=Math.max(u,h)+n:a==="right"&&(g+=Math.max(f,m)+n),{x:kt(g,0,o.width-e.width),y:kt(b,0,o.height-e.height)}}function xl(t,e,s){const o=Zt(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-o.right:t.x+o.left}function Rb(t){return ro([],Io(t))}function hO(t,e,s){return Fn(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function Ob(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const eE={beforeTitle:xo,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,o=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(o>0&&e.dataIndex<o)return s[e.dataIndex]}return""},afterTitle:xo,beforeBody:xo,beforeLabel:xo,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return Re(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:xo,afterBody:xo,beforeFooter:xo,footer:xo,afterFooter:xo};function ls(t,e,s,o){const n=t[e].call(s,o);return typeof n>"u"?eE[e].call(s,o):n}class wf extends Go{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,o=this.options.setContext(this.getContext()),n=o.enabled&&s.options.animation&&o.animations,i=new F0(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=hO(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:o}=s,n=ls(o,"beforeTitle",this,e),i=ls(o,"title",this,e),r=ls(o,"afterTitle",this,e);let a=[];return a=ro(a,Io(n)),a=ro(a,Io(i)),a=ro(a,Io(r)),a}getBeforeBody(e,s){return Rb(ls(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:o}=s,n=[];return He(e,i=>{const r={before:[],lines:[],after:[]},a=Ob(o,i);ro(r.before,Io(ls(a,"beforeLabel",this,i))),ro(r.lines,ls(a,"label",this,i)),ro(r.after,Io(ls(a,"afterLabel",this,i))),n.push(r)}),n}getAfterBody(e,s){return Rb(ls(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:o}=s,n=ls(o,"beforeFooter",this,e),i=ls(o,"footer",this,e),r=ls(o,"afterFooter",this,e);let a=[];return a=ro(a,Io(n)),a=ro(a,Io(i)),a=ro(a,Io(r)),a}_createItems(e){const s=this._active,o=this.chart.data,n=[],i=[],r=[];let a=[],l,d;for(l=0,d=s.length;l<d;++l)a.push(aO(this.chart,s[l]));return e.filter&&(a=a.filter((u,f,h)=>e.filter(u,f,h,o))),e.itemSort&&(a=a.sort((u,f)=>e.itemSort(u,f,o))),He(a,u=>{const f=Ob(e.callbacks,u);n.push(ls(f,"labelColor",this,u)),i.push(ls(f,"labelPointStyle",this,u)),r.push(ls(f,"labelTextColor",this,u))}),this.labelColors=n,this.labelPointStyles=i,this.labelTextColors=r,this.dataPoints=a,a}update(e,s){const o=this.options.setContext(this.getContext()),n=this._active;let i,r=[];if(!n.length)this.opacity!==0&&(i={opacity:0});else{const a=Xr[o.position].call(this,n,this._eventPosition);r=this._createItems(o),this.title=this.getTitle(r,o),this.beforeBody=this.getBeforeBody(r,o),this.body=this.getBody(r,o),this.afterBody=this.getAfterBody(r,o),this.footer=this.getFooter(r,o);const l=this._size=Pb(this,o),d=Object.assign({},a,l),u=Ib(this.chart,o,d),f=Fb(o,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,o,n){const i=this.getCaretPosition(e,o,n);s.lineTo(i.x1,i.y1),s.lineTo(i.x2,i.y2),s.lineTo(i.x3,i.y3)}getCaretPosition(e,s,o){const{xAlign:n,yAlign:i}=this,{caretSize:r,cornerRadius:a}=o,{topLeft:l,topRight:d,bottomLeft:u,bottomRight:f}=ci(a),{x:h,y:m}=e,{width:g,height:b}=s;let v,w,E,_,D,k;return i==="center"?(D=m+b/2,n==="left"?(v=h,w=v-r,_=D+r,k=D-r):(v=h+g,w=v+r,_=D-r,k=D+r),E=v):(n==="left"?w=h+Math.max(l,u)+r:n==="right"?w=h+g-Math.max(d,f)-r:w=this.caretX,i==="top"?(_=m,D=_-r,v=w-r,E=w+r):(_=m+b,D=_+r,v=w+r,E=w-r),k=_),{x1:v,x2:w,x3:E,y1:_,y2:D,y3:k}}drawTitle(e,s,o){const n=this.title,i=n.length;let r,a,l;if(i){const d=Wi(o.rtl,this.x,this.width);for(e.x=xl(this,o.titleAlign,o),s.textAlign=d.textAlign(o.titleAlign),s.textBaseline="middle",r=Et(o.titleFont),a=o.titleSpacing,s.fillStyle=o.titleColor,s.font=r.string,l=0;l<i;++l)s.fillText(n[l],d.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+a,l+1===i&&(e.y+=o.titleMarginBottom-a)}}_drawColorBox(e,s,o,n,i){const r=this.labelColors[o],a=this.labelPointStyles[o],{boxHeight:l,boxWidth:d}=i,u=Et(i.bodyFont),f=xl(this,"left",i),h=n.x(f),m=l<u.lineHeight?(u.lineHeight-l)/2:0,g=s.y+m;if(i.usePointStyle){const b={radius:Math.min(d,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=n.leftForLtr(h,d)+d/2,w=g+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,pf(e,b,v,w),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,pf(e,b,v,w)}else{e.lineWidth=Oe(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const b=n.leftForLtr(h,d),v=n.leftForLtr(n.xPlus(h,1),d-2),w=ci(r.borderRadius);Object.values(w).some(E=>E!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Ra(e,{x:b,y:g,w:d,h:l,radius:w}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),Ra(e,{x:v,y:g+1,w:d-2,h:l-2,radius:w}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(b,g,d,l),e.strokeRect(b,g,d,l),e.fillStyle=r.backgroundColor,e.fillRect(v,g+1,d-2,l-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,s,o){const{body:n}=this,{bodySpacing:i,bodyAlign:r,displayColors:a,boxHeight:l,boxWidth:d,boxPadding:u}=o,f=Et(o.bodyFont);let h=f.lineHeight,m=0;const g=Wi(o.rtl,this.x,this.width),b=function(P){s.fillText(P,g.x(e.x+m),e.y+h/2),e.y+=h+i},v=g.textAlign(r);let w,E,_,D,k,T,O;for(s.textAlign=r,s.textBaseline="middle",s.font=f.string,e.x=xl(this,v,o),s.fillStyle=o.bodyColor,He(this.beforeBody,b),m=a&&v!=="right"?r==="center"?d/2+u:d+2+u:0,D=0,T=n.length;D<T;++D){for(w=n[D],E=this.labelTextColors[D],s.fillStyle=E,He(w.before,b),_=w.lines,a&&_.length&&(this._drawColorBox(s,e,D,g,o),h=Math.max(f.lineHeight,l)),k=0,O=_.length;k<O;++k)b(_[k]),h=f.lineHeight;He(w.after,b)}m=0,h=f.lineHeight,He(this.afterBody,b),e.y-=i}drawFooter(e,s,o){const n=this.footer,i=n.length;let r,a;if(i){const l=Wi(o.rtl,this.x,this.width);for(e.x=xl(this,o.footerAlign,o),e.y+=o.footerMarginTop,s.textAlign=l.textAlign(o.footerAlign),s.textBaseline="middle",r=Et(o.footerFont),s.fillStyle=o.footerColor,s.font=r.string,a=0;a<i;++a)s.fillText(n[a],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+o.footerSpacing}}drawBackground(e,s,o,n){const{xAlign:i,yAlign:r}=this,{x:a,y:l}=e,{width:d,height:u}=o,{topLeft:f,topRight:h,bottomLeft:m,bottomRight:g}=ci(n.cornerRadius);s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,s.lineWidth=n.borderWidth,s.beginPath(),s.moveTo(a+f,l),r==="top"&&this.drawCaret(e,s,o,n),s.lineTo(a+d-h,l),s.quadraticCurveTo(a+d,l,a+d,l+h),r==="center"&&i==="right"&&this.drawCaret(e,s,o,n),s.lineTo(a+d,l+u-g),s.quadraticCurveTo(a+d,l+u,a+d-g,l+u),r==="bottom"&&this.drawCaret(e,s,o,n),s.lineTo(a+m,l+u),s.quadraticCurveTo(a,l+u,a,l+u-m),r==="center"&&i==="left"&&this.drawCaret(e,s,o,n),s.lineTo(a,l+f),s.quadraticCurveTo(a,l,a+f,l),s.closePath(),s.fill(),n.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,o=this.$animations,n=o&&o.x,i=o&&o.y;if(n||i){const r=Xr[e.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=Pb(this,e),l=Object.assign({},r,this._size),d=Ib(s,e,l),u=Fb(e,l,d,s);(n._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(s);const n={width:this.width,height:this.height},i={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const r=Zt(s.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&a&&(e.save(),e.globalAlpha=o,this.drawBackground(i,e,n,s),A0(e,s.textDirection),i.y+=r.top,this.drawTitle(i,e,s),this.drawBody(i,e,s),this.drawFooter(i,e,s),T0(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const o=this._active,n=e.map(({datasetIndex:a,index:l})=>{const d=this.chart.getDatasetMeta(a);if(!d)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:d.data[l],index:l}}),i=!Pc(o,n),r=this._positionChanged(n,s);(i||r)&&(this._active=n,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,o=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,i=this._active||[],r=this._getActiveElements(e,i,s,o),a=this._positionChanged(r,e),l=s||!Pc(r,i)||a;return l&&(this._active=r,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),l}_getActiveElements(e,s,o,n){const i=this.options;if(e.type==="mouseout")return[];if(!n)return s.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const r=this.chart.getElementsAtEventForMode(e,i.mode,i,o);return i.reverse&&r.reverse(),r}_positionChanged(e,s){const{caretX:o,caretY:n,options:i}=this,r=Xr[i.position].call(this,e,s);return r!==!1&&(o!==r.x||n!==r.y)}}re(wf,"positioners",Xr);var mO={id:"tooltip",_element:wf,positioners:Xr,afterInit(t,e,s){s&&(t.tooltip=new wf({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:eE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},pO=Object.freeze({__proto__:null,Colors:DR,Decimation:PR,Filler:YR,Legend:oO,SubTitle:rO,Title:iO,Tooltip:mO});const gO=(t,e,s,o)=>(typeof e=="string"?(s=t.push(e)-1,o.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function bO(t,e,s,o){const n=t.indexOf(e);if(n===-1)return gO(t,e,s,o);const i=t.lastIndexOf(e);return n!==i?s:n}const vO=(t,e)=>t===null?null:kt(Math.round(t),0,e);function Nb(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Cf extends Ci{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const o=this.getLabels();for(const{index:n,label:i}of s)o[n]===i&&o.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(Re(e))return null;const o=this.getLabels();return s=isFinite(s)&&o[s]===e?s:bO(o,e,Te(s,e),this._addedLabels),vO(s,o.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:o,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(o=0),s||(n=this.getLabels().length-1)),this.min=o,this.max=n}buildTicks(){const e=this.min,s=this.max,o=this.options.offset,n=[];let i=this.getLabels();i=e===0&&s===i.length-1?i:i.slice(e,s+1),this._valueRange=Math.max(i.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let r=e;r<=s;r++)n.push({value:r});return n}getLabelForValue(e){return Nb.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}re(Cf,"id","category"),re(Cf,"defaults",{ticks:{callback:Nb}});function yO(t,e){const s=[],{bounds:n,step:i,min:r,max:a,precision:l,count:d,maxTicks:u,maxDigits:f,includeBounds:h}=t,m=i||1,g=u-1,{min:b,max:v}=e,w=!Re(r),E=!Re(a),_=!Re(d),D=(v-b)/(f+1);let k=Pg((v-b)/g/m)*m,T,O,P,M;if(k<1e-14&&!w&&!E)return[{value:b},{value:v}];M=Math.ceil(v/k)-Math.floor(b/k),M>g&&(k=Pg(M*k/g/m)*m),Re(l)||(T=Math.pow(10,l),k=Math.ceil(k*T)/T),n==="ticks"?(O=Math.floor(b/k)*k,P=Math.ceil(v/k)*k):(O=b,P=v),w&&E&&i&&fP((a-r)/i,k/1e3)?(M=Math.round(Math.min((a-r)/k,u)),k=(a-r)/M,O=r,P=a):_?(O=w?r:O,P=E?a:P,M=d-1,k=(P-O)/M):(M=(P-O)/k,ca(M,Math.round(M),k/1e3)?M=Math.round(M):M=Math.ceil(M));const F=Math.max(Ig(k),Ig(O));T=Math.pow(10,Re(l)?F:l),O=Math.round(O*T)/T,P=Math.round(P*T)/T;let L=0;for(w&&(h&&O!==r?(s.push({value:r}),O<r&&L++,ca(Math.round((O+L*k)*T)/T,r,Lb(r,D,t))&&L++):O<r&&L++);L<M;++L){const N=Math.round((O+L*k)*T)/T;if(E&&N>a)break;s.push({value:N})}return E&&h&&P!==a?s.length&&ca(s[s.length-1].value,a,Lb(a,D,t))?s[s.length-1].value=a:s.push({value:a}):(!E||P===a)&&s.push({value:P}),s}function Lb(t,e,{horizontal:s,minRotation:o}){const n=Gs(o),i=(s?Math.sin(n):Math.cos(n))||.001,r=.75*e*(""+t).length;return Math.min(e/i,r)}class zc extends Ci{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return Re(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:o}=this.getUserBounds();let{min:n,max:i}=this;const r=l=>n=s?n:l,a=l=>i=o?i:l;if(e){const l=bo(n),d=bo(i);l<0&&d<0?a(0):l>0&&d>0&&r(0)}if(n===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||r(n-l)}this.min=n,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:o}=e,n;return o?(n=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),s=s||11),s&&(n=Math.min(s,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let o=this.getTickLimit();o=Math.max(2,o);const n={maxTicks:o,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},i=this._range||this,r=yO(n,i);return e.bounds==="ticks"&&u0(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let s=this.min,o=this.max;if(super.configure(),this.options.offset&&e.length){const n=(o-s)/Math.max(e.length-1,1)/2;s-=n,o+=n}this._startValue=s,this._endValue=o,this._valueRange=o-s}getLabelForValue(e){return Ja(e,this.chart.options.locale,this.options.ticks.format)}}class Sf extends zc{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=ut(e)?e:0,this.max=ut(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,o=Gs(this.options.ticks.minRotation),n=(e?Math.sin(o):Math.cos(o))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,i.lineHeight/n))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}re(Sf,"id","linear"),re(Sf,"defaults",{ticks:{callback:xd.formatters.numeric}});const Na=t=>Math.floor(mn(t)),Bn=(t,e)=>Math.pow(10,Na(t)+e);function zb(t){return t/Math.pow(10,Na(t))===1}function $b(t,e,s){const o=Math.pow(10,s),n=Math.floor(t/o);return Math.ceil(e/o)-n}function _O(t,e){const s=e-t;let o=Na(s);for(;$b(t,e,o)>10;)o++;for(;$b(t,e,o)<10;)o--;return Math.min(o,Na(t))}function EO(t,{min:e,max:s}){e=ws(t.min,e);const o=[],n=Na(e);let i=_O(e,s),r=i<0?Math.pow(10,Math.abs(i)):1;const a=Math.pow(10,i),l=n>i?Math.pow(10,n):0,d=Math.round((e-l)*r)/r,u=Math.floor((e-l)/a/10)*a*10;let f=Math.floor((d-u)/Math.pow(10,i)),h=ws(t.min,Math.round((l+u+f*Math.pow(10,i))*r)/r);for(;h<s;)o.push({value:h,major:zb(h),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,r=i>=0?1:r),h=Math.round((l+u+f*Math.pow(10,i))*r)/r;const m=ws(t.max,h);return o.push({value:m,major:zb(m),significand:f}),o}class xf extends Ci{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,s){const o=zc.prototype.parse.apply(this,[e,s]);if(o===0){this._zero=!0;return}return ut(o)&&o>0?o:null}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=ut(e)?Math.max(0,e):null,this.max=ut(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ut(this._userMin)&&(this.min=e===Bn(this.min,0)?Bn(this.min,-1):Bn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let o=this.min,n=this.max;const i=a=>o=e?o:a,r=a=>n=s?n:a;o===n&&(o<=0?(i(1),r(10)):(i(Bn(o,-1)),r(Bn(n,1)))),o<=0&&i(Bn(n,-1)),n<=0&&r(Bn(o,1)),this.min=o,this.max=n}buildTicks(){const e=this.options,s={min:this._userMin,max:this._userMax},o=EO(s,this);return e.bounds==="ticks"&&u0(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(e){return e===void 0?"0":Ja(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=mn(e),this._valueRange=mn(this.max)-mn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(mn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const s=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+s*this._valueRange)}}re(xf,"id","logarithmic"),re(xf,"defaults",{ticks:{callback:xd.formatters.logarithmic,major:{enabled:!0}}});function kf(t){const e=t.ticks;if(e.display&&t.display){const s=Zt(e.backdropPadding);return Te(e.font&&e.font.size,at.font.size)+s.height}return 0}function wO(t,e,s){return s=rt(s)?s:[s],{w:TP(t,e.string,s),h:s.length*e.lineHeight}}function Vb(t,e,s,o,n){return t===o||t===n?{start:e-s/2,end:e+s/2}:t<o||t>n?{start:e-s,end:e}:{start:e,end:e+s}}function CO(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},s=Object.assign({},e),o=[],n=[],i=t._pointLabels.length,r=t.options.pointLabels,a=r.centerPointLabels?ot/i:0;for(let l=0;l<i;l++){const d=r.setContext(t.getPointLabelContext(l));n[l]=d.padding;const u=t.getPointPosition(l,t.drawingArea+n[l],a),f=Et(d.font),h=wO(t.ctx,f,t._pointLabels[l]);o[l]=h;const m=xs(t.getIndexAngle(l)+a),g=Math.round(Xh(m)),b=Vb(g,u.x,h.w,0,180),v=Vb(g,u.y,h.h,90,270);SO(s,e,m,b,v)}t.setCenterPoint(e.l-s.l,s.r-e.r,e.t-s.t,s.b-e.b),t._pointLabelItems=DO(t,o,n)}function SO(t,e,s,o,n){const i=Math.abs(Math.sin(s)),r=Math.abs(Math.cos(s));let a=0,l=0;o.start<e.l?(a=(e.l-o.start)/i,t.l=Math.min(t.l,e.l-a)):o.end>e.r&&(a=(o.end-e.r)/i,t.r=Math.max(t.r,e.r+a)),n.start<e.t?(l=(e.t-n.start)/r,t.t=Math.min(t.t,e.t-l)):n.end>e.b&&(l=(n.end-e.b)/r,t.b=Math.max(t.b,e.b+l))}function xO(t,e,s){const o=t.drawingArea,{extra:n,additionalAngle:i,padding:r,size:a}=s,l=t.getPointPosition(e,o+n+r,i),d=Math.round(Xh(xs(l.angle+gt))),u=MO(l.y,a.h,d),f=AO(d),h=TO(l.x,a.w,f);return{visible:!0,x:l.x,y:u,textAlign:f,left:h,top:u,right:h+a.w,bottom:u+a.h}}function kO(t,e){if(!e)return!0;const{left:s,top:o,right:n,bottom:i}=t;return!(Vo({x:s,y:o},e)||Vo({x:s,y:i},e)||Vo({x:n,y:o},e)||Vo({x:n,y:i},e))}function DO(t,e,s){const o=[],n=t._pointLabels.length,i=t.options,{centerPointLabels:r,display:a}=i.pointLabels,l={extra:kf(i)/2,additionalAngle:r?ot/n:0};let d;for(let u=0;u<n;u++){l.padding=s[u],l.size=e[u];const f=xO(t,u,l);o.push(f),a==="auto"&&(f.visible=kO(f,d),f.visible&&(d=f))}return o}function AO(t){return t===0||t===180?"center":t<180?"left":"right"}function TO(t,e,s){return s==="right"?t-=e:s==="center"&&(t-=e/2),t}function MO(t,e,s){return s===90||s===270?t-=e/2:(s>270||s<90)&&(t-=e),t}function PO(t,e,s){const{left:o,top:n,right:i,bottom:r}=s,{backdropColor:a}=e;if(!Re(a)){const l=ci(e.borderRadius),d=Zt(e.backdropPadding);t.fillStyle=a;const u=o-d.left,f=n-d.top,h=i-o+d.width,m=r-n+d.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),Ra(t,{x:u,y:f,w:h,h:m,radius:l}),t.fill()):t.fillRect(u,f,h,m)}}function IO(t,e){const{ctx:s,options:{pointLabels:o}}=t;for(let n=e-1;n>=0;n--){const i=t._pointLabelItems[n];if(!i.visible)continue;const r=o.setContext(t.getPointLabelContext(n));PO(s,r,i);const a=Et(r.font),{x:l,y:d,textAlign:u}=i;yi(s,t._pointLabels[n],l,d+a.lineHeight/2,a,{color:r.color,textAlign:u,textBaseline:"middle"})}}function tE(t,e,s,o){const{ctx:n}=t;if(s)n.arc(t.xCenter,t.yCenter,e,0,st);else{let i=t.getPointPosition(0,e);n.moveTo(i.x,i.y);for(let r=1;r<o;r++)i=t.getPointPosition(r,e),n.lineTo(i.x,i.y)}}function FO(t,e,s,o,n){const i=t.ctx,r=e.circular,{color:a,lineWidth:l}=e;!r&&!o||!a||!l||s<0||(i.save(),i.strokeStyle=a,i.lineWidth=l,i.setLineDash(n.dash||[]),i.lineDashOffset=n.dashOffset,i.beginPath(),tE(t,s,r,o),i.closePath(),i.stroke(),i.restore())}function RO(t,e,s){return Fn(t,{label:s,index:e,type:"pointLabel"})}class Zr extends zc{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Zt(kf(this.options)/2),s=this.width=this.maxWidth-e.width,o=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+s/2+e.left),this.yCenter=Math.floor(this.top+o/2+e.top),this.drawingArea=Math.floor(Math.min(s,o)/2)}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!1);this.min=ut(e)&&!isNaN(e)?e:0,this.max=ut(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/kf(this.options))}generateTickLabels(e){zc.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((s,o)=>{const n=Je(this.options.pointLabels.callback,[s,o],this);return n||n===0?n:""}).filter((s,o)=>this.chart.getDataVisibility(o))}fit(){const e=this.options;e.display&&e.pointLabels.display?CO(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,s,o,n){this.xCenter+=Math.floor((e-s)/2),this.yCenter+=Math.floor((o-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,s,o,n))}getIndexAngle(e){const s=st/(this._pointLabels.length||1),o=this.options.startAngle||0;return xs(e*s+Gs(o))}getDistanceFromCenterForValue(e){if(Re(e))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*s:(e-this.min)*s}getValueForDistanceFromCenter(e){if(Re(e))return NaN;const s=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(e){const s=this._pointLabels||[];if(e>=0&&e<s.length){const o=s[e];return RO(this.getContext(),e,o)}}getPointPosition(e,s,o=0){const n=this.getIndexAngle(e)-gt+o;return{x:Math.cos(n)*s+this.xCenter,y:Math.sin(n)*s+this.yCenter,angle:n}}getPointPositionForValue(e,s){return this.getPointPosition(e,this.getDistanceFromCenterForValue(s))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:s,top:o,right:n,bottom:i}=this._pointLabelItems[e];return{left:s,top:o,right:n,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:s}}=this.options;if(e){const o=this.ctx;o.save(),o.beginPath(),tE(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),o.closePath(),o.fillStyle=e,o.fill(),o.restore()}}drawGrid(){const e=this.ctx,s=this.options,{angleLines:o,grid:n,border:i}=s,r=this._pointLabels.length;let a,l,d;if(s.pointLabels.display&&IO(this,r),n.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(f),m=n.setContext(h),g=i.setContext(h);FO(this,m,l,r,g)}}),o.display){for(e.save(),a=r-1;a>=0;a--){const u=o.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:h}=u;!h||!f||(e.lineWidth=h,e.strokeStyle=f,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),d=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,s=this.options,o=s.ticks;if(!o.display)return;const n=this.getIndexAngle(0);let i,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!s.reverse)return;const d=o.setContext(this.getContext(l)),u=Et(d.font);if(i=this.getDistanceFromCenterForValue(this.ticks[l].value),d.showLabelBackdrop){e.font=u.string,r=e.measureText(a.label).width,e.fillStyle=d.backdropColor;const f=Zt(d.backdropPadding);e.fillRect(-r/2-f.left,-i-u.size/2-f.top,r+f.width,u.size+f.height)}yi(e,a.label,0,-i,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}re(Zr,"id","radialLinear"),re(Zr,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:xd.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),re(Zr,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),re(Zr,"descriptors",{angleLines:{_fallback:"grid"}});const Md={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},gs=Object.keys(Md);function Bb(t,e){return t-e}function Ub(t,e){if(Re(e))return null;const s=t._adapter,{parser:o,round:n,isoWeekday:i}=t._parseOpts;let r=e;return typeof o=="function"&&(r=o(r)),ut(r)||(r=typeof o=="string"?s.parse(r,o):s.parse(r)),r===null?null:(n&&(r=n==="week"&&(cr(i)||i===!0)?s.startOf(r,"isoWeek",i):s.startOf(r,n)),+r)}function jb(t,e,s,o){const n=gs.length;for(let i=gs.indexOf(t);i<n-1;++i){const r=Md[gs[i]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((s-e)/(a*r.size))<=o)return gs[i]}return gs[n-1]}function OO(t,e,s,o,n){for(let i=gs.length-1;i>=gs.indexOf(s);i--){const r=gs[i];if(Md[r].common&&t._adapter.diff(n,o,r)>=e-1)return r}return gs[s?gs.indexOf(s):0]}function NO(t){for(let e=gs.indexOf(t)+1,s=gs.length;e<s;++e)if(Md[gs[e]].common)return gs[e]}function Hb(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:o,hi:n}=Zh(s,e),i=s[o]>=e?s[o]:s[n];t[i]=!0}}function LO(t,e,s,o){const n=t._adapter,i=+n.startOf(e[0].value,o),r=e[e.length-1].value;let a,l;for(a=i;a<=r;a=+n.add(a,1,o))l=s[a],l>=0&&(e[l].major=!0);return e}function qb(t,e,s){const o=[],n={},i=e.length;let r,a;for(r=0;r<i;++r)a=e[r],n[a]=r,o.push({value:a,major:!1});return i===0||!s?o:LO(t,o,n,s)}class La extends Ci{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const o=e.time||(e.time={}),n=this._adapter=new qI._date(e.adapters.date);n.init(s),la(o.displayFormats,n.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:Ub(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,o=e.time.unit||"day";let{min:n,max:i,minDefined:r,maxDefined:a}=this.getUserBounds();function l(d){!r&&!isNaN(d.min)&&(n=Math.min(n,d.min)),!a&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!r||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),n=ut(n)&&!isNaN(n)?n:+s.startOf(Date.now(),o),i=ut(i)&&!isNaN(i)?i:+s.endOf(Date.now(),o)+1,this.min=Math.min(n,i-1),this.max=Math.max(n+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],o=e[e.length-1]),{min:s,max:o}}buildTicks(){const e=this.options,s=e.time,o=e.ticks,n=o.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const i=this.min,r=this.max,a=gP(n,i,r);return this._unit=s.unit||(o.autoSkip?jb(s.minUnit,this.min,this.max,this._getLabelCapacity(i)):OO(this,a.length,s.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:NO(this._unit),this.initOffsets(n),e.reverse&&a.reverse(),qb(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,o=0,n,i;this.options.offset&&e.length&&(n=this.getDecimalForValue(e[0]),e.length===1?s=1-n:s=(this.getDecimalForValue(e[1])-n)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?o=i:o=(i-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;s=kt(s,0,r),o=kt(o,0,r),this._offsets={start:s,end:o,factor:1/(s+1+o)}}_generate(){const e=this._adapter,s=this.min,o=this.max,n=this.options,i=n.time,r=i.unit||jb(i.minUnit,s,o,this._getLabelCapacity(s)),a=Te(n.ticks.stepSize,1),l=r==="week"?i.isoWeekday:!1,d=cr(l)||l===!0,u={};let f=s,h,m;if(d&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,d?"day":r),e.diff(o,s,r)>1e5*a)throw new Error(s+" and "+o+" are too far apart with stepSize of "+a+" "+r);const g=n.ticks.source==="data"&&this.getDataTimestamps();for(h=f,m=0;h<o;h=+e.add(h,a,r),m++)Hb(u,h,g);return(h===o||n.bounds==="ticks"||m===1)&&Hb(u,h,g),Object.keys(u).sort(Bb).map(b=>+b)}getLabelForValue(e){const s=this._adapter,o=this.options.time;return o.tooltipFormat?s.format(e,o.tooltipFormat):s.format(e,o.displayFormats.datetime)}format(e,s){const n=this.options.time.displayFormats,i=this._unit,r=s||n[i];return this._adapter.format(e,r)}_tickFormatFunction(e,s,o,n){const i=this.options,r=i.ticks.callback;if(r)return Je(r,[e,s,o],this);const a=i.time.displayFormats,l=this._unit,d=this._majorUnit,u=l&&a[l],f=d&&a[d],h=o[s],m=d&&f&&h&&h.major;return this._adapter.format(e,n||(m?f:u))}generateTickLabels(e){let s,o,n;for(s=0,o=e.length;s<o;++s)n=e[s],n.label=this._tickFormatFunction(n.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+o)*s.factor)}getValueForPixel(e){const s=this._offsets,o=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,o=this.ctx.measureText(e).width,n=Gs(this.isHorizontal()?s.maxRotation:s.minRotation),i=Math.cos(n),r=Math.sin(n),a=this._resolveTickFontOptions(0).size;return{w:o*i+a*r,h:o*r+a*i}}_getLabelCapacity(e){const s=this.options.time,o=s.displayFormats,n=o[s.unit]||o.millisecond,i=this._tickFormatFunction(e,0,qb(this,[e],this._majorUnit),n),r=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],s,o;if(e.length)return e;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(s=0,o=n.length;s<o;++s)e=e.concat(n[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,o;if(e.length)return e;const n=this.getLabels();for(s=0,o=n.length;s<o;++s)e.push(Ub(this,n[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return m0(e.sort(Bb))}}re(La,"id","time"),re(La,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function kl(t,e,s){let o=0,n=t.length-1,i,r,a,l;s?(e>=t[o].pos&&e<=t[n].pos&&({lo:o,hi:n}=$o(t,"pos",e)),{pos:i,time:a}=t[o],{pos:r,time:l}=t[n]):(e>=t[o].time&&e<=t[n].time&&({lo:o,hi:n}=$o(t,"time",e)),{time:i,pos:a}=t[o],{time:r,pos:l}=t[n]);const d=r-i;return d?a+(l-a)*(e-i)/d:a}class Df extends La{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=kl(s,this.min),this._tableRange=kl(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:o}=this,n=[],i=[];let r,a,l,d,u;for(r=0,a=e.length;r<a;++r)d=e[r],d>=s&&d<=o&&n.push(d);if(n.length<2)return[{time:s,pos:0},{time:o,pos:1}];for(r=0,a=n.length;r<a;++r)u=n[r+1],l=n[r-1],d=n[r],Math.round((u+l)/2)!==d&&i.push({time:d,pos:r/(a-1)});return i}_generate(){const e=this.min,s=this.max;let o=super.getDataTimestamps();return(!o.includes(e)||!o.length)&&o.splice(0,0,e),(!o.includes(s)||o.length===1)&&o.push(s),o.sort((n,i)=>n-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),o=this.getLabelTimestamps();return s.length&&o.length?e=this.normalize(s.concat(o)):e=s.length?s:o,e=this._cache.all=e,e}getDecimalForValue(e){return(kl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,o=this.getDecimalForPixel(e)/s.factor-s.end;return kl(this._table,o*this._tableRange+this._minPos,!0)}}re(Df,"id","timeseries"),re(Df,"defaults",La.defaults);var zO=Object.freeze({__proto__:null,CategoryScale:Cf,LinearScale:Sf,LogarithmicScale:xf,RadialLinearScale:Zr,TimeScale:La,TimeSeriesScale:Df});const $O=[HI,_R,pO,zO];Oo.register(...$O);const Pi={getStats(t){return $.get("/dashboard/stats",{params:t})},getSummary(t){return $.get("/dashboard/summary",{params:t})},getEmpleadosPorEmpresa(t){return $.get("/dashboard/empleados-por-empresa",{params:t})},getEmpleadosPorZona(t){return $.get("/dashboard/empleados-por-zona",{params:t})},getEmpleadosPorDepartamento(t){return $.get("/dashboard/empleados-por-departamento",{params:t})},getEstadoEmpleados(t){return $.get("/dashboard/estado-empleados",{params:t})}},VO=wt("dashboard",{state:()=>({loading:!1,error:null,resumen:{total_empleados:0,total_empresas:0,total_zonas:0,total_departamentos:0},empleadosPorEmpresa:[],empleadosPorZona:[],empleadosPorDepartamento:[],estadoEmpleados:null,statsData:null,lastFetch:null}),getters:{getChartData:t=>e=>{switch(e){case"empresas":return t.empleadosPorEmpresa.map(s=>({name:s.nombre,count:s.total_empleados,id:s.id}));case"zonas":return t.empleadosPorZona.map(s=>({name:s.nombre,count:s.total_empleados,id:s.id}));case"departamentos":return t.empleadosPorDepartamento.map(s=>({name:s.nombre,count:s.total_empleados,id:s.id}));default:return[]}},needsRefresh:t=>{if(!t.lastFetch)return!0;const e=5*60*1e3;return Date.now()-t.lastFetch>e},totales:t=>({empleados:t.resumen.total_empleados,empresas:t.resumen.total_empresas,zonas:t.resumen.total_zonas,departamentos:t.resumen.total_departamentos})},actions:{async fetchStats(t=!1){var e,s;if(!t&&!this.needsRefresh&&this.statsData)return this.statsData;this.loading=!0,this.error=null;try{const o=await Pi.getStats();if(o.data.success){const n=o.data.data;return this.statsData=n,this.resumen=n.resumen,this.empleadosPorEmpresa=n.empleados_por_empresa,this.empleadosPorZona=n.empleados_por_zona,this.empleadosPorDepartamento=n.empleados_por_departamento,this.lastFetch=Date.now(),n}else throw new Error(o.data.message||"Error al obtener estadísticas")}catch(o){throw console.error("Error al cargar estadísticas del dashboard:",o),this.error=((s=(e=o.response)==null?void 0:e.data)==null?void 0:s.message)||o.message||"Error al cargar datos",o}finally{this.loading=!1}},async fetchSummary(){var t,e;this.loading=!0,this.error=null;try{const s=await Pi.getSummary();if(s.data.success)return this.resumen=s.data.data,s.data.data;throw new Error(s.data.message||"Error al obtener resumen")}catch(s){throw console.error("Error al cargar resumen del dashboard:",s),this.error=((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||s.message||"Error al cargar resumen",s}finally{this.loading=!1}},async fetchEmpleadosPorEmpresa(){try{const t=await Pi.getEmpleadosPorEmpresa();if(t.data.success)return this.empleadosPorEmpresa=t.data.data.empresas||[],this.empleadosPorEmpresa;throw new Error(t.data.message||"Error al obtener datos por empresa")}catch(t){throw console.error("Error al cargar empleados por empresa:",t),t}},async fetchEmpleadosPorZona(){try{const t=await Pi.getEmpleadosPorZona();if(t.data.success)return this.empleadosPorZona=t.data.data.zonas||[],this.empleadosPorZona;throw new Error(t.data.message||"Error al obtener datos por zona")}catch(t){throw console.error("Error al cargar empleados por zona:",t),t}},async fetchEmpleadosPorDepartamento(){try{const t=await Pi.getEmpleadosPorDepartamento();if(t.data.success)return this.empleadosPorDepartamento=t.data.data.departamentos||[],this.empleadosPorDepartamento;throw new Error(t.data.message||"Error al obtener datos por departamento")}catch(t){throw console.error("Error al cargar empleados por departamento:",t),t}},async fetchEstadoEmpleados(){try{const t=await Pi.getEstadoEmpleados();if(t.data.success)return this.estadoEmpleados=t.data.data,this.estadoEmpleados;throw new Error(t.data.message||"Error al obtener estado de empleados")}catch(t){throw console.error("Error al cargar estado de empleados:",t),t}},clearData(){this.statsData=null,this.resumen={total_empleados:0,total_empresas:0,total_zonas:0,total_departamentos:0},this.empleadosPorEmpresa=[],this.empleadosPorZona=[],this.empleadosPorDepartamento=[],this.estadoEmpleados=null,this.lastFetch=null,this.error=null},async refreshData(){return await this.fetchStats(!0)}}}),ko={getAll(t={}){return $.get("/contratos",{params:t})},getById(t){return $.get(`/contratos/${t}`)},getByEmpleado(t,e={}){return $.get(`/contratos/empleado/${t}`,{params:e})},create(t){return $.post("/contratos",t,{headers:{"Content-Type":"multipart/form-data"}})},update(t,e){return $.put(`/contratos/${t}`,e,{headers:{"Content-Type":"multipart/form-data"}})},delete(t){return $.delete(`/contratos/${t}`)},download(t){return $.get(`/contratos/download/${t}`,{responseType:"blob"})},preview(t){return $.get(`/contratos/preview/${t}`,{responseType:"blob"})},getProximosAVencer(t={}){return $.get("/contratos/proximos-a-vencer",{params:t})},count(){return $.get("/contratos/count")}},lm=wt("contratos",{state:()=>({contratos:[],contratoActual:null,loading:!1,error:null,pagination:{total:0,page:1,limit:10,totalPages:0},empleadoInfo:null,estadisticas:null,contratosProximosAVencer:[]}),getters:{contratosVigentes:t=>{const e=new Date;return t.contratos.filter(s=>s.fecha_fin===null||new Date(s.fecha_fin)>=e)},contratosFinalizados:t=>{const e=new Date;return t.contratos.filter(s=>s.fecha_fin!==null&&new Date(s.fecha_fin)<e)},getContratoById:t=>e=>t.contratos.find(s=>s.id_contrato===Number(e)),hasContratoVigente:t=>{var e;return((e=t.estadisticas)==null?void 0:e.vigente)||!1},contratoVigente:t=>{var e;return((e=t.estadisticas)==null?void 0:e.contratoVigente)||null}},actions:{async fetchContratos(t={}){var s,o;this.loading=!0,this.error=null;const e=X();try{const n=await ko.getAll(t);if((s=n.data)!=null&&s.success){const{contratos:i,pagination:r}=n.data.data;return this.contratos=i||[],this.pagination=r||this._getDefaultPagination(),this.contratos}else throw new Error(((o=n.data)==null?void 0:o.message)||"Error al cargar contratos")}catch(n){const i=this._getErrorMessage(n,"Error al cargar contratos");throw this.error=i,e.error(i,"Error"),n}finally{this.loading=!1}},async fetchContratosByEmpleado(t,e={}){var o,n;this.loading=!0,this.error=null;const s=X();try{const i=await ko.getByEmpleado(t,e);if((o=i.data)!=null&&o.success){const{contratos:r,pagination:a,empleado:l,estadisticas:d}=i.data.data;return this.contratos=r||[],this.pagination=a||this._getDefaultPagination(),this.empleadoInfo=l||null,this.estadisticas=d||null,this.contratos}else throw new Error(((n=i.data)==null?void 0:n.message)||"Error al cargar contratos del empleado")}catch(i){const r=this._getErrorMessage(i,"Error al cargar contratos del empleado");throw this.error=r,s.error(r,"Error"),i}finally{this.loading=!1}},async fetchContrato(t){var s,o;this.loading=!0,this.error=null;const e=X();try{const n=await ko.getById(t);if((s=n.data)!=null&&s.success)return this.contratoActual=n.data.data.contrato,this.contratoActual;throw new Error(((o=n.data)==null?void 0:o.message)||"Error al cargar contrato")}catch(n){const i=this._getErrorMessage(n,"Error al cargar contrato");throw this.error=i,e.error(i,"Error"),n}finally{this.loading=!1}},async createContrato(t){var s,o;this.loading=!0,this.error=null;const e=X();try{if(!t.get("id_empleado"))throw new Error("El ID del empleado es requerido");const n=await ko.create(t);if((s=n.data)!=null&&s.success){const i=n.data.data.contrato;return i?(this.contratos.unshift(i),this._updateEstadisticas(i),e.success("Contrato creado correctamente","Éxito"),i):(e.success("Contrato creado correctamente","Éxito"),{id_contrato:n.data.data.id||null})}else throw new Error(((o=n.data)==null?void 0:o.message)||"Error al crear contrato")}catch(n){const i=this._getErrorMessage(n,"Error al crear contrato");throw this.error=i,e.error(i,"Error"),n}finally{this.loading=!1}},async updateContrato(t,e){var o,n;this.loading=!0,this.error=null;const s=X();try{if(!e.get("id_empleado"))throw new Error("El ID del empleado es requerido");const i=await ko.update(t,e);if((o=i.data)!=null&&o.success){const r=i.data.data.contrato;return r?(this._updateContratoInList(t,r),this._updateEstadisticas(r),s.success("Contrato actualizado correctamente","Éxito"),r):(s.success("Contrato actualizado correctamente","Éxito"),{id_contrato:t})}else throw new Error(((n=i.data)==null?void 0:n.message)||"Error al actualizar contrato")}catch(i){const r=this._getErrorMessage(i,"Error al actualizar contrato");throw this.error=r,s.error(r,"Error"),i}finally{this.loading=!1}},async deleteContrato(t){var s,o;this.loading=!0,this.error=null;const e=X();try{const n=await ko.delete(t);if((s=n.data)!=null&&s.success)return this._removeContratoFromList(t),e.success("Contrato eliminado correctamente","Éxito"),!0;throw new Error(((o=n.data)==null?void 0:o.message)||"Error al eliminar contrato")}catch(n){const i=this._getErrorMessage(n,"Error al eliminar contrato");throw this.error=i,e.error(i,"Error"),n}finally{this.loading=!1}},async downloadContrato(t){const e=X();try{const s=await ko.download(t);return this._downloadFile(s),!0}catch(s){const o=this._getErrorMessage(s,"Error al descargar el archivo del contrato");throw e.error(o,"Error"),s}},async previewContrato(t){const e=X();try{const s=await ko.preview(t),o=new Blob([s.data],{type:s.headers["content-type"]}),n=window.URL.createObjectURL(o),i=window.open(n,"_blank");return i&&i.addEventListener("beforeunload",()=>{window.URL.revokeObjectURL(n)}),n}catch(s){const o=this._getErrorMessage(s,"Error al previsualizar el archivo del contrato");throw e.error(o,"Error"),s}},async fetchContratosProximosAVencer(t={}){var s,o;this.loading=!0,this.error=null;const e=X();try{const n=await ko.getProximosAVencer(t);if((s=n.data)!=null&&s.success){const{contratos:i,pagination:r,estadisticas:a}=n.data.data;return this.contratosProximosAVencer=i||[],this.pagination=r||this._getDefaultPagination(),{contratos:this.contratosProximosAVencer,estadisticas:a}}else throw new Error(((o=n.data)==null?void 0:o.message)||"Error al cargar contratos próximos a vencer")}catch(n){const i=this._getErrorMessage(n,"Error al cargar contratos próximos a vencer");throw this.error=i,e.error(i,"Error"),n}finally{this.loading=!1}},resetState(){this.contratos=[],this.contratoActual=null,this.loading=!1,this.error=null,this.pagination=this._getDefaultPagination(),this.empleadoInfo=null,this.estadisticas=null,this.contratosProximosAVencer=[]},_getDefaultPagination(){return{total:0,page:1,limit:10,totalPages:0}},_getErrorMessage(t,e){var s,o;return((o=(s=t.response)==null?void 0:s.data)==null?void 0:o.message)||t.message||e},_updateContratoInList(t,e){var o;const s=this.contratos.findIndex(n=>n.id_contrato===Number(t));s!==-1&&(this.contratos[s]=e),((o=this.contratoActual)==null?void 0:o.id_contrato)===Number(t)&&(this.contratoActual=e)},_removeContratoFromList(t){var e,s,o;this.contratos=this.contratos.filter(n=>n.id_contrato!==Number(t)),((e=this.contratoActual)==null?void 0:e.id_contrato)===Number(t)&&(this.contratoActual=null),((o=(s=this.estadisticas)==null?void 0:s.contratoVigente)==null?void 0:o.id_contrato)===Number(t)&&(this.estadisticas.vigente=!1,this.estadisticas.contratoVigente=null)},_updateEstadisticas(t){var s;if(!t)return;const e=t.fecha_fin===null||new Date(t.fecha_fin)>=new Date;this.estadisticas&&(e?(this.estadisticas.vigente=!0,this.estadisticas.contratoVigente=t):((s=this.estadisticas.contratoVigente)==null?void 0:s.id_contrato)===t.id_contrato&&(this.estadisticas.vigente=!1,this.estadisticas.contratoVigente=null))},_downloadFile(t){const e=new Blob([t.data]),s=window.URL.createObjectURL(e),o=t.headers["content-disposition"];let n="contrato.pdf";if(o){const a=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(o);a!=null&&a[1]&&(n=a[1].replace(/['"]/g,""))}const i=document.createElement("a");i.href=s,i.setAttribute("download",n),document.body.appendChild(i),i.click(),setTimeout(()=>{window.URL.revokeObjectURL(s),document.body.removeChild(i)},100)}}});function BO(){const t=VO(),e=lm(),s=ge(!1),o=ge(null),n=we(()=>t.totales),i=we(()=>t.resumen.total_empleados),r=we(()=>t.resumen.total_empresas),a=we(()=>t.resumen.total_zonas),l=we(()=>t.resumen.total_departamentos),d=ge(0),u=we(()=>t.resumen.total_zonas),f=ge({contratos:[]}),h=async()=>{s.value=!0,o.value=null;try{await t.fetchStats(),await m()}catch(_){console.error("Error al cargar datos del dashboard:",_),o.value=_.message||"Error al cargar los datos del dashboard"}finally{s.value=!1}},m=async()=>{try{const{contratos:_}=await e.fetchContratosProximosAVencer({dias:90,limit:10}),D=_.map(k=>{try{const T=k.Empleado||{},O=`${T.nombre||""} ${T.apellidos||""}`.trim(),P=k.TipoContrato||{};return{id_contrato:k.id_contrato,id_empleado:k.id_empleado,titulo:`Contrato de ${O||"Empleado"}`,subtitulo:P.nombre||"Contrato",fecha:k.fecha_fin,diasRestantes:k.diasRestantes||0}}catch(T){return console.error("Error al procesar contrato:",T),null}}).filter(Boolean).sort((k,T)=>k.diasRestantes-T.diasRestantes);f.value.contratos=D}catch(_){console.error("Error al obtener contratos próximos a vencer:",_),f.value.contratos=[]}},g=async _=>{try{return(!t.statsData||t.needsRefresh)&&await t.fetchStats(),t.getChartData(_)}catch(D){return console.error("Error al generar datos del gráfico:",D),[]}},b=async()=>{s.value=!0;try{await t.refreshData(),await m()}catch(_){console.error("Error al refrescar datos:",_),o.value=_.message||"Error al refrescar los datos"}finally{s.value=!1}},v=_=>{try{return new Date(_).getDate().toString().padStart(2,"0")}catch{return"--"}},w=_=>{try{const D=new Date(_);return["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][D.getMonth()]}catch{return"---"}},E=_=>_<=7?"danger":_<=30?"warning":"info";return{loading:we(()=>s.value||t.loading),error:we(()=>o.value||t.error),totales:n,totalEmpleados:i,totalEmpresas:r,totalZonas:a,totalDepartamentos:l,totalDocumentos:d,totalCentros:u,vencimientos:f,loadDashboardData:h,generateChartData:g,refreshData:b,formatDay:v,formatMonth:w,getVencimientoStatusClass:E}}const Af=""+new URL("logo.png",import.meta.url).href,UO={components:{X:Xe,Home:$T,Users:fn,FileText:Xt,Building2:Us,FileBarChart:NT,MapPin:Cs,UserCog:qT,Shield:wr,LogOut:UT,LoadingSpinner:rs},setup(){const t=j1(),e=_r(),s=ns(),o=we(()=>t.meta.title||"Dashboard"),n=ge(window.innerWidth>=1024),i=ge(window.innerWidth<1024),r=()=>{const v=window.innerWidth;i.value=v<1024,v>=1024?n.value=!0:i.value||(n.value=!1)};is(()=>{r(),window.addEventListener("resize",r)}),Va(()=>{window.removeEventListener("resize",r)}),Os(()=>t.path,()=>{i.value&&(n.value=!1)});const a=()=>{n.value=!n.value},l=()=>{n.value=!0},d=()=>{i.value&&(n.value=!1)},u=()=>{i.value&&(n.value=!1)},f=()=>{s.logout(),e.push("/login")},h=v=>s.hasPermission(v),m=we(()=>{if(!s.user)return"";const v=s.user.nombre||"",w=s.user.apellidos||"";return`${v} ${w}`.trim()}),g=we(()=>!s.user||!s.user.Rol?"":s.user.Rol.nombre||""),b=we(()=>{if(!s.user)return"";const v=s.user.nombre||"",w=s.user.apellidos||"";if(!v&&!w)return"";const E=v.charAt(0),_=w.charAt(0);return(E+_).toUpperCase()});return{pageTitle:o,userName:m,userRole:g,userInitials:b,sidebarOpen:n,isMobile:i,toggleSidebar:a,openSidebar:l,closeSidebar:d,closeSidebarOnMobile:u,logout:f,authStore:s,hasPermission:h}}},jO={class:"app-layout"},HO={class:"mobile-header"},qO={class:"mobile-header-content"},WO={class:"mobile-user-avatar"},KO={class:"mobile-avatar-text"},GO={class:"sidebar-header"},XO={class:"user-profile"},ZO={class:"user-avatar-container"},YO={class:"user-avatar"},JO={class:"avatar-text"},QO={class:"user-info"},e3={class:"user-name"},t3={class:"user-role"},s3={class:"sidebar-nav"},o3={class:"nav-section"},n3={key:0,class:"nav-section"},i3={key:1,class:"nav-section"},r3={key:2,class:"nav-section"},a3={class:"sidebar-footer"},l3={class:"main-content"};function c3(t,e,s,o,n,i){const r=C("loading-spinner"),a=C("X"),l=C("Home"),d=C("router-link"),u=C("Users"),f=C("FileText"),h=C("Building2"),m=C("FileBarChart"),g=C("MapPin"),b=C("UserCog"),v=C("Shield"),w=C("LogOut");return p(),y("div",jO,[o.authStore.isAuthenticated&&!o.authStore.permissionsLoaded?(p(),q(r,{key:0,message:"Cargando permisos de usuario..."})):(p(),y(he,{key:1},[c("header",HO,[c("div",qO,[c("button",{class:"mobile-menu-btn",onClick:e[0]||(e[0]=(...E)=>o.toggleSidebar&&o.toggleSidebar(...E))},e[4]||(e[4]=[c("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[c("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),c("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),c("line",{x1:"3",y1:"18",x2:"21",y2:"18"})],-1)])),e[5]||(e[5]=c("div",{class:"mobile-logo"},[c("img",{src:Af,alt:"Logo Empresa",class:"mobile-company-logo"})],-1)),c("div",WO,[c("span",KO,S(o.userInitials),1)])])]),c("aside",{class:j(["sidebar",{"sidebar-open":o.sidebarOpen}])},[c("div",GO,[e[6]||(e[6]=c("div",{class:"logo-container"},[c("img",{src:Af,alt:"Logo Empresa",class:"company-logo"})],-1)),c("button",{class:"sidebar-close",onClick:e[1]||(e[1]=(...E)=>o.closeSidebar&&o.closeSidebar(...E))},[x(a,{size:"20"})])]),c("div",XO,[c("div",ZO,[c("div",YO,[c("span",JO,S(o.userInitials),1),e[7]||(e[7]=c("div",{class:"avatar-status"},null,-1))])]),c("div",QO,[c("h3",e3,S(o.userName),1),c("p",t3,S(o.userRole),1),e[8]||(e[8]=c("div",{class:"user-status"},[c("span",{class:"status-dot"}),c("span",{class:"status-text"},"En línea")],-1))])]),c("nav",s3,[c("div",o3,[e[11]||(e[11]=c("span",{class:"nav-section-title"},"Principal",-1)),x(d,{to:"/dashboard",class:"nav-item",onClick:o.closeSidebarOnMobile},{default:Ee(()=>[x(l,{class:"nav-icon",size:"18"}),e[9]||(e[9]=c("span",{class:"nav-text"},"Dashboard",-1))]),_:1},8,["onClick"]),o.hasPermission({nombre:"Empleados",tipo:"Lectura"})?(p(),q(d,{key:0,to:"/empleados",class:"nav-item",onClick:o.closeSidebarOnMobile},{default:Ee(()=>[x(u,{class:"nav-icon",size:"18"}),e[10]||(e[10]=c("span",{class:"nav-text"},"Empleados",-1))]),_:1},8,["onClick"])):I("",!0)]),o.hasPermission({nombre:"Master",tipo:"Escritura"})?(p(),y("div",n3,[e[15]||(e[15]=c("span",{class:"nav-section-title"},"Contratos",-1)),x(d,{to:"/tipos-contrato",class:"nav-item",onClick:o.closeSidebarOnMobile},{default:Ee(()=>[x(f,{class:"nav-icon",size:"18"}),e[12]||(e[12]=c("span",{class:"nav-text"},"Tipos de Contrato",-1))]),_:1},8,["onClick"]),x(d,{to:"/empresas",class:"nav-item",onClick:o.closeSidebarOnMobile},{default:Ee(()=>[x(h,{class:"nav-icon",size:"18"}),e[13]||(e[13]=c("span",{class:"nav-text"},"Empresas",-1))]),_:1},8,["onClick"]),x(d,{to:"/convenios",class:"nav-item",onClick:o.closeSidebarOnMobile},{default:Ee(()=>[x(f,{class:"nav-icon",size:"18"}),e[14]||(e[14]=c("span",{class:"nav-text"},"Convenios",-1))]),_:1},8,["onClick"])])):I("",!0),o.hasPermission({nombre:"Master",tipo:"Escritura"})?(p(),y("div",i3,[e[19]||(e[19]=c("span",{class:"nav-section-title"},"Administración",-1)),o.hasPermission({nombre:"Informes",tipo:"Lectura"})?(p(),q(d,{key:0,to:"/informes",class:"nav-item",onClick:o.closeSidebarOnMobile},{default:Ee(()=>[x(m,{class:"nav-icon",size:"18"}),e[16]||(e[16]=c("span",{class:"nav-text"},"Informes",-1))]),_:1},8,["onClick"])):I("",!0),o.hasPermission({nombre:"Master",tipo:"Escritura"})?(p(),q(d,{key:1,to:"/centros",class:"nav-item",onClick:o.closeSidebarOnMobile},{default:Ee(()=>[x(h,{class:"nav-icon",size:"18"}),e[17]||(e[17]=c("span",{class:"nav-text"},"Centros",-1))]),_:1},8,["onClick"])):I("",!0),o.hasPermission({nombre:"Master",tipo:"Escritura"})?(p(),q(d,{key:2,to:"/zonas",class:"nav-item",onClick:o.closeSidebarOnMobile},{default:Ee(()=>[x(g,{class:"nav-icon",size:"18"}),e[18]||(e[18]=c("span",{class:"nav-text"},"Zonas",-1))]),_:1},8,["onClick"])):I("",!0)])):I("",!0),o.hasPermission({nombre:"Usuarios",tipo:"Lectura"})||o.hasPermission({nombre:"Usuarios",tipo:"Escritura"})?(p(),y("div",r3,[e[22]||(e[22]=c("span",{class:"nav-section-title"},"Sistema",-1)),o.hasPermission({nombre:"Usuarios",tipo:"Lectura"})?(p(),q(d,{key:0,to:"/usuarios",class:"nav-item",onClick:o.closeSidebarOnMobile},{default:Ee(()=>[x(b,{class:"nav-icon",size:"18"}),e[20]||(e[20]=c("span",{class:"nav-text"},"Usuarios",-1))]),_:1},8,["onClick"])):I("",!0),o.hasPermission({nombre:"Usuarios",tipo:"Escritura"})?(p(),q(d,{key:1,to:"/roles",class:"nav-item",onClick:o.closeSidebarOnMobile},{default:Ee(()=>[x(v,{class:"nav-icon",size:"18"}),e[21]||(e[21]=c("span",{class:"nav-text"},"Roles",-1))]),_:1},8,["onClick"])):I("",!0)])):I("",!0)]),c("div",a3,[c("button",{onClick:e[2]||(e[2]=(...E)=>o.logout&&o.logout(...E)),class:"logout-button"},[x(w,{class:"logout-icon",size:"18"}),e[23]||(e[23]=c("span",null,"Cerrar sesión",-1))])])],2),c("div",{class:j(["main-wrapper",{"main-pushed":o.sidebarOpen&&o.isMobile}])},[c("main",l3,[cc(t.$slots,"default",{},void 0,!0)])],2),o.sidebarOpen&&o.isMobile?(p(),y("div",{key:0,class:"sidebar-overlay",onClick:e[3]||(e[3]=(...E)=>o.closeSidebar&&o.closeSidebar(...E))})):I("",!0)],64))])}const Yt=de(UO,[["render",c3],["__scopeId","data-v-5862d49c"]]),d3={name:"Dashboard",components:{DefaultLayout:Yt,Users:fn,FolderOpen:zT,Clock:RT,BarChart3:Ul,PieChart:PT,Building2:Us,MapPin:Cs,RefreshCw:Ft,AlertCircle:Ed},setup(){const{loading:t,error:e,totalEmpleados:s,totalEmpresas:o,totalZonas:n,totalDepartamentos:i,vencimientos:r,loadDashboardData:a,generateChartData:l,refreshData:d,formatDay:u,formatMonth:f,getVencimientoStatusClass:h}=BO();return{loading:t,error:e,totalEmpleados:s,totalEmpresas:o,totalZonas:n,totalDepartamentos:i,vencimientos:r,loadDashboardData:a,generateChartData:l,refreshData:d,formatDay:u,formatMonth:f,getVencimientoStatusClass:h}},data(){return{chart:null,selectedChart:"departamentos",chartType:"doughnut",chartData:[],chartKey:0,vencimientoPeriodo:"30",vencimientosFiltrados:[],chartTitles:{departamentos:"Departamentos",empresas:"Empresas",zonas:"Zonas"},chartColors:["#e63946","#f1faee","#a8dadc","#457b9d","#1d3557","#ffb4a2","#e5989b","#b5838d","#6d6875","#d90429"]}},computed:{displayedChartData(){if(!this.chartData||this.chartData.length===0)return[];if(this.chartData.length<=8)return this.chartData;const t=this.chartData.slice(0,7),e=this.chartData.slice(7).reduce((s,o)=>s+o.count,0);return[...t,{name:"Otros",count:e}]}},watch:{vencimientos:{handler:function(t){t&&t.contratos?this.filtrarVencimientos():this.vencimientosFiltrados=[]},deep:!0}},async mounted(){await this.loadData(),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize),this.destroyChart()},methods:{async loadData(){try{await this.loadDashboardData(),await this.updateChart()}catch(t){console.error("Error al cargar datos:",t)}},filtrarVencimientos(){const t=parseInt(this.vencimientoPeriodo);if(!this.vencimientos.contratos||this.vencimientos.contratos.length===0){this.vencimientosFiltrados=[];return}this.vencimientosFiltrados=this.vencimientos.contratos.filter(e=>e.diasRestantes<=t).sort((e,s)=>e.diasRestantes-s.diasRestantes)},async updateChart(){try{this.chartData=await this.generateChartData(this.selectedChart),this.chartData&&this.chartData.length>0&&(await this.$nextTick(),setTimeout(()=>{this.initChart()},100))}catch(t){console.error("Error al actualizar gráfico:",t)}},destroyChart(){if(this.chart)try{this.chart.destroy()}catch(t){console.warn("Error al destruir gráfico:",t)}finally{this.chart=null}},initChart(){if(this.destroyChart(),!this.chartData||this.chartData.length===0){console.warn("No hay datos para mostrar en el gráfico");return}this.$nextTick(()=>{const t=this.$refs.distributionChart;if(!t){console.warn("Elemento canvas no disponible para inicializar el gráfico");return}try{const e=t.getContext("2d");if(!e){console.warn("No se pudo obtener el contexto 2D del canvas");return}e.clearRect(0,0,t.width,t.height);const s=this.chartData;let o,n,i;s.length<=8?(o=s.map(a=>a.name),n=s.map(a=>a.count),i=this.chartColors.slice(0,s.length)):(o=[...s.slice(0,7).map(a=>a.name),"Otros"],n=[...s.slice(0,7).map(a=>a.count),s.slice(7).reduce((a,l)=>a+l.count,0)],i=[...this.chartColors.slice(0,7),"#9ca3af"]);const r={responsive:!0,maintainAspectRatio:!1,animation:{duration:750,easing:"easeInOutQuart"},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(a){const l=a.label||"",d=a.raw||0;return`${l}: ${d}`}}}}};this.chartType==="doughnut"?Object.assign(r,{cutout:"60%"}):Object.assign(r,{scales:{y:{beginAtZero:!0,ticks:{stepSize:1}},x:{ticks:{maxRotation:45,minRotation:0}}}}),this.chart=new Oo(e,{type:this.chartType,data:{labels:o,datasets:[{data:n,backgroundColor:i,borderWidth:0,borderRadius:this.chartType==="bar"?4:0,hoverOffset:this.chartType==="doughnut"?10:0}]},options:r})}catch(e){console.error("Error al crear el gráfico:",e)}})},setChartType(t){this.chartType!==t&&(this.chartType=t,this.chartKey++,this.$nextTick(()=>{setTimeout(()=>{this.chartData&&this.chartData.length>0&&this.initChart()},150)}))},handleResize(){if(this.chart)try{this.chart.resize()}catch(t){console.warn("Error al redimensionar gráfico:",t)}}}},u3={class:"dashboard"},f3={class:"dashboard-header"},h3=["disabled"],m3={key:0,class:"loading-indicator"},p3={key:1,class:"error-message"},g3={class:"error-content"},b3={key:2},v3={class:"stats-grid"},y3={class:"stat-card"},_3={class:"stat-icon employee-icon"},E3={class:"stat-content"},w3={class:"stat-value"},C3={class:"stat-card"},S3={class:"stat-icon company-icon"},x3={class:"stat-content"},k3={class:"stat-value"},D3={class:"stat-card"},A3={class:"stat-icon center-icon"},T3={class:"stat-content"},M3={class:"stat-value"},P3={class:"stat-card"},I3={class:"stat-icon department-icon"},F3={class:"stat-content"},R3={class:"stat-value"},O3={class:"dashboard-row"},N3={class:"chart-container"},L3={class:"chart-header"},z3={class:"chart-title-container"},$3={class:"chart-title"},V3={class:"chart-actions"},B3={class:"chart"},U3={key:0,class:"chart-empty"},j3={key:1,class:"chart-canvas-container"},H3={key:0,class:"chart-legend"},q3={class:"legend-label"},W3={class:"legend-value"},K3={class:"dashboard-row"},G3={class:"upcoming-container"},X3={class:"upcoming-header"},Z3={class:"upcoming-filter"},Y3={class:"upcoming-list"},J3={class:"upcoming-date"},Q3={class:"date-day"},e4={class:"date-month"},t4={class:"upcoming-content"},s4={class:"upcoming-title"},o4={class:"upcoming-subtitle"},n4={key:0,class:"upcoming-empty"};function i4(t,e,s,o,n,i){const r=C("RefreshCw"),a=C("AlertCircle"),l=C("Users"),d=C("Building2"),u=C("MapPin"),f=C("FolderOpen"),h=C("BarChart3"),m=C("PieChart"),g=C("Clock"),b=C("defaultLayout");return p(),q(b,null,{default:Ee(()=>[c("div",u3,[c("div",f3,[e[9]||(e[9]=c("h1",{class:"dashboard-title"},"Dashboard RRHH",-1)),c("button",{onClick:e[0]||(e[0]=(...v)=>o.refreshData&&o.refreshData(...v)),disabled:o.loading,class:"btn btn-outline-primary btn-sm"},[x(r,{size:16,class:j({"animate-spin":o.loading})},null,8,["class"]),e[8]||(e[8]=V(" Actualizar "))],8,h3)]),o.loading?(p(),y("div",m3,e[10]||(e[10]=[c("div",{class:"spinner"},null,-1),c("p",null,"Cargando datos...",-1)]))):o.error?(p(),y("div",p3,[c("div",g3,[x(a,{size:24}),c("div",null,[e[11]||(e[11]=c("h3",null,"Error al cargar datos",-1)),c("p",null,S(o.error),1),c("button",{onClick:e[1]||(e[1]=(...v)=>o.loadDashboardData&&o.loadDashboardData(...v)),class:"btn btn-primary btn-sm"}," Reintentar ")])])])):(p(),y("div",b3,[c("div",v3,[c("div",y3,[c("div",_3,[x(l,{size:"20"})]),c("div",E3,[e[12]||(e[12]=c("div",{class:"stat-header"},[c("h3",{class:"stat-title"},"Total Empleados")],-1)),c("p",w3,S(o.totalEmpleados),1),e[13]||(e[13]=c("div",{class:"stat-footer"},[c("span",{class:"stat-label"},"Empleados activos")],-1))])]),c("div",C3,[c("div",S3,[x(d,{size:"20"})]),c("div",x3,[e[14]||(e[14]=c("div",{class:"stat-header"},[c("h3",{class:"stat-title"},"Total Empresas")],-1)),c("p",k3,S(o.totalEmpresas),1),e[15]||(e[15]=c("div",{class:"stat-footer"},[c("span",{class:"stat-label"},"Empresas registradas")],-1))])]),c("div",D3,[c("div",A3,[x(u,{size:"20"})]),c("div",T3,[e[16]||(e[16]=c("div",{class:"stat-header"},[c("h3",{class:"stat-title"},"Total Zonas")],-1)),c("p",M3,S(o.totalZonas),1),e[17]||(e[17]=c("div",{class:"stat-footer"},[c("span",{class:"stat-label"},"Zonas de trabajo")],-1))])]),c("div",P3,[c("div",I3,[x(f,{size:"20"})]),c("div",F3,[e[18]||(e[18]=c("div",{class:"stat-header"},[c("h3",{class:"stat-title"},"Total Departamentos")],-1)),c("p",R3,S(o.totalDepartamentos),1),e[19]||(e[19]=c("div",{class:"stat-footer"},[c("span",{class:"stat-label"},"Departamentos activos")],-1))])])]),c("div",O3,[c("div",N3,[c("div",L3,[c("div",z3,[c("h3",$3,"Distribución por "+S(n.chartTitles[n.selectedChart]),1),se(c("select",{"onUpdate:modelValue":e[2]||(e[2]=v=>n.selectedChart=v),class:"form-control select-chart",onChange:e[3]||(e[3]=(...v)=>i.updateChart&&i.updateChart(...v))},e[20]||(e[20]=[c("option",{value:"departamentos"},"Departamentos",-1),c("option",{value:"empresas"},"Empresas",-1),c("option",{value:"zonas"},"Zonas",-1)]),544),[[_t,n.selectedChart]])]),c("div",V3,[c("button",{class:j(["btn btn-sm btn-outline-secondary",n.chartType==="bar"?"active":""]),onClick:e[4]||(e[4]=v=>i.setChartType("bar"))},[x(h,{size:"14",class:"btn-icon"}),e[21]||(e[21]=V(" Barras "))],2),c("button",{class:j(["btn btn-sm btn-outline-secondary",n.chartType==="doughnut"?"active":""]),onClick:e[5]||(e[5]=v=>i.setChartType("doughnut"))},[x(m,{size:"14",class:"btn-icon"}),e[22]||(e[22]=V(" Circular "))],2)])]),c("div",B3,[!n.chartData||n.chartData.length===0?(p(),y("div",U3,[x(h,{size:"32",class:"empty-icon"}),e[23]||(e[23]=c("p",null,"No hay datos suficientes para mostrar el gráfico",-1))])):(p(),y("div",j3,[(p(),y("canvas",{ref:"distributionChart",key:n.chartKey}))]))]),n.chartData&&n.chartData.length>0?(p(),y("div",H3,[(p(!0),y(he,null,De(i.displayedChartData,(v,w)=>(p(),y("div",{class:"legend-item",key:w},[c("span",{class:"legend-color",style:Tn({backgroundColor:n.chartColors[w%n.chartColors.length]})},null,4),c("span",q3,S(v.name),1),c("span",W3,S(v.count),1)]))),128))])):I("",!0)])]),c("div",K3,[c("div",G3,[c("div",X3,[e[26]||(e[26]=c("h3",{class:"upcoming-title"},"Próximos Vencimientos de Contratos",-1)),c("div",Z3,[e[25]||(e[25]=c("label",{for:"vencimiento-periodo",class:"filter-label"},"Mostrar vencimientos en:",-1)),se(c("select",{id:"vencimiento-periodo","onUpdate:modelValue":e[6]||(e[6]=v=>n.vencimientoPeriodo=v),class:"form-control select-period",onChange:e[7]||(e[7]=(...v)=>i.filtrarVencimientos&&i.filtrarVencimientos(...v))},e[24]||(e[24]=[c("option",{value:"7"},"Próximos 7 días",-1),c("option",{value:"30"},"Próximos 30 días",-1),c("option",{value:"60"},"Próximos 60 días",-1),c("option",{value:"90"},"Próximos 90 días",-1)]),544),[[_t,n.vencimientoPeriodo]])])]),c("div",Y3,[(p(!0),y(he,null,De(n.vencimientosFiltrados,(v,w)=>(p(),y("div",{class:"upcoming-item",key:w},[c("div",J3,[c("span",Q3,S(o.formatDay(v.fecha)),1),c("span",e4,S(o.formatMonth(v.fecha)),1)]),c("div",t4,[c("p",s4,S(v.titulo),1),c("p",o4,S(v.subtitulo),1)]),c("div",{class:j(["upcoming-status",o.getVencimientoStatusClass(v.diasRestantes)])},[x(g,{size:"16",class:"status-icon"}),c("span",null,S(v.diasRestantes)+" días",1)],2)]))),128)),!n.vencimientosFiltrados||n.vencimientosFiltrados.length===0?(p(),y("div",n4,e[27]||(e[27]=[c("p",null,"No hay contratos próximos a vencer en este período",-1)]))):I("",!0)])])])]))])]),_:1})}const r4=de(d3,[["render",i4]]),a4={name:"FormInput",props:{id:{type:String,required:!0},modelValue:{type:[String,Number],default:""},label:{type:String,required:!0},type:{type:String,default:"text"},placeholder:{type:String,default:""},error:{type:String,default:""},disabled:{type:Boolean,default:!1},icon:{type:[Object,Function],default:null}},emits:["update:modelValue","input"]},l4=["for"],c4={class:"input-wrapper"},d4={key:0,class:"input-icon"},u4=["id","value","type","placeholder","disabled"],f4={key:0,class:"error-message"};function h4(t,e,s,o,n,i){return p(),y("div",{class:j(["form-group",{"has-error":s.error}])},[c("label",{for:s.id},S(s.label),9,l4),c("div",c4,[s.icon?(p(),y("i",d4,[(p(),q(mo(s.icon),{size:"18"}))])):I("",!0),c("input",uh({id:s.id,value:s.modelValue,onInput:e[0]||(e[0]=r=>t.$emit("update:modelValue",r.target.value)),type:s.type,class:"form-control",placeholder:s.placeholder,disabled:s.disabled},t.$attrs),null,16,u4)]),s.error?(p(),y("p",f4,S(s.error),1)):I("",!0)],2)}const m4=de(a4,[["render",h4],["__scopeId","data-v-a40b3f7a"]]),p4={name:"PasswordInput",components:{Eye:Ko,EyeOff:G1,Lock:Q1},props:{id:{type:String,required:!0},modelValue:{type:String,default:""},label:{type:String,required:!0},placeholder:{type:String,default:"Ingresar su contraseña"},error:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","input"],setup(){const t=ge(!1);return{showPassword:t,togglePasswordVisibility:()=>{t.value=!t.value}}}},g4=["for"],b4={class:"input-wrapper"},v4={class:"input-icon"},y4=["id","type","value","placeholder","disabled"],_4=["disabled"],E4={key:0,class:"error-message"};function w4(t,e,s,o,n,i){const r=C("Lock"),a=C("Eye"),l=C("EyeOff");return p(),y("div",{class:j(["form-group",{"has-error":s.error}])},[c("label",{for:s.id},S(s.label),9,g4),c("div",b4,[c("i",v4,[x(r,{size:"18"})]),c("input",{id:s.id,type:o.showPassword?"text":"password",value:s.modelValue,onInput:e[0]||(e[0]=d=>t.$emit("update:modelValue",d.target.value)),placeholder:s.placeholder,disabled:s.disabled,class:j(["form-control",{"is-invalid":s.error}])},null,42,y4),c("button",{type:"button",class:"btn-toggle-password",onClick:e[1]||(e[1]=(...d)=>o.togglePasswordVisibility&&o.togglePasswordVisibility(...d)),disabled:s.disabled},[o.showPassword?(p(),q(l,{key:1,size:"18"})):(p(),q(a,{key:0,size:"18"}))],8,_4)]),s.error?(p(),y("div",E4,S(s.error),1)):I("",!0)],2)}const cm=de(p4,[["render",w4],["__scopeId","data-v-fa24aa38"]]),C4={name:"FormOptions",props:{modelValue:{type:Boolean,default:!1}},emits:["update:remember"]},S4={class:"form-options"},x4={class:"remember-me"},k4=["checked"],D4={class:"forgot-password"};function A4(t,e,s,o,n,i){const r=C("router-link");return p(),y("div",S4,[c("div",x4,[c("input",{type:"checkbox",id:"remember",checked:s.modelValue,onChange:e[0]||(e[0]=a=>t.$emit("update:remember",a.target.checked))},null,40,k4),e[1]||(e[1]=c("label",{for:"remember"},"Recordarme",-1))]),c("div",D4,[x(r,{to:"/forgot-password"},{default:Ee(()=>e[2]||(e[2]=[V("¿Olvidaste tu contraseña?")])),_:1})])])}const T4=de(C4,[["render",A4],["__scopeId","data-v-28d9c754"]]),M4={name:"AlertMessage",components:{AlertCircle:Ed,InfoIcon:J1,CheckCircle:W1,AlertTriangle:Ot},props:{type:{type:String,default:"info",validator:t=>["info","success","warning","danger"].includes(t)},message:{type:String,required:!0}}};function P4(t,e,s,o,n,i){const r=C("AlertCircle"),a=C("InfoIcon"),l=C("CheckCircle"),d=C("AlertTriangle");return p(),y("div",{class:j(["alert",`alert-${s.type}`])},[s.type==="danger"?(p(),q(r,{key:0,size:"18",class:"alert-icon"})):s.type==="info"?(p(),q(a,{key:1,size:"18",class:"alert-icon"})):s.type==="success"?(p(),q(l,{key:2,size:"18",class:"alert-icon"})):s.type==="warning"?(p(),q(d,{key:3,size:"18",class:"alert-icon"})):I("",!0),c("span",null,S(s.message),1)],2)}const I4=de(M4,[["render",P4],["__scopeId","data-v-45b274b4"]]),F4={name:"SubmitButton",components:{Loader:At},props:{loading:{type:Boolean,default:!1},text:{type:String,default:"Enviar"}}},R4=["disabled"],O4={key:1};function N4(t,e,s,o,n,i){const r=C("Loader");return p(),y("button",{type:"submit",class:"btn btn-primary",disabled:s.loading},[s.loading?(p(),q(r,{key:0,size:"18",class:"spinner"})):(p(),y("span",O4,S(s.text),1))],8,R4)}const L4=de(F4,[["render",N4],["__scopeId","data-v-90063fb3"]]),z4={name:"LoginForm",components:{FormInput:m4,PasswordInput:cm,FormOptions:T4,AlertMessage:I4,SubmitButton:L4},setup(){const t=_r(),e=ns(),s=ge(null),o=ge(!1),n=ge({email:"",password:"",remember:!1});return{credentials:n,authStore:e,localError:s,loading:o,handleLogin:async()=>{s.value=null,o.value=!0;try{const a=(await qi.login(n.value)).data;if(a.success){const l=a.data.user,d=l.token,u={...l};if(delete u.token,bA(d),e.setUser(u),e.setToken(d),n.value.remember){const f=new Date().getTime()+6048e5;localStorage.setItem("sessionExpiry",f.toString())}else{const f=new Date().getTime()+36e5;localStorage.setItem("sessionExpiry",f.toString())}return t.push({name:"dashboard"}),!0}else return s.value=a.message||"Error de autenticación",!1}catch(r){return console.error("Error de login:",r),r.response?s.value=r.response.data.message||"Email o contraseña incorrectos":r.request?s.value="No se pudo conectar con el servidor":s.value="Error al intentar iniciar sesión",!1}finally{o.value=!1}},Mail:jT}}},$4={class:"login-form"};function V4(t,e,s,o,n,i){const r=C("FormInput"),a=C("PasswordInput"),l=C("FormOptions"),d=C("AlertMessage"),u=C("SubmitButton");return p(),y("div",$4,[e[4]||(e[4]=c("h2",{class:"form-title"},"Iniciar Sesión",-1)),c("form",{onSubmit:e[3]||(e[3]=Ve((...f)=>o.handleLogin&&o.handleLogin(...f),["prevent"]))},[x(r,{id:"email",modelValue:o.credentials.email,"onUpdate:modelValue":e[0]||(e[0]=f=>o.credentials.email=f),label:"Email",type:"email",placeholder:"Ingresar Email",icon:o.Mail,required:""},null,8,["modelValue","icon"]),x(a,{id:"password",modelValue:o.credentials.password,"onUpdate:modelValue":e[1]||(e[1]=f=>o.credentials.password=f),label:"Contraseña",placeholder:"Ingresar su contraseña",required:""},null,8,["modelValue"]),x(l,{remember:o.credentials.remember,"onUpdate:remember":e[2]||(e[2]=f=>o.credentials.remember=f)},null,8,["remember"]),o.localError?(p(),q(d,{key:0,type:"danger",message:o.localError},null,8,["message"])):I("",!0),x(u,{loading:o.loading,text:"Iniciar Sesión"},null,8,["loading"])],32)])}const B4=de(z4,[["render",V4],["__scopeId","data-v-992589e0"]]),U4={name:"Login",components:{LoginForm:B4},setup(){return{currentYear:we(()=>new Date().getFullYear())}}},j4={class:"auth-layout"},H4={class:"login-page"},q4={class:"login-form-section"},W4={class:"login-container"},K4={class:"login-footer"};function G4(t,e,s,o,n,i){const r=C("LoginForm");return p(),y("div",j4,[c("div",H4,[e[1]||(e[1]=c("div",{class:"login-image-section"},[c("div",{class:"login-overlay"},[c("div",{class:"welcome-text"},[c("h1",null,"Bienvenido al Sistema de SGRH"),c("p",null,"Gestione su personal de manera eficiente y organizada")])])],-1)),c("div",q4,[c("div",W4,[e[0]||(e[0]=c("div",{class:"login-logo"},[c("img",{src:Af,alt:"Logo"})],-1)),x(r),c("div",K4,[c("p",null,"© "+S(o.currentYear)+" Sistema SGRH. Todos los derechos reservados.",1)])])])])])}const X4=de(U4,[["render",G4],["__scopeId","data-v-8d6f7416"]]),Un={getAll(t){return $.get("/users",{params:t})},getById(t){return $.get(`/users/${t}`)},create(t){return $.post("/users",t)},update(t,e){return $.put(`/users/${t}`,e)},delete(t){return $.delete(`/users/${t}`)},changeStatus(t,e){return $.patch(`/users/${t}/status`,{activo:e})},resetPassword(t,e){return $.post(`/users/${t}/reset-password`,e)}},dm=wt("usuarios",{state:()=>({usuarios:[],currentUsuario:null,loading:!1,error:null,pagination:{page:1,limit:10,totalItems:0,totalPages:0},filters:{search:"",activo:null,id_rol:""}}),actions:{async fetchUsuarios(t={}){var s,o;this.loading=!0,this.error=null;const e=X();try{const n={...this.filters,page:this.pagination.page,limit:this.pagination.limit,...t};n.id_rol&&(n.id_rol=Number(n.id_rol)),n.search&&typeof n.search=="string"&&(n.search=n.search.trim()),Object.keys(n).forEach(r=>{(n[r]===""||n[r]===null||n[r]===void 0)&&delete n[r]}),console.log("Enviando parámetros a la API:",n);const i=await Un.getAll(n);return i.data.success?(this.usuarios=i.data.data.usuarios,this.pagination=i.data.data.pagination):(this.error=i.data.message,e.error(this.error,"Error al cargar usuarios")),i.data.success}catch(n){return this.error=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||"Error al cargar usuarios",e.error(this.error,"Error"),!1}finally{this.loading=!1}},async fetchUsuarioById(t){var e,s;this.loading=!0,this.error=null;try{const o=await Un.getById(t);return o.data.success?(this.currentUsuario=o.data.data.usuario,this.currentUsuario):(this.error=o.data.message,null)}catch(o){return this.error=((s=(e=o.response)==null?void 0:e.data)==null?void 0:s.message)||`Error al cargar el usuario ${t}`,null}finally{this.loading=!1}},async createUsuario(t){var e,s;this.loading=!0,this.error=null;try{const o=await Un.create(t);return o.data.success?o.data.data.usuario:(this.error=o.data.message,null)}catch(o){return this.error=((s=(e=o.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al crear el usuario",null}finally{this.loading=!1}},async updateUsuario(t,e){var s,o;this.loading=!0,this.error=null;try{const n=await Un.update(t,e);if(n.data.success){this.currentUsuario&&this.currentUsuario.id_usuario===t&&(this.currentUsuario=n.data.data.usuario);const i=this.usuarios.findIndex(r=>r.id_usuario===t);return i!==-1&&(this.usuarios[i]=n.data.data.usuario),n.data.data.usuario}else return this.error=n.data.message,null}catch(n){return this.error=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||`Error al actualizar el usuario ${t}`,null}finally{this.loading=!1}},async deleteUsuario(t){var e,s;this.loading=!0,this.error=null;try{const o=await Un.delete(t);return o.data.success?(this.usuarios=this.usuarios.filter(n=>n.id_usuario!==t),this.currentUsuario&&this.currentUsuario.id_usuario===t&&(this.currentUsuario=null),!0):(this.error=o.data.message,!1)}catch(o){return this.error=((s=(e=o.response)==null?void 0:e.data)==null?void 0:s.message)||`Error al eliminar el usuario ${t}`,!1}finally{this.loading=!1}},async changeUsuarioStatus(t,e){var s,o;this.loading=!0,this.error=null;try{const n=await Un.changeStatus(t,e);if(n.data.success){this.currentUsuario&&this.currentUsuario.id_usuario===t&&(this.currentUsuario.activo=e);const i=this.usuarios.findIndex(r=>r.id_usuario===t);return i!==-1&&(this.usuarios[i].activo=e),!0}else return this.error=n.data.message,!1}catch(n){return this.error=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||`Error al cambiar el estado del usuario ${t}`,!1}finally{this.loading=!1}},async resetPassword(t,e){var s,o;this.loading=!0,this.error=null;try{const n=await Un.resetPassword(t,{newPassword:e});return n.data.success?!0:(this.error=n.data.message,!1)}catch(n){throw this.error=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||`Error al restablecer la contraseña del usuario ${t}`,n}finally{this.loading=!1}},setFilters(t){this.filters={...this.filters,...t}},resetFilters(){this.filters={search:"",activo:null,id_rol:""},this.pagination.page=1},setPage(t){this.pagination.page=t}}}),Qa=wt("roles",{state:()=>({roles:[],currentRol:null,miRol:null,loading:!1,error:null,filters:{search:"",order:"ASC"},pagination:{page:1,limit:10,totalItems:0,totalPages:0}}),getters:{getRolById:t=>e=>t.roles.find(s=>s.id_rol===e),getRolNombre:t=>e=>{const s=t.roles.find(o=>o.id_rol===e);return s?s.nombre:`Rol ${e}`},getPermisosAgrupados:t=>{if(!t.currentRol||!t.currentRol.Permisos)return{};const e={};return t.currentRol.Permisos.forEach(s=>{e[s.nombre]||(e[s.nombre]=[]),e[s.nombre].push(s)}),e}},actions:{async fetchRoles(t={}){this.loading=!0,this.error=null;try{const e=await hs.getAllRoles({...this.filters,page:this.pagination.page,limit:this.pagination.limit,...t});if(e.data.success)return this.roles=e.data.data.roles,this.pagination=e.data.data.pagination,!0;throw new Error(e.data.message||"Error al cargar roles")}catch(e){return this.error=e.message||"Error al cargar roles",X().error(this.error),!1}finally{this.loading=!1}},async fetchRolById(t){this.loading=!0,this.error=null;try{const e=await hs.getRoleById(t);if(e.data.success)return this.currentRol=e.data.data.rol,e.data.data.rol;throw new Error(e.data.message||"Error al cargar el rol")}catch(e){return this.error=e.message||`Error al cargar el rol ${t}`,X().error(this.error),null}finally{this.loading=!1}},async fetchMiRol(){this.loading=!0,this.error=null;try{const t=await hs.getMiRol();if(t.data.success)return this.miRol=t.data.data.rol,t.data.data.rol;throw new Error(t.data.message||"Error al cargar tu rol")}catch(t){return this.error=t.message||"Error al cargar tu rol",X().error(this.error),null}finally{this.loading=!1}},async createRol(t){this.loading=!0,this.error=null;try{const e=await hs.createRole(t);if(e.data.success)return await this.fetchRoles(),e.data.data.rol;throw new Error(e.data.message||"Error al crear el rol")}catch(e){throw this.error=e.message||"Error al crear el rol",X().error(this.error),e}finally{this.loading=!1}},async updateRol(t,e){this.loading=!0,this.error=null;try{const s=await hs.updateRole(t,e);if(s.data.success){this.currentRol&&this.currentRol.id_rol===t&&(this.currentRol=s.data.data.rol);const o=this.roles.findIndex(n=>n.id_rol===t);return o!==-1&&(this.roles[o]=s.data.data.rol),s.data.data.rol}else throw new Error(s.data.message||"Error al actualizar el rol")}catch(s){throw this.error=s.message||`Error al actualizar el rol ${t}`,X().error(this.error),s}finally{this.loading=!1}},async deleteRol(t){this.loading=!0,this.error=null;try{const e=await hs.deleteRole(t);if(e.data.success)return this.roles=this.roles.filter(s=>s.id_rol!==t),this.currentRol&&this.currentRol.id_rol===t&&(this.currentRol=null),!0;throw new Error(e.data.message||"Error al eliminar el rol")}catch(e){return this.error=e.message||`Error al eliminar el rol ${t}`,X().error(this.error),!1}finally{this.loading=!1}},async updatePermisos(t,e){this.loading=!0,this.error=null;try{const s=await hs.updateRolePermissions(t,e);if(s.data.success){this.currentRol&&this.currentRol.id_rol===t&&(this.currentRol=s.data.data.rol);const o=this.roles.findIndex(n=>n.id_rol===t);return o!==-1&&(this.roles[o]=s.data.data.rol),s.data.data.rol}else throw new Error(s.data.message||"Error al actualizar permisos del rol")}catch(s){throw this.error=s.message||`Error al actualizar permisos del rol ${t}`,X().error(this.error),s}finally{this.loading=!1}},updateFilters(t){this.filters={...this.filters,...t}},resetFilters(){this.filters={search:"",order:"ASC"},this.pagination.page=1},setPage(t){this.pagination.page=t}}}),Z4={name:"UsuariosHeader",components:{UserPlus:n0},emits:["nuevo-usuario"],setup(){const t=ns();return{canCreate:we(()=>t.hasPermission({nombre:"Usuarios",tipo:"Escritura"}))}}},Y4={class:"page-header"};function J4(t,e,s,o,n,i){const r=C("UserPlus");return p(),y("div",Y4,[e[2]||(e[2]=c("h1",null,"Gestión de Usuarios",-1)),o.canCreate?(p(),y("button",{key:0,onClick:e[0]||(e[0]=a=>t.$emit("nuevo-usuario")),class:"btn btn-primary"},[x(r,{size:"18",class:"btn-icon"}),e[1]||(e[1]=V(" Nuevo Usuario "))])):I("",!0)])}const Q4=de(Z4,[["render",J4],["__scopeId","data-v-0515b863"]]),eN={name:"UsuariosFiltros",components:{Search:In,RefreshCw:Ft,UserX:jh,UserCheck:o0,Users:fn,Shield:wr},props:{search:{type:String,default:""},filters:{type:Object,required:!0}},emits:["update:search","update:filters","search","apply-filters","reset-filters"],setup(){const t=Qa(),{roles:e}=Wa(t);return is(async()=>{e.value.length===0&&await t.fetchRoles()}),{roles:e}},methods:{setFilterActivo(t){const e={...this.filters,activo:t};this.$emit("update:filters",e),this.$emit("apply-filters")},updateFilter(t,e){let s={...this.filters,[t]:e};this.$emit("update:filters",s),this.$emit("apply-filters")}}},tN={class:"card-header"},sN={class:"filters"},oN={class:"filter-group search-group"},nN=["value"],iN={class:"filter-buttons"},rN={class:"filter-tabs"},aN={class:"filter-selects"},lN={class:"filter-select-group"},cN=["value"],dN=["value"];function uN(t,e,s,o,n,i){const r=C("Search"),a=C("Users"),l=C("UserCheck"),d=C("UserX"),u=C("Shield"),f=C("RefreshCw");return p(),y("div",tN,[c("div",sN,[c("div",oN,[x(r,{size:"16",class:"search-icon"}),c("input",{type:"text",value:s.search,onInput:e[0]||(e[0]=h=>{t.$emit("update:search",h.target.value),t.$emit("search")}),class:"form-control search-input",placeholder:"Buscar por nombre, email o usuario..."},null,40,nN)]),c("div",iN,[c("div",rN,[c("button",{class:j(["filter-tab",{active:s.filters.activo===null}]),onClick:e[1]||(e[1]=h=>i.setFilterActivo(null))},[x(a,{size:"16",class:"tab-icon"}),e[6]||(e[6]=c("span",null,"Todos",-1))],2),c("button",{class:j(["filter-tab",{active:s.filters.activo===!0}]),onClick:e[2]||(e[2]=h=>i.setFilterActivo(!0))},[x(l,{size:"16",class:"tab-icon"}),e[7]||(e[7]=c("span",null,"Activos",-1))],2),c("button",{class:j(["filter-tab",{active:s.filters.activo===!1}]),onClick:e[3]||(e[3]=h=>i.setFilterActivo(!1))},[x(d,{size:"16",class:"tab-icon"}),e[8]||(e[8]=c("span",null,"Inactivos",-1))],2)]),c("div",aN,[c("div",lN,[x(u,{size:"16",class:"select-icon"}),c("select",{value:s.filters.id_rol,onChange:e[4]||(e[4]=h=>i.updateFilter("id_rol",h.target.value)),class:"form-control select-filter"},[e[13]||(e[13]=c("option",{value:""},"Todos los roles",-1)),(p(!0),y(he,null,De(o.roles,h=>(p(),y("option",{key:h.id_rol,value:h.id_rol},S(h.nombre),9,dN))),128)),o.roles.length===0?(p(),y(he,{key:0},[e[9]||(e[9]=c("option",{value:"1"},"Administrador",-1)),e[10]||(e[10]=c("option",{value:"2"},"Gerente",-1)),e[11]||(e[11]=c("option",{value:"3"},"RRHH",-1)),e[12]||(e[12]=c("option",{value:"4"},"Usuario",-1))],64)):I("",!0)],40,cN)]),c("button",{onClick:e[5]||(e[5]=h=>t.$emit("reset-filters")),class:"btn btn-outline-secondary btn-reset",title:"Limpiar todos los filtros"},[x(f,{size:"16"})])])])])])}const fN=de(eN,[["render",uN],["__scopeId","data-v-356be055"]]),hN={name:"UsuariosTabla",components:{LoadingSpinner:rs,AlertCircle:Ed,RefreshCw:Ft,FilterX:Sd,UserX:jh},props:{loading:{type:Boolean,default:!1},error:{type:String,default:null},usuarios:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})}},emits:["retry","reset-filters","view-usuario"],setup(){const t=Qa(),{roles:e}=Wa(t);return is(async()=>{e.value.length===0&&await t.fetchRoles()}),{roles:e,rolesStore:t}},methods:{getInitials(t){return t?t.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2):"?"},getRolLabel(t){const e=this.rolesStore.getRolNombre(t);return e!==`Rol ${t}`?e:{1:"Administrador",2:"Gerente",3:"RRHH",4:"Usuario"}[t]||`Rol ${t}`},getRolBadgeClass(t){return{1:"badge-primary",2:"badge-warning",3:"badge-info",4:"badge-secondary"}[t]||"badge-secondary"},formatDate(t){if(!t)return"Nunca";const e=new Date(t);return isNaN(e.getTime())?"Fecha inválida":new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}}},mN={class:"card-body"},pN={key:0,class:"loading-container"},gN={key:1,class:"error-container"},bN={class:"error-actions"},vN={key:2,class:"empty-container"},yN={key:3,class:"table-responsive"},_N={class:"table"},EN=["onClick"],wN={class:"user-cell"},CN={class:"user-avatar"},SN={class:"user-username"};function xN(t,e,s,o,n,i){const r=C("LoadingSpinner"),a=C("AlertCircle"),l=C("RefreshCw"),d=C("FilterX"),u=C("UserX");return p(),y("div",mN,[s.loading?(p(),y("div",pN,[x(r,{message:"Cargando usuarios..."})])):s.error?(p(),y("div",gN,[x(a,{size:"48",class:"error-icon"}),e[5]||(e[5]=c("h3",null,"Error al cargar usuarios",-1)),c("p",null,S(s.error),1),c("div",bN,[c("button",{onClick:e[0]||(e[0]=f=>t.$emit("retry")),class:"btn btn-primary"},[x(l,{size:"16",class:"btn-icon"}),e[3]||(e[3]=V(" Reintentar "))]),c("button",{onClick:e[1]||(e[1]=f=>t.$emit("reset-filters")),class:"btn btn-outline-secondary"},[x(d,{size:"16",class:"btn-icon"}),e[4]||(e[4]=V(" Limpiar filtros "))])])])):s.usuarios.length===0?(p(),y("div",vN,[x(u,{size:"48",class:"empty-icon"}),e[7]||(e[7]=c("h3",null,"No se encontraron usuarios",-1)),e[8]||(e[8]=c("p",null,"Intenta cambiar los filtros de búsqueda",-1)),c("button",{onClick:e[2]||(e[2]=f=>t.$emit("reset-filters")),class:"btn btn-outline-secondary"},[x(d,{size:"16",class:"btn-icon"}),e[6]||(e[6]=V(" Limpiar filtros "))])])):(p(),y("div",yN,[c("table",_N,[e[9]||(e[9]=c("thead",null,[c("tr",null,[c("th",null,"Usuario"),c("th",null,"Nombre"),c("th",null,"Email"),c("th",null,"Rol"),c("th",null,"Estado"),c("th",null,"Último acceso")])],-1)),c("tbody",null,[(p(!0),y(he,null,De(s.usuarios,f=>(p(),y("tr",{key:f.id_usuario,onClick:h=>t.$emit("view-usuario",f.id_usuario),class:"usuario-row"},[c("td",null,[c("div",wN,[c("div",CN,S(i.getInitials(f.nombre)),1),c("span",SN,S(f.nombre_usuario),1)])]),c("td",null,S(f.nombre)+" "+S(f.apellidos),1),c("td",null,S(f.email),1),c("td",null,[c("span",{class:j(["badge",i.getRolBadgeClass(f.id_rol)])},S(i.getRolLabel(f.id_rol)),3)]),c("td",null,[c("span",{class:j(["badge",f.activo?"badge-success":"badge-danger"])},S(f.activo?"Activo":"Inactivo"),3)]),c("td",null,S(i.formatDate(f.ultimo_acceso)),1)],8,EN))),128))])])]))])}const kN=de(hN,[["render",xN],["__scopeId","data-v-7ee5c069"]]),DN={name:"UsuariosPaginacion",components:{ChevronLeft:Xa,ChevronRight:Pn},props:{pagination:{type:Object,required:!0,default:()=>({page:1,limit:10,totalItems:0,totalPages:1})}},computed:{safeCurrentPage(){const t=parseInt(this.pagination.page);return isNaN(t)?1:Math.max(1,t)},safeTotalPages(){const t=parseInt(this.pagination.totalPages);return isNaN(t)?1:Math.max(1,t)},safeTotalItems(){const t=parseInt(this.pagination.totalItems);return isNaN(t)?0:Math.max(0,t)},shouldShowPagination(){return this.safeTotalPages>1},paginationInfoText(){const t=(this.safeCurrentPage-1)*this.pagination.limit+1,e=Math.min(this.safeCurrentPage*this.pagination.limit,this.safeTotalItems);return`Mostrando ${t}-${e} de ${this.safeTotalItems} resultado${this.safeTotalItems!==1?"s":""}`},validPaginationPages(){const t=this.safeCurrentPage,e=this.safeTotalPages;return e<=0?[]:e<=5?Array.from({length:e},(s,o)=>o+1):t<=3?[1,2,3,4,5]:t>=e-2?[e-4,e-3,e-2,e-1,e]:[t-2,t-1,t,t+1,t+2]}},emits:["change-page"]},AN={class:"card-footer"},TN={key:0,class:"pagination"},MN=["disabled"],PN={class:"pagination-pages"},IN=["onClick"],FN=["disabled"],RN={key:1,class:"pagination-info"};function ON(t,e,s,o,n,i){const r=C("ChevronLeft"),a=C("ChevronRight");return p(),y("div",AN,[i.shouldShowPagination?(p(),y("div",TN,[c("button",{class:"pagination-btn",disabled:i.safeCurrentPage<=1,onClick:e[0]||(e[0]=l=>t.$emit("change-page",i.safeCurrentPage-1))},[x(r,{size:"16"}),e[2]||(e[2]=c("span",{class:"pagination-text"},"Anterior",-1))],8,MN),c("div",PN,[(p(!0),y(he,null,De(i.validPaginationPages,l=>(p(),y("button",{key:l,class:j(["page-btn",{active:l===i.safeCurrentPage}]),onClick:d=>t.$emit("change-page",l)},S(l),11,IN))),128))]),c("button",{class:"pagination-btn",disabled:i.safeCurrentPage>=i.safeTotalPages,onClick:e[1]||(e[1]=l=>t.$emit("change-page",i.safeCurrentPage+1))},[e[3]||(e[3]=c("span",{class:"pagination-text"},"Siguiente",-1)),x(a,{size:"16"})],8,FN)])):(p(),y("div",RN,S(i.paginationInfoText),1))])}const NN=de(DN,[["render",ON],["__scopeId","data-v-c0825bf7"]]),LN={name:"Usuarios",components:{DefaultLayout:Yt,UsuariosHeader:Q4,UsuariosFiltros:fN,UsuariosTabla:kN,UsuariosPaginacion:NN},data(){return{searchQuery:"",searchTimeout:null,filters:{search:"",activo:null,id_rol:""}}},setup(){const t=dm(),e=X(),s=Qa();return{usuariosStore:t,notificationStore:e,rolesStore:s}},created(){this.rolesStore.fetchRoles(),this.loadUsuarios()},methods:{loadUsuarios(){this.usuariosStore.fetchUsuarios()},handleSearch(){clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.filters.search=this.searchQuery,this.usuariosStore.setFilters({...this.filters}),this.usuariosStore.setPage(1),this.loadUsuarios()},300)},applyFilters(){this.usuariosStore.setFilters({...this.filters}),this.usuariosStore.setPage(1),this.loadUsuarios();let t="Filtros aplicados";if(this.filters.search&&(t+=`: "${this.filters.search}"`),this.filters.activo===!0?t+=" (Solo activos)":this.filters.activo===!1&&(t+=" (Solo inactivos)"),this.filters.id_rol){const e=this.getRolNombre(this.filters.id_rol);t+=` (${e})`}this.notificationStore.info(t,"Filtros")},resetFilters(){this.searchQuery="",this.filters={search:"",activo:null,id_rol:""},this.usuariosStore.resetFilters(),this.loadUsuarios(),this.notificationStore.info("Se han eliminado todos los filtros","Filtros")},changePage(t){this.usuariosStore.setPage(t),this.loadUsuarios()},goToUsuarioDetalle(t){this.$router.push(`/usuarios/${t}`)},crearNuevoUsuario(){this.$router.push("/usuarios/nuevo")},getRolNombre(t){return this.rolesStore.getRolNombre(t)||`Rol ${t}`}}},zN={class:"usuarios-page"},$N={class:"card"};function VN(t,e,s,o,n,i){const r=C("UsuariosHeader"),a=C("UsuariosFiltros"),l=C("UsuariosTabla"),d=C("UsuariosPaginacion"),u=C("DefaultLayout");return p(),q(u,null,{default:Ee(()=>[c("div",zN,[x(r,{onNuevoUsuario:i.crearNuevoUsuario},null,8,["onNuevoUsuario"]),c("div",$N,[x(a,{search:n.searchQuery,"onUpdate:search":e[0]||(e[0]=f=>n.searchQuery=f),filters:n.filters,"onUpdate:filters":e[1]||(e[1]=f=>n.filters=f),onSearch:i.handleSearch,onApplyFilters:i.applyFilters,onResetFilters:i.resetFilters},null,8,["search","filters","onSearch","onApplyFilters","onResetFilters"]),x(l,{loading:o.usuariosStore.loading,error:o.usuariosStore.error,usuarios:o.usuariosStore.usuarios,filters:n.filters,onRetry:i.loadUsuarios,onResetFilters:i.resetFilters,onViewUsuario:i.goToUsuarioDetalle},null,8,["loading","error","usuarios","filters","onRetry","onResetFilters","onViewUsuario"]),x(d,{pagination:o.usuariosStore.pagination,onChangePage:i.changePage},null,8,["pagination","onChangePage"])])])]),_:1})}const BN=de(LN,[["render",VN],["__scopeId","data-v-4ef0cdc9"]]);function UN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Si(t){this._maxSize=t,this.clear()}Si.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Si.prototype.get=function(t){return this._values[t]};Si.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var jN=/[^.^\]^[]+|(?=\[\]|\.\.)/g,sE=/^\d+$/,HN=/^\d/,qN=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,WN=/^\s*(['"]?)(.*?)(\1)\s*$/,um=512,Wb=new Si(um),Kb=new Si(um),Gb=new Si(um),ui={Cache:Si,split:Tf,normalizePath:vu,setter:function(t){var e=vu(t);return Kb.get(t)||Kb.set(t,function(o,n){for(var i=0,r=e.length,a=o;i<r-1;){var l=e[i];if(l==="__proto__"||l==="constructor"||l==="prototype")return o;a=a[e[i++]]}a[e[i]]=n})},getter:function(t,e){var s=vu(t);return Gb.get(t)||Gb.set(t,function(n){for(var i=0,r=s.length;i<r;)if(n!=null||!e)n=n[s[i++]];else return;return n})},join:function(t){return t.reduce(function(e,s){return e+(fm(s)||sE.test(s)?"["+s+"]":(e?".":"")+s)},"")},forEach:function(t,e,s){KN(Array.isArray(t)?t:Tf(t),e,s)}};function vu(t){return Wb.get(t)||Wb.set(t,Tf(t).map(function(e){return e.replace(WN,"$2")}))}function Tf(t){return t.match(jN)||[""]}function KN(t,e,s){var o=t.length,n,i,r,a;for(i=0;i<o;i++)n=t[i],n&&(ZN(n)&&(n='"'+n+'"'),a=fm(n),r=!a&&/^\d+$/.test(n),e.call(s,n,a,r,i,t))}function fm(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function GN(t){return t.match(HN)&&!t.match(sE)}function XN(t){return qN.test(t)}function ZN(t){return!fm(t)&&(GN(t)||XN(t))}const YN=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Pd=t=>t.match(YN)||[],Id=t=>t[0].toUpperCase()+t.slice(1),hm=(t,e)=>Pd(t).join(e).toLowerCase(),oE=t=>Pd(t).reduce((e,s)=>`${e}${e?s[0].toUpperCase()+s.slice(1).toLowerCase():s.toLowerCase()}`,""),JN=t=>Id(oE(t)),QN=t=>hm(t,"_"),eL=t=>hm(t,"-"),tL=t=>Id(hm(t," ")),sL=t=>Pd(t).map(Id).join(" ");var yu={words:Pd,upperFirst:Id,camelCase:oE,pascalCase:JN,snakeCase:QN,kebabCase:eL,sentenceCase:tL,titleCase:sL},mm={exports:{}};mm.exports=function(t){return nE(oL(t),t)};mm.exports.array=nE;function nE(t,e){var s=t.length,o=new Array(s),n={},i=s,r=nL(e),a=iL(t);for(e.forEach(function(d){if(!a.has(d[0])||!a.has(d[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)n[i]||l(t[i],i,new Set);return o;function l(d,u,f){if(f.has(d)){var h;try{h=", node was:"+JSON.stringify(d)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!a.has(d))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(d));if(!n[u]){n[u]=!0;var m=r.get(d)||new Set;if(m=Array.from(m),u=m.length){f.add(d);do{var g=m[--u];l(g,a.get(g),f)}while(u);f.delete(d)}o[--s]=d}}}function oL(t){for(var e=new Set,s=0,o=t.length;s<o;s++){var n=t[s];e.add(n[0]),e.add(n[1])}return Array.from(e)}function nL(t){for(var e=new Map,s=0,o=t.length;s<o;s++){var n=t[s];e.has(n[0])||e.set(n[0],new Set),e.has(n[1])||e.set(n[1],new Set),e.get(n[0]).add(n[1])}return e}function iL(t){for(var e=new Map,s=0,o=t.length;s<o;s++)e.set(t[s],s);return e}var rL=mm.exports;const aL=UN(rL),lL=Object.prototype.toString,cL=Error.prototype.toString,dL=RegExp.prototype.toString,uL=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",fL=/^Symbol\((.*)\)(.*)$/;function hL(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function Xb(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const s=typeof t;if(s==="number")return hL(t);if(s==="string")return e?`"${t}"`:t;if(s==="function")return"[Function "+(t.name||"anonymous")+"]";if(s==="symbol")return uL.call(t).replace(fL,"Symbol($1)");const o=lL.call(t).slice(8,-1);return o==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):o==="Error"||t instanceof Error?"["+cL.call(t)+"]":o==="RegExp"?dL.call(t):null}function En(t,e){let s=Xb(t,e);return s!==null?s:JSON.stringify(t,function(o,n){let i=Xb(this[o],e);return i!==null?i:n},2)}function iE(t){return t==null?[]:[].concat(t)}let rE,aE,lE,mL=/\$\{\s*(\w+)\s*\}/g;rE=Symbol.toStringTag;class Zb{constructor(e,s,o,n){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[rE]="Error",this.name="ValidationError",this.value=s,this.path=o,this.type=n,this.errors=[],this.inner=[],iE(e).forEach(i=>{if(ps.isError(i)){this.errors.push(...i.errors);const r=i.inner.length?i.inner:[i];this.inner.push(...r)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}aE=Symbol.hasInstance;lE=Symbol.toStringTag;class ps extends Error{static formatError(e,s){const o=s.label||s.path||"this";return s=Object.assign({},s,{path:o,originalPath:s.path}),typeof e=="string"?e.replace(mL,(n,i)=>En(s[i])):typeof e=="function"?e(s):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,s,o,n,i){const r=new Zb(e,s,o,n);if(i)return r;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[lE]="Error",this.name=r.name,this.message=r.message,this.type=r.type,this.value=r.value,this.path=r.path,this.errors=r.errors,this.inner=r.inner,Error.captureStackTrace&&Error.captureStackTrace(this,ps)}static[aE](e){return Zb[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let uo={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:s,originalValue:o})=>{const n=o!=null&&o!==s?` (cast from the value \`${En(o,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${En(s,!0)}\``+n:`${t} must match the configured type. The validated value was: \`${En(s,!0)}\``+n}},us={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},sn={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Mf={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Pf={isValue:"${path} field must be ${value}"},Jl={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},pL={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},gL={notType:t=>{const{path:e,value:s,spec:o}=t,n=o.types.length;if(Array.isArray(s)){if(s.length<n)return`${e} tuple value has too few items, expected a length of ${n} but got ${s.length} for value: \`${En(s,!0)}\``;if(s.length>n)return`${e} tuple value has too many items, expected a length of ${n} but got ${s.length} for value: \`${En(s,!0)}\``}return ps.formatError(uo.notType,t)}};Object.assign(Object.create(null),{mixed:uo,string:us,number:sn,date:Mf,object:Jl,array:pL,boolean:Pf,tuple:gL});const pm=t=>t&&t.__isYupSchema__;class $c{static fromOptions(e,s){if(!s.then&&!s.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:o,then:n,otherwise:i}=s,r=typeof o=="function"?o:(...a)=>a.every(l=>l===o);return new $c(e,(a,l)=>{var d;let u=r(...a)?n:i;return(d=u==null?void 0:u(l))!=null?d:l})}constructor(e,s){this.fn=void 0,this.refs=e,this.refs=e,this.fn=s}resolve(e,s){let o=this.refs.map(i=>i.getValue(s==null?void 0:s.value,s==null?void 0:s.parent,s==null?void 0:s.context)),n=this.fn(o,e,s);if(n===void 0||n===e)return e;if(!pm(n))throw new TypeError("conditions must return a schema object");return n.resolve(s)}}const Dl={context:"$",value:"."};function bL(t,e){return new Rn(t,e)}class Rn{constructor(e,s={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Dl.context,this.isValue=this.key[0]===Dl.value,this.isSibling=!this.isContext&&!this.isValue;let o=this.isContext?Dl.context:this.isValue?Dl.value:"";this.path=this.key.slice(o.length),this.getter=this.path&&ui.getter(this.path,!0),this.map=s.map}getValue(e,s,o){let n=this.isContext?o:this.isValue?e:s;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(e,s){return this.getValue(e,s==null?void 0:s.parent,s==null?void 0:s.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Rn.prototype.__isYupRef=!0;const Xs=t=>t==null;function Ii(t){function e({value:s,path:o="",options:n,originalValue:i,schema:r},a,l){const{name:d,test:u,params:f,message:h,skipAbsent:m}=t;let{parent:g,context:b,abortEarly:v=r.spec.abortEarly,disableStackTrace:w=r.spec.disableStackTrace}=n;function E(L){return Rn.isRef(L)?L.getValue(s,g,b):L}function _(L={}){const N=Object.assign({value:s,originalValue:i,label:r.spec.label,path:L.path||o,spec:r.spec,disableStackTrace:L.disableStackTrace||w},f,L.params);for(const G of Object.keys(N))N[G]=E(N[G]);const z=new ps(ps.formatError(L.message||h,N),s,N.path,L.type||d,N.disableStackTrace);return z.params=N,z}const D=v?a:l;let k={path:o,parent:g,type:d,from:n.from,createError:_,resolve:E,options:n,originalValue:i,schema:r};const T=L=>{ps.isError(L)?D(L):L?l(null):D(_())},O=L=>{ps.isError(L)?D(L):a(L)};if(m&&Xs(s))return T(!0);let M;try{var F;if(M=u.call(k,s,k),typeof((F=M)==null?void 0:F.then)=="function"){if(n.sync)throw new Error(`Validation test of type: "${k.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(M).then(T,O)}}catch(L){O(L);return}T(M)}return e.OPTIONS=t,e}function vL(t,e,s,o=s){let n,i,r;return e?(ui.forEach(e,(a,l,d)=>{let u=l?a.slice(1,a.length-1):a;t=t.resolve({context:o,parent:n,value:s});let f=t.type==="tuple",h=d?parseInt(u,10):0;if(t.innerType||f){if(f&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${r}" must contain an index to the tuple element, e.g. "${r}[0]"`);if(s&&h>=s.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);n=s,s=s&&s[h],t=f?t.spec.types[h]:t.innerType}if(!d){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${r} which is a type: "${t.type}")`);n=s,s=s&&s[u],t=t.fields[u]}i=u,r=l?"["+a+"]":"."+a}),{schema:t,parent:n,parentPath:i}):{parent:n,parentPath:e,schema:t}}class Vc extends Set{describe(){const e=[];for(const s of this.values())e.push(Rn.isRef(s)?s.describe():s);return e}resolveAll(e){let s=[];for(const o of this.values())s.push(e(o));return s}clone(){return new Vc(this.values())}merge(e,s){const o=this.clone();return e.forEach(n=>o.add(n)),s.forEach(n=>o.delete(n)),o}}function $i(t,e=new Map){if(pm(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let s;if(t instanceof Date)s=new Date(t.getTime()),e.set(t,s);else if(t instanceof RegExp)s=new RegExp(t),e.set(t,s);else if(Array.isArray(t)){s=new Array(t.length),e.set(t,s);for(let o=0;o<t.length;o++)s[o]=$i(t[o],e)}else if(t instanceof Map){s=new Map,e.set(t,s);for(const[o,n]of t.entries())s.set(o,$i(n,e))}else if(t instanceof Set){s=new Set,e.set(t,s);for(const o of t)s.add($i(o,e))}else if(t instanceof Object){s={},e.set(t,s);for(const[o,n]of Object.entries(t))s[o]=$i(n,e)}else throw Error(`Unable to clone ${t}`);return s}class Vs{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Vc,this._blacklist=new Vc,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(uo.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(s=>{s.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const s=Object.create(Object.getPrototypeOf(this));return s.type=this.type,s._typeCheck=this._typeCheck,s._whitelist=this._whitelist.clone(),s._blacklist=this._blacklist.clone(),s.internalTests=Object.assign({},this.internalTests),s.exclusiveTests=Object.assign({},this.exclusiveTests),s.deps=[...this.deps],s.conditions=[...this.conditions],s.tests=[...this.tests],s.transforms=[...this.transforms],s.spec=$i(Object.assign({},this.spec,e)),s}label(e){let s=this.clone();return s.spec.label=e,s}meta(...e){if(e.length===0)return this.spec.meta;let s=this.clone();return s.spec.meta=Object.assign(s.spec.meta||{},e[0]),s}withMutation(e){let s=this._mutate;this._mutate=!0;let o=e(this);return this._mutate=s,o}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let s=this,o=e.clone();const n=Object.assign({},s.spec,o.spec);return o.spec=n,o.internalTests=Object.assign({},s.internalTests,o.internalTests),o._whitelist=s._whitelist.merge(e._whitelist,e._blacklist),o._blacklist=s._blacklist.merge(e._blacklist,e._whitelist),o.tests=s.tests,o.exclusiveTests=s.exclusiveTests,o.withMutation(i=>{e.tests.forEach(r=>{i.test(r.OPTIONS)})}),o.transforms=[...s.transforms,...o.transforms],o}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let s=this;if(s.conditions.length){let o=s.conditions;s=s.clone(),s.conditions=[],s=o.reduce((n,i)=>i.resolve(n,e),s),s=s.resolve(e)}return s}resolveOptions(e){var s,o,n,i;return Object.assign({},e,{from:e.from||[],strict:(s=e.strict)!=null?s:this.spec.strict,abortEarly:(o=e.abortEarly)!=null?o:this.spec.abortEarly,recursive:(n=e.recursive)!=null?n:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,s={}){let o=this.resolve(Object.assign({value:e},s)),n=s.assert==="ignore-optionality",i=o._cast(e,s);if(s.assert!==!1&&!o.isType(i)){if(n&&Xs(i))return i;let r=En(e),a=En(i);throw new TypeError(`The value of ${s.path||"field"} could not be cast to a value that satisfies the schema type: "${o.type}". 

attempted value: ${r} 
`+(a!==r?`result of cast: ${a}`:""))}return i}_cast(e,s){let o=e===void 0?e:this.transforms.reduce((n,i)=>i.call(this,n,e,this),e);return o===void 0&&(o=this.getDefault(s)),o}_validate(e,s={},o,n){let{path:i,originalValue:r=e,strict:a=this.spec.strict}=s,l=e;a||(l=this._cast(l,Object.assign({assert:!1},s)));let d=[];for(let u of Object.values(this.internalTests))u&&d.push(u);this.runTests({path:i,value:l,originalValue:r,options:s,tests:d},o,u=>{if(u.length)return n(u,l);this.runTests({path:i,value:l,originalValue:r,options:s,tests:this.tests},o,n)})}runTests(e,s,o){let n=!1,{tests:i,value:r,originalValue:a,path:l,options:d}=e,u=b=>{n||(n=!0,s(b,r))},f=b=>{n||(n=!0,o(b,r))},h=i.length,m=[];if(!h)return f([]);let g={value:r,originalValue:a,path:l,options:d,schema:this};for(let b=0;b<i.length;b++){const v=i[b];v(g,u,function(E){E&&(Array.isArray(E)?m.push(...E):m.push(E)),--h<=0&&f(m)})}}asNestedTest({key:e,index:s,parent:o,parentPath:n,originalParent:i,options:r}){const a=e??s;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let d=o[a];const u=Object.assign({},r,{strict:!0,parent:o,value:d,originalValue:i[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${n||""}[${l?a:`"${a}"`}]`:(n?`${n}.`:"")+e});return(f,h,m)=>this.resolve(u)._validate(d,u,h,m)}validate(e,s){var o;let n=this.resolve(Object.assign({},s,{value:e})),i=(o=s==null?void 0:s.disableStackTrace)!=null?o:n.spec.disableStackTrace;return new Promise((r,a)=>n._validate(e,s,(l,d)=>{ps.isError(l)&&(l.value=d),a(l)},(l,d)=>{l.length?a(new ps(l,d,void 0,void 0,i)):r(d)}))}validateSync(e,s){var o;let n=this.resolve(Object.assign({},s,{value:e})),i,r=(o=s==null?void 0:s.disableStackTrace)!=null?o:n.spec.disableStackTrace;return n._validate(e,Object.assign({},s,{sync:!0}),(a,l)=>{throw ps.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new ps(a,e,void 0,void 0,r);i=l}),i}isValid(e,s){return this.validate(e,s).then(()=>!0,o=>{if(ps.isError(o))return!1;throw o})}isValidSync(e,s){try{return this.validateSync(e,s),!0}catch(o){if(ps.isError(o))return!1;throw o}}_getDefault(e){let s=this.spec.default;return s==null?s:typeof s=="function"?s.call(this,e):$i(s)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,s){const o=this.clone({nullable:e});return o.internalTests.nullable=Ii({message:s,name:"nullable",test(n){return n===null?this.schema.spec.nullable:!0}}),o}optionality(e,s){const o=this.clone({optional:e});return o.internalTests.optionality=Ii({message:s,name:"optionality",test(n){return n===void 0?this.schema.spec.optional:!0}}),o}optional(){return this.optionality(!0)}defined(e=uo.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=uo.notNull){return this.nullability(!1,e)}required(e=uo.required){return this.clone().withMutation(s=>s.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let s=this.clone();return s.transforms.push(e),s}test(...e){let s;if(e.length===1?typeof e[0]=="function"?s={test:e[0]}:s=e[0]:e.length===2?s={name:e[0],test:e[1]}:s={name:e[0],message:e[1],test:e[2]},s.message===void 0&&(s.message=uo.default),typeof s.test!="function")throw new TypeError("`test` is a required parameters");let o=this.clone(),n=Ii(s),i=s.exclusive||s.name&&o.exclusiveTests[s.name]===!0;if(s.exclusive&&!s.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return s.name&&(o.exclusiveTests[s.name]=!!s.exclusive),o.tests=o.tests.filter(r=>!(r.OPTIONS.name===s.name&&(i||r.OPTIONS.test===n.OPTIONS.test))),o.tests.push(n),o}when(e,s){!Array.isArray(e)&&typeof e!="string"&&(s=e,e=".");let o=this.clone(),n=iE(e).map(i=>new Rn(i));return n.forEach(i=>{i.isSibling&&o.deps.push(i.key)}),o.conditions.push(typeof s=="function"?new $c(n,s):$c.fromOptions(n,s)),o}typeError(e){let s=this.clone();return s.internalTests.typeError=Ii({message:e,name:"typeError",skipAbsent:!0,test(o){return this.schema._typeCheck(o)?!0:this.createError({params:{type:this.schema.type}})}}),s}oneOf(e,s=uo.oneOf){let o=this.clone();return e.forEach(n=>{o._whitelist.add(n),o._blacklist.delete(n)}),o.internalTests.whiteList=Ii({message:s,name:"oneOf",skipAbsent:!0,test(n){let i=this.schema._whitelist,r=i.resolveAll(this.resolve);return r.includes(n)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:r}})}}),o}notOneOf(e,s=uo.notOneOf){let o=this.clone();return e.forEach(n=>{o._blacklist.add(n),o._whitelist.delete(n)}),o.internalTests.blacklist=Ii({message:s,name:"notOneOf",test(n){let i=this.schema._blacklist,r=i.resolveAll(this.resolve);return r.includes(n)?this.createError({params:{values:Array.from(i).join(", "),resolved:r}}):!0}}),o}strip(e=!0){let s=this.clone();return s.spec.strip=e,s}describe(e){const s=(e?this.resolve(e):this).clone(),{label:o,meta:n,optional:i,nullable:r}=s.spec;return{meta:n,label:o,optional:i,nullable:r,default:s.getDefault(e),type:s.type,oneOf:s._whitelist.describe(),notOneOf:s._blacklist.describe(),tests:s.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,d,u)=>u.findIndex(f=>f.name===l.name)===d)}}}Vs.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Vs.prototype[`${t}At`]=function(e,s,o={}){const{parent:n,parentPath:i,schema:r}=vL(this,e,s,o.context);return r[t](n&&n[i],Object.assign({},o,{parent:n,path:e}))};for(const t of["equals","is"])Vs.prototype[t]=Vs.prototype.oneOf;for(const t of["not","nope"])Vs.prototype[t]=Vs.prototype.notOneOf;function Cr(){return new cE}class cE extends Vs{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,s,o)=>{if(o.spec.coerce&&!o.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=Pf.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(s){return Xs(s)||s===!0}})}isFalse(e=Pf.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(s){return Xs(s)||s===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Cr.prototype=cE.prototype;const yL=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function _L(t){const e=If(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let s=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(s=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(s=0-s)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+s,e.second,e.millisecond)}function If(t){var e,s;const o=yL.exec(t);return o?{year:Do(o[1]),month:Do(o[2],1)-1,day:Do(o[3],1),hour:Do(o[4]),minute:Do(o[5]),second:Do(o[6]),millisecond:o[7]?Do(o[7].substring(0,3)):0,precision:(e=(s=o[7])==null?void 0:s.length)!=null?e:void 0,z:o[8]||void 0,plusMinus:o[9]||void 0,hourOffset:Do(o[10]),minuteOffset:Do(o[11])}:null}function Do(t,e=0){return Number(t)||e}let EL=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,wL=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,CL=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,SL="^\\d{4}-\\d{2}-\\d{2}",xL="\\d{2}:\\d{2}:\\d{2}",kL="(([+-]\\d{2}(:?\\d{2})?)|Z)",DL=new RegExp(`${SL}T${xL}(\\.\\d+)?${kL}$`),AL=t=>Xs(t)||t===t.trim(),TL={}.toString();function Qe(){return new dE}class dE extends Vs{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,s,o)=>{if(!o.spec.coerce||o.isType(e)||Array.isArray(e))return e;const n=e!=null&&e.toString?e.toString():e;return n===TL?e:n})})}required(e){return super.required(e).withMutation(s=>s.test({message:e||uo.required,name:"required",skipAbsent:!0,test:o=>!!o.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(s=>s.OPTIONS.name!=="required"),e))}length(e,s=us.length){return this.test({message:s,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(o){return o.length===this.resolve(e)}})}min(e,s=us.min){return this.test({message:s,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(o){return o.length>=this.resolve(e)}})}max(e,s=us.max){return this.test({name:"max",exclusive:!0,message:s,params:{max:e},skipAbsent:!0,test(o){return o.length<=this.resolve(e)}})}matches(e,s){let o=!1,n,i;return s&&(typeof s=="object"?{excludeEmptyString:o=!1,message:n,name:i}=s:n=s),this.test({name:i||"matches",message:n||us.matches,params:{regex:e},skipAbsent:!0,test:r=>r===""&&o||r.search(e)!==-1})}email(e=us.email){return this.matches(EL,{name:"email",message:e,excludeEmptyString:!0})}url(e=us.url){return this.matches(wL,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=us.uuid){return this.matches(CL,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let s="",o,n;return e&&(typeof e=="object"?{message:s="",allowOffset:o=!1,precision:n=void 0}=e:s=e),this.matches(DL,{name:"datetime",message:s||us.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:s||us.datetime_offset,params:{allowOffset:o},skipAbsent:!0,test:i=>{if(!i||o)return!0;const r=If(i);return r?!!r.z:!1}}).test({name:"datetime_precision",message:s||us.datetime_precision,params:{precision:n},skipAbsent:!0,test:i=>{if(!i||n==null)return!0;const r=If(i);return r?r.precision===n:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=us.trim){return this.transform(s=>s!=null?s.trim():s).test({message:e,name:"trim",test:AL})}lowercase(e=us.lowercase){return this.transform(s=>Xs(s)?s:s.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:s=>Xs(s)||s===s.toLowerCase()})}uppercase(e=us.uppercase){return this.transform(s=>Xs(s)?s:s.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:s=>Xs(s)||s===s.toUpperCase()})}}Qe.prototype=dE.prototype;let ML=t=>t!=+t;function fr(){return new uE}class uE extends Vs{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!ML(e)}}),this.withMutation(()=>{this.transform((e,s,o)=>{if(!o.spec.coerce)return e;let n=e;if(typeof n=="string"){if(n=n.replace(/\s/g,""),n==="")return NaN;n=+n}return o.isType(n)||n===null?n:parseFloat(n)})})}min(e,s=sn.min){return this.test({message:s,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(o){return o>=this.resolve(e)}})}max(e,s=sn.max){return this.test({message:s,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(o){return o<=this.resolve(e)}})}lessThan(e,s=sn.lessThan){return this.test({message:s,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(o){return o<this.resolve(e)}})}moreThan(e,s=sn.moreThan){return this.test({message:s,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(o){return o>this.resolve(e)}})}positive(e=sn.positive){return this.moreThan(0,e)}negative(e=sn.negative){return this.lessThan(0,e)}integer(e=sn.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:s=>Number.isInteger(s)})}truncate(){return this.transform(e=>Xs(e)?e:e|0)}round(e){var s;let o=["ceil","floor","round","trunc"];if(e=((s=e)==null?void 0:s.toLowerCase())||"round",e==="trunc")return this.truncate();if(o.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+o.join(", "));return this.transform(n=>Xs(n)?n:Math[e](n))}}fr.prototype=uE.prototype;let fE=new Date(""),PL=t=>Object.prototype.toString.call(t)==="[object Date]";function hr(){return new el}class el extends Vs{constructor(){super({type:"date",check(e){return PL(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,s,o)=>!o.spec.coerce||o.isType(e)||e===null?e:(e=_L(e),isNaN(e)?el.INVALID_DATE:new Date(e)))})}prepareParam(e,s){let o;if(Rn.isRef(e))o=e;else{let n=this.cast(e);if(!this._typeCheck(n))throw new TypeError(`\`${s}\` must be a Date or a value that can be \`cast()\` to a Date`);o=n}return o}min(e,s=Mf.min){let o=this.prepareParam(e,"min");return this.test({message:s,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(o)}})}max(e,s=Mf.max){let o=this.prepareParam(e,"max");return this.test({message:s,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(o)}})}}el.INVALID_DATE=fE;hr.prototype=el.prototype;hr.INVALID_DATE=fE;function IL(t,e=[]){let s=[],o=new Set,n=new Set(e.map(([r,a])=>`${r}-${a}`));function i(r,a){let l=ui.split(r)[0];o.add(l),n.has(`${a}-${l}`)||s.push([a,l])}for(const r of Object.keys(t)){let a=t[r];o.add(r),Rn.isRef(a)&&a.isSibling?i(a.path,r):pm(a)&&"deps"in a&&a.deps.forEach(l=>i(l,r))}return aL.array(Array.from(o),s).reverse()}function Yb(t,e){let s=1/0;return t.some((o,n)=>{var i;if((i=e.path)!=null&&i.includes(o))return s=n,!0}),s}function hE(t){return(e,s)=>Yb(t,e)-Yb(t,s)}const FL=(t,e,s)=>{if(typeof t!="string")return t;let o=t;try{o=JSON.parse(t)}catch{}return s.isType(o)?o:t};function Ql(t){if("fields"in t){const e={};for(const[s,o]of Object.entries(t.fields))e[s]=Ql(o);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Ql(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Ql)}):"optional"in t?t.optional():t}const RL=(t,e)=>{const s=[...ui.normalizePath(e)];if(s.length===1)return s[0]in t;let o=s.pop(),n=ui.getter(ui.join(s),!0)(t);return!!(n&&o in n)};let Jb=t=>Object.prototype.toString.call(t)==="[object Object]";function Qb(t,e){let s=Object.keys(t.fields);return Object.keys(e).filter(o=>s.indexOf(o)===-1)}const OL=hE([]);function Xo(t){return new mE(t)}class mE extends Vs{constructor(e){super({type:"object",check(s){return Jb(s)||typeof s=="function"}}),this.fields=Object.create(null),this._sortErrors=OL,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,s={}){var o;let n=super._cast(e,s);if(n===void 0)return this.getDefault(s);if(!this._typeCheck(n))return n;let i=this.fields,r=(o=s.stripUnknown)!=null?o:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(n).filter(f=>!this._nodes.includes(f))),l={},d=Object.assign({},s,{parent:l,__validating:s.__validating||!1}),u=!1;for(const f of a){let h=i[f],m=f in n;if(h){let g,b=n[f];d.path=(s.path?`${s.path}.`:"")+f,h=h.resolve({value:b,context:s.context,parent:l});let v=h instanceof Vs?h.spec:void 0,w=v==null?void 0:v.strict;if(v!=null&&v.strip){u=u||f in n;continue}g=!s.__validating||!w?h.cast(n[f],d):n[f],g!==void 0&&(l[f]=g)}else m&&!r&&(l[f]=n[f]);(m!==f in l||l[f]!==n[f])&&(u=!0)}return u?l:n}_validate(e,s={},o,n){let{from:i=[],originalValue:r=e,recursive:a=this.spec.recursive}=s;s.from=[{schema:this,value:r},...i],s.__validating=!0,s.originalValue=r,super._validate(e,s,o,(l,d)=>{if(!a||!Jb(d)){n(l,d);return}r=r||d;let u=[];for(let f of this._nodes){let h=this.fields[f];!h||Rn.isRef(h)||u.push(h.asNestedTest({options:s,key:f,parent:d,parentPath:s.path,originalParent:r}))}this.runTests({tests:u,value:d,originalValue:r,options:s},o,f=>{n(f.sort(this._sortErrors).concat(l),d)})})}clone(e){const s=super.clone(e);return s.fields=Object.assign({},this.fields),s._nodes=this._nodes,s._excludedEdges=this._excludedEdges,s._sortErrors=this._sortErrors,s}concat(e){let s=super.concat(e),o=s.fields;for(let[n,i]of Object.entries(this.fields)){const r=o[n];o[n]=r===void 0?i:r}return s.withMutation(n=>n.setFields(o,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let s={};return this._nodes.forEach(o=>{var n;const i=this.fields[o];let r=e;(n=r)!=null&&n.value&&(r=Object.assign({},r,{parent:r.value,value:r.value[o]})),s[o]=i&&"getDefault"in i?i.getDefault(r):void 0}),s}setFields(e,s){let o=this.clone();return o.fields=e,o._nodes=IL(e,s),o._sortErrors=hE(Object.keys(e)),s&&(o._excludedEdges=s),o}shape(e,s=[]){return this.clone().withMutation(o=>{let n=o._excludedEdges;return s.length&&(Array.isArray(s[0])||(s=[s]),n=[...o._excludedEdges,...s]),o.setFields(Object.assign(o.fields,e),n)})}partial(){const e={};for(const[s,o]of Object.entries(this.fields))e[s]="optional"in o&&o.optional instanceof Function?o.optional():o;return this.setFields(e)}deepPartial(){return Ql(this)}pick(e){const s={};for(const o of e)this.fields[o]&&(s[o]=this.fields[o]);return this.setFields(s,this._excludedEdges.filter(([o,n])=>e.includes(o)&&e.includes(n)))}omit(e){const s=[];for(const o of Object.keys(this.fields))e.includes(o)||s.push(o);return this.pick(s)}from(e,s,o){let n=ui.getter(e,!0);return this.transform(i=>{if(!i)return i;let r=i;return RL(i,e)&&(r=Object.assign({},i),o||delete r[e],r[s]=n(i)),r})}json(){return this.transform(FL)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Jl.exact,test(s){if(s==null)return!0;const o=Qb(this.schema,s);return o.length===0||this.createError({params:{properties:o.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,s=Jl.noUnknown){typeof e!="boolean"&&(s=e,e=!0);let o=this.test({name:"noUnknown",exclusive:!0,message:s,test(n){if(n==null)return!0;const i=Qb(this.schema,n);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return o.spec.noUnknown=e,o}unknown(e=!0,s=Jl.noUnknown){return this.noUnknown(!e,s)}transformKeys(e){return this.transform(s=>{if(!s)return s;const o={};for(const n of Object.keys(s))o[e(n)]=s[n];return o})}camelCase(){return this.transformKeys(yu.camelCase)}snakeCase(){return this.transformKeys(yu.snakeCase)}constantCase(){return this.transformKeys(e=>yu.snakeCase(e).toUpperCase())}describe(e){const s=(e?this.resolve(e):this).clone(),o=super.describe(e);o.fields={};for(const[i,r]of Object.entries(s.fields)){var n;let a=e;(n=a)!=null&&n.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),o.fields[i]=r.describe(a)}return o}}Xo.prototype=mE.prototype;const NL=Xo().shape({nombre_usuario:Qe().required("El nombre de usuario es requerido").min(3,"El nombre de usuario debe tener al menos 3 caracteres").max(50,"El nombre de usuario no puede exceder los 50 caracteres").matches(/^[a-zA-Z0-9._-]+$/,"El nombre de usuario solo puede contener letras, números, puntos, guiones y guiones bajos"),email:Qe().required("El email es requerido").email("Debe ser un email válido").max(100,"El email no puede exceder los 100 caracteres"),password_hash:Qe().required("La contraseña es requerida").min(8,"La contraseña debe tener al menos 8 caracteres").max(255,"La contraseña no puede exceder los 255 caracteres"),nombre:Qe().required("El nombre es requerido").max(50,"El nombre no puede exceder los 50 caracteres"),apellidos:Qe().required("Los apellidos son requeridos").max(100,"Los apellidos no pueden exceder los 100 caracteres"),id_rol:fr().required("El rol es requerido").positive("El ID del rol debe ser un número positivo").integer("El ID del rol debe ser un número entero"),activo:Cr().default(!0)}),LL=Xo().shape({nombre_usuario:Qe().min(3,"El nombre de usuario debe tener al menos 3 caracteres").max(50,"El nombre de usuario no puede exceder los 50 caracteres").matches(/^[a-zA-Z0-9._-]+$/,"El nombre de usuario solo puede contener letras, números, puntos, guiones y guiones bajos"),email:Qe().email("Debe ser un email válido").max(100,"El email no puede exceder los 100 caracteres"),nombre:Qe().max(50,"El nombre no puede exceder los 50 caracteres"),apellidos:Qe().max(100,"Los apellidos no pueden exceder los 100 caracteres"),id_rol:fr().positive("El ID del rol debe ser un número positivo").integer("El ID del rol debe ser un número entero"),activo:Cr()});Xo().shape({currentPassword:Qe().required("La contraseña actual es requerida"),newPassword:Qe().required("La nueva contraseña es requerida").min(8,"La nueva contraseña debe tener al menos 8 caracteres").max(255,"La nueva contraseña no puede exceder los 255 caracteres").notOneOf([bL("currentPassword")],"La nueva contraseña debe ser diferente a la actual")});Xo().shape({newPassword:Qe().required("La nueva contraseña es requerida").min(8,"La nueva contraseña debe tener al menos 8 caracteres").max(255,"La nueva contraseña no puede exceder los 255 caracteres")});Xo().shape({activo:Cr().required("El estado (activo) es requerido")});const zL=async t=>{try{return{isValid:!0,data:await NL.validate(t,{abortEarly:!1}),errors:{}}}catch(e){const s={};return e.inner&&e.inner.forEach(o=>{s[o.path]=o.message}),{isValid:!1,data:t,errors:s}}},$L=async t=>{try{return{isValid:!0,data:await LL.validate(t,{abortEarly:!1}),errors:{}}}catch(e){const s={};return e.inner&&e.inner.forEach(o=>{s[o.path]=o.message}),{isValid:!1,data:t,errors:s}}},VL={name:"UsuarioNuevo",components:{DefaultLayout:Yt,PasswordInput:cm,ArrowLeft:Er,Save:wo,Loader:At,Eye:Ko,EyeOff:G1},setup(){const t=_r(),e=dm(),s=Qa(),o=X(),{roles:n}=Wa(s),i=ge(!1),r=ge(!1),a=yo({nombre:"",apellidos:"",email:"",nombre_usuario:"",password_hash:"",id_rol:"",activo:!0}),l=yo({nombre:"",apellidos:"",email:"",nombre_usuario:"",password_hash:"",id_rol:""});is(async()=>{n.value.length===0&&await s.fetchRoles()});const d=async()=>{a.id_rol&&(a.id_rol=Number(a.id_rol));const h=await zL(a);return h.isValid?(Object.keys(l).forEach(m=>{l[m]=""}),!0):(Object.assign(l,h.errors),!1)};return{usuario:a,errors:l,loading:i,showPassword:r,guardarUsuario:async()=>{if(!await d()){o.error("Por favor, corrige los errores en el formulario","Error de validación");return}i.value=!0;try{await e.createUsuario(a)?(o.success("Usuario creado correctamente","Éxito"),t.push("/usuarios")):o.error("No se pudo crear el usuario","Error")}catch(m){o.error(m.message||"Error al crear el usuario","Error")}finally{i.value=!1}},goBack:()=>{t.push("/usuarios")},roles:n}}},BL={class:"usuario-nuevo-page"},UL={class:"page-header"},jL={class:"header-left"},HL={class:"card"},qL={class:"card-body"},WL={class:"form-section"},KL={class:"form-row"},GL={class:"form-group"},XL={key:0,class:"invalid-feedback"},ZL={class:"form-group"},YL={key:0,class:"invalid-feedback"},JL={class:"form-row"},QL={class:"form-group"},ez={key:0,class:"invalid-feedback"},tz={class:"form-section"},sz={class:"form-row"},oz={class:"form-group"},nz={key:0,class:"invalid-feedback"},iz={class:"form-group"},rz={class:"form-row"},az={class:"form-group"},lz=["value"],cz={key:0,class:"invalid-feedback"},dz={class:"form-group"},uz={class:"toggle-container"},fz={class:"toggle"},hz={class:"toggle-label"},mz={class:"form-actions"},pz=["disabled"],gz=["disabled"];function bz(t,e,s,o,n,i){const r=C("ArrowLeft"),a=C("PasswordInput"),l=C("Loader"),d=C("Save"),u=C("DefaultLayout");return p(),q(u,null,{default:Ee(()=>[c("div",BL,[c("div",UL,[c("div",jL,[c("button",{onClick:e[0]||(e[0]=(...f)=>o.goBack&&o.goBack(...f)),class:"btn-back"},[x(r,{size:"20"}),e[10]||(e[10]=c("span",null,"Volver",-1))]),e[11]||(e[11]=c("h1",null,"Nuevo Usuario",-1))])]),c("div",HL,[e[29]||(e[29]=c("div",{class:"card-header"},[c("h2",null,"Información del Usuario"),c("p",null,"Completa el formulario para crear un nuevo usuario en el sistema.")],-1)),c("div",qL,[c("form",{onSubmit:e[9]||(e[9]=Ve((...f)=>o.guardarUsuario&&o.guardarUsuario(...f),["prevent"])),class:"form"},[c("div",WL,[e[15]||(e[15]=c("h3",null,"Datos personales",-1)),c("div",KL,[c("div",GL,[e[12]||(e[12]=c("label",{for:"nombre"},"Nombre *",-1)),se(c("input",{id:"nombre","onUpdate:modelValue":e[1]||(e[1]=f=>o.usuario.nombre=f),type:"text",class:j(["form-control",{"is-invalid":o.errors.nombre}]),placeholder:"Nombre del usuario",required:""},null,2),[[fe,o.usuario.nombre]]),o.errors.nombre?(p(),y("div",XL,S(o.errors.nombre),1)):I("",!0)]),c("div",ZL,[e[13]||(e[13]=c("label",{for:"apellidos"},"Apellidos *",-1)),se(c("input",{id:"apellidos","onUpdate:modelValue":e[2]||(e[2]=f=>o.usuario.apellidos=f),type:"text",class:j(["form-control",{"is-invalid":o.errors.apellidos}]),placeholder:"Apellidos del usuario",required:""},null,2),[[fe,o.usuario.apellidos]]),o.errors.apellidos?(p(),y("div",YL,S(o.errors.apellidos),1)):I("",!0)])]),c("div",JL,[c("div",QL,[e[14]||(e[14]=c("label",{for:"email"},"Email *",-1)),se(c("input",{id:"email","onUpdate:modelValue":e[3]||(e[3]=f=>o.usuario.email=f),type:"email",class:j(["form-control",{"is-invalid":o.errors.email}]),placeholder:"correo@ejemplo.com",required:""},null,2),[[fe,o.usuario.email]]),o.errors.email?(p(),y("div",ez,S(o.errors.email),1)):I("",!0)])])]),c("div",tz,[e[27]||(e[27]=c("h3",null,"Datos de la cuenta",-1)),c("div",sz,[c("div",oz,[e[16]||(e[16]=c("label",{for:"nombre_usuario"},"Nombre de usuario *",-1)),se(c("input",{id:"nombre_usuario","onUpdate:modelValue":e[4]||(e[4]=f=>o.usuario.nombre_usuario=f),type:"text",class:j(["form-control",{"is-invalid":o.errors.nombre_usuario}]),placeholder:"nombre.usuario",required:""},null,2),[[fe,o.usuario.nombre_usuario]]),o.errors.nombre_usuario?(p(),y("div",nz,S(o.errors.nombre_usuario),1)):I("",!0),e[17]||(e[17]=c("small",{class:"form-text text-muted"}," Solo puede contener letras, números, puntos, guiones y guiones bajos. ",-1))]),c("div",iz,[e[18]||(e[18]=c("label",{for:"password_hash"},"Contraseña *",-1)),x(a,{id:"password_hash",modelValue:o.usuario.password_hash,"onUpdate:modelValue":e[5]||(e[5]=f=>o.usuario.password_hash=f),label:"",placeholder:"Contraseña",error:o.errors.password_hash,helpText:"Debe tener al menos 8 caracteres.",required:""},null,8,["modelValue","error"])])]),c("div",rz,[c("div",az,[e[24]||(e[24]=c("label",{for:"id_rol"},"Rol *",-1)),se(c("select",{id:"id_rol","onUpdate:modelValue":e[6]||(e[6]=f=>o.usuario.id_rol=f),class:j(["form-control",{"is-invalid":o.errors.id_rol}]),required:""},[e[23]||(e[23]=c("option",{value:""},"Selecciona un rol",-1)),(p(!0),y(he,null,De(o.roles,f=>(p(),y("option",{key:f.id_rol,value:f.id_rol},S(f.nombre),9,lz))),128)),o.roles.length===0?(p(),y(he,{key:0},[e[19]||(e[19]=c("option",{value:"1"},"Administrador",-1)),e[20]||(e[20]=c("option",{value:"2"},"Gerente",-1)),e[21]||(e[21]=c("option",{value:"3"},"RRHH",-1)),e[22]||(e[22]=c("option",{value:"4"},"Usuario",-1))],64)):I("",!0)],2),[[_t,o.usuario.id_rol]]),o.errors.id_rol?(p(),y("div",cz,S(o.errors.id_rol),1)):I("",!0)]),c("div",dz,[e[26]||(e[26]=c("label",{for:"activo"},"Estado",-1)),c("div",uz,[c("label",fz,[se(c("input",{id:"activo","onUpdate:modelValue":e[7]||(e[7]=f=>o.usuario.activo=f),type:"checkbox"},null,512),[[Sn,o.usuario.activo]]),e[25]||(e[25]=c("span",{class:"toggle-slider"},null,-1))]),c("span",hz,S(o.usuario.activo?"Activo":"Inactivo"),1)])])])]),c("div",mz,[c("button",{type:"button",onClick:e[8]||(e[8]=(...f)=>o.goBack&&o.goBack(...f)),class:"btn btn-outline-secondary",disabled:o.loading}," Cancelar ",8,pz),c("button",{type:"submit",class:"btn btn-primary",disabled:o.loading},[o.loading?(p(),q(l,{key:0,size:"16",class:"btn-icon spinner"})):(p(),q(d,{key:1,size:"16",class:"btn-icon"})),e[28]||(e[28]=V(" Guardar Usuario "))],8,gz)])],32)])])])]),_:1})}const vz=de(VL,[["render",bz],["__scopeId","data-v-e428eefe"]]),yz={name:"UsuarioDetalle",components:{DefaultLayout:Yt,LoadingSpinner:rs,PasswordInput:cm,User:Hh,Shield:wr,Lock:Q1,Edit:Tt,Save:wo,Trash2:Rt,ArrowLeft:Er,X:Xe,AlertTriangle:Ot,Key:VT,Loader:At,ToggleLeft:e0,ToggleRight:t0},setup(){const t=j1();_r();const e=dm(),s=Qa(),o=ns(),n=X(),{roles:i}=Wa(s),r=ge(null),a=ge(null),l=ge(!1),d=ge(null),u=ge("personal"),f=ge(!1),h=ge({}),m=ge(!1),g=ge({newPassword:"",confirmPassword:""}),b=ge({}),v=ge(!1),w=we(()=>o.hasPermission({nombre:"Usuarios",tipo:"Escritura"})),E=we(()=>r.value?r.value.id_rol===1&&r.value.activo&&r.value.es_ultimo_admin===!0:!1),_=we(()=>!r.value||!o.user?!1:r.value.id_usuario===o.user.id_usuario),D=async()=>{l.value=!0,d.value=null;try{const k=t.params.id,T=await e.fetchUsuarioById(k);r.value=T,T?a.value=JSON.parse(JSON.stringify(T)):d.value="No se pudo cargar la información del usuario"}catch(k){d.value=k.message||"Error al cargar el usuario"}finally{l.value=!1}};return is(async()=>{i.value.length===0&&await s.fetchRoles(),D()}),{usuario:r,originalUsuario:a,loading:l,error:d,activeTab:u,editMode:f,validationErrors:h,showDeleteModal:m,passwordData:g,passwordErrors:b,passwordLoading:v,canEdit:w,isLastAdmin:E,isCurrentUser:_,usuariosStore:e,rolesStore:s,authStore:o,notificationStore:n,loadUsuario:D,roles:i}},methods:{goBack(){this.$router.push("/usuarios")},getRolLabel(t){const e=this.rolesStore.getRolNombre(t);return e!==`Rol ${t}`?e:{1:"Administrador",2:"Gerente",3:"RRHH",4:"Usuario"}[t]||`Rol ${t}`},getRolBadgeClass(t){return{1:"badge-primary",2:"badge-warning",3:"badge-info",4:"badge-secondary"}[t]||"badge-secondary"},formatDate(t){if(!t)return null;const e=new Date(t);return isNaN(e.getTime())?"Fecha inválida":new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)},cancelEdit(){this.originalUsuario&&(this.usuario=JSON.parse(JSON.stringify(this.originalUsuario))),this.editMode=!1,this.validationErrors={}},async saveUsuario(){var t,e;try{this.isCurrentUser&&this.usuario.id_rol!==this.originalUsuario.id_rol&&(this.usuario.id_rol=this.originalUsuario.id_rol,this.notificationStore.warning("No puedes cambiar tu propio rol por razones de seguridad","Acción no permitida"));const{isValid:s,errors:o}=await $L(this.usuario);if(!s){this.validationErrors=o,this.notificationStore.error(Object.values(o)[0],"Error de validación");return}this.validationErrors={},this.loading=!0;const n=await this.usuariosStore.updateUsuario(this.usuario.id_usuario,this.usuario);n&&(this.originalUsuario=JSON.parse(JSON.stringify(n)),this.editMode=!1,this.notificationStore.success(`Usuario ${this.usuario.nombre} ${this.usuario.apellidos} editado exitosamente`,"Usuario actualizado"))}catch(s){this.notificationStore.error(((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||s.message||"Ha ocurrido un error al guardar los cambios","Error")}finally{this.loading=!1}},async toggleUsuarioStatus(){var t,e;if(this.isCurrentUser){this.notificationStore.warning("No puedes cambiar el estado de tu propia cuenta","Acción no permitida");return}try{const s=!this.usuario.activo;this.loading=!0,await this.usuariosStore.changeUsuarioStatus(this.usuario.id_usuario,s)&&(this.usuario.activo=s,this.originalUsuario=JSON.parse(JSON.stringify(this.usuario)),this.notificationStore.success(`Usuario ${s?"activado":"desactivado"} correctamente`,`Usuario ${s?"activado":"desactivado"}`))}catch(s){const o=((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||"";o.includes("último administrador")||o.includes("ultimo administrador")||o.includes("administrador activo")?this.notificationStore.error("No se puede desactivar el último administrador del sistema","Error"):this.notificationStore.error("No se pudo desactivar el usuario","Error")}finally{this.loading=!1}},async changePassword(){var t,e,s;if(this.passwordErrors={},this.passwordData.newPassword!==this.passwordData.confirmPassword){this.passwordErrors.confirmPassword="Las contraseñas no coinciden",this.notificationStore.error("Las contraseñas no coinciden","Error");return}if(this.passwordData.newPassword.length<8){this.passwordErrors.newPassword="La contraseña debe tener al menos 8 caracteres",this.notificationStore.error("La contraseña debe tener al menos 8 caracteres","Error");return}try{this.passwordLoading=!0,await this.usuariosStore.resetPassword(this.usuario.id_usuario,this.passwordData.newPassword)?(this.notificationStore.success("Contraseña cambiada exitosamente","Contraseña actualizada"),this.passwordData.newPassword="",this.passwordData.confirmPassword=""):this.notificationStore.error("No se pudo cambiar la contraseña","Error")}catch(o){const n=(t=o.response)==null?void 0:t.status,i=((s=(e=o.response)==null?void 0:e.data)==null?void 0:s.message)||"";n===400?i.includes("misma contraseña")||i.includes("same password")?(this.passwordErrors.newPassword="La nueva contraseña no puede ser igual a la actual",this.notificationStore.warning("Por seguridad, debes elegir una contraseña diferente a la actual","Contraseña sin cambios")):this.passwordErrors.newPassword="La nueva contraseña no cumple con los requisitos de seguridad":this.notificationStore.error("Error del servidor. Por favor, inténtelo de nuevo más tarde","Error del servidor")}finally{this.passwordLoading=!1}},async deleteUsuario(){var t,e,s;if(this.isCurrentUser){this.notificationStore.warning("No puedes eliminar tu propia cuenta de usuario","Acción no permitida"),this.showDeleteModal=!1;return}try{this.loading=!0,await this.usuariosStore.deleteUsuario(this.usuario.id_usuario)?(this.showDeleteModal=!1,this.notificationStore.success("Usuario eliminado correctamente","Usuario eliminado"),this.$router.push("/usuarios")):this.notificationStore.error("No se pudo eliminar el usuario","Error")}catch(o){(s=(e=(t=o.response)==null?void 0:t.data)==null?void 0:e.message)!=null&&s.includes("último administrador")?this.notificationStore.error("No se puede eliminar el último administrador del sistema","Error"):this.notificationStore.error("Error del servidor. Por favor, inténtelo de nuevo más tarde","Error del servidor")}finally{this.loading=!1,this.showDeleteModal=!1}}}},_z={class:"usuario-detalle-page"},Ez={class:"page-header"},wz={class:"header-left"},Cz={key:0},Sz={key:0,class:"header-actions"},xz=["disabled","title"],kz={key:0,class:"loading-container"},Dz={key:1,class:"error-container"},Az={class:"error-message"},Tz={key:2,class:"error-container"},Mz={class:"error-message"},Pz={key:3,class:"usuario-content"},Iz={class:"tabs"},Fz={class:"tab-content"},Rz={key:0,class:"tab-panel"},Oz={class:"card"},Nz={class:"card-body"},Lz={class:"form-grid"},zz={class:"form-group"},$z={key:1,class:"invalid-feedback"},Vz={key:2,class:"form-value"},Bz={class:"form-group"},Uz={key:1,class:"invalid-feedback"},jz={key:2,class:"form-value"},Hz={class:"form-group"},qz={key:1,class:"invalid-feedback"},Wz={key:2,class:"form-value"},Kz={key:1,class:"tab-panel"},Gz={class:"card"},Xz={class:"card-body"},Zz={class:"form-grid"},Yz={class:"form-group"},Jz=["disabled"],Qz=["value"],e5={key:1,class:"info-feedback"},t5={key:2,class:"invalid-feedback"},s5={key:3,class:"form-value"},o5={class:"form-group"},n5={class:"form-value"},i5={class:"form-group"},r5={class:"form-value"},a5={class:"form-group"},l5={class:"form-value"},c5={key:2,class:"tab-panel"},d5={class:"card"},u5={class:"card-body"},f5={class:"form-grid"},h5={class:"form-group"},m5={class:"form-group"},p5={class:"form-actions"},g5=["disabled"],b5={key:4,class:"modal-overlay"},v5={class:"modal-container"},y5={class:"modal-header"},_5={class:"modal-body"},E5={key:0,class:"alert alert-warning"},w5={key:1,class:"alert alert-warning"},C5={class:"modal-footer"},S5=["disabled"];function x5(t,e,s,o,n,i){const r=C("ArrowLeft"),a=C("ToggleRight"),l=C("ToggleLeft"),d=C("Edit"),u=C("Save"),f=C("X"),h=C("Trash2"),m=C("LoadingSpinner"),g=C("AlertTriangle"),b=C("User"),v=C("Shield"),w=C("Lock"),E=C("PasswordInput"),_=C("Key"),D=C("Loader"),k=C("DefaultLayout");return p(),q(k,null,{default:Ee(()=>[c("div",_z,[c("div",Ez,[c("div",wz,[c("button",{onClick:e[0]||(e[0]=(...T)=>i.goBack&&i.goBack(...T)),class:"btn btn-icon btn-ghost"},[x(r,{size:"18"}),e[21]||(e[21]=c("span",null,"Volver",-1))]),o.usuario?(p(),y("h1",Cz,S(o.usuario.nombre)+" "+S(o.usuario.apellidos),1)):I("",!0)]),o.usuario&&o.canEdit?(p(),y("div",Sz,[c("button",{onClick:e[1]||(e[1]=(...T)=>i.toggleUsuarioStatus&&i.toggleUsuarioStatus(...T)),class:j(["btn btn-status",o.usuario.activo?"btn-status-active":"btn-status-inactive"]),disabled:o.loading||o.isLastAdmin,title:o.isLastAdmin?"No se puede desactivar el último administrador del sistema":""},[o.usuario.activo?(p(),q(a,{key:0,size:"18",class:"btn-icon"})):(p(),q(l,{key:1,size:"18",class:"btn-icon"})),V(" "+S(o.usuario.activo?"Activo":"Inactivo"),1)],10,xz),o.editMode?I("",!0):(p(),y("button",{key:0,onClick:e[2]||(e[2]=T=>o.editMode=!0),class:"btn btn-primary"},[x(d,{size:"18",class:"btn-icon"}),e[22]||(e[22]=V(" Editar "))])),o.editMode?(p(),y("button",{key:1,onClick:e[3]||(e[3]=(...T)=>i.saveUsuario&&i.saveUsuario(...T)),class:"btn btn-success"},[x(u,{size:"18",class:"btn-icon"}),e[23]||(e[23]=V(" Guardar "))])):I("",!0),o.editMode?(p(),y("button",{key:2,onClick:e[4]||(e[4]=(...T)=>i.cancelEdit&&i.cancelEdit(...T)),class:"btn btn-secondary"},[x(f,{size:"18",class:"btn-icon"}),e[24]||(e[24]=V(" Cancelar "))])):I("",!0),c("button",{onClick:e[5]||(e[5]=T=>o.showDeleteModal=!0),class:"btn btn-danger"},[x(h,{size:"18",class:"btn-icon"}),e[25]||(e[25]=V(" Eliminar "))])])):I("",!0)]),o.loading&&!o.usuario?(p(),y("div",kz,[x(m,{message:"Cargando usuario..."})])):o.error?(p(),y("div",Dz,[c("div",Az,[x(g,{size:"24"}),c("p",null,S(o.error),1)]),c("button",{onClick:e[6]||(e[6]=(...T)=>o.loadUsuario&&o.loadUsuario(...T)),class:"btn btn-primary"},"Reintentar")])):o.usuario?(p(),y("div",Pz,[c("div",Iz,[c("button",{class:j(["tab-button",{active:o.activeTab==="personal"}]),onClick:e[8]||(e[8]=T=>o.activeTab="personal")},[x(b,{size:"18",class:"tab-icon"}),e[27]||(e[27]=V(" Datos Personales "))],2),c("button",{class:j(["tab-button",{active:o.activeTab==="cuenta"}]),onClick:e[9]||(e[9]=T=>o.activeTab="cuenta")},[x(v,{size:"18",class:"tab-icon"}),e[28]||(e[28]=V(" Información de Cuenta "))],2),c("button",{class:j(["tab-button",{active:o.activeTab==="seguridad"}]),onClick:e[10]||(e[10]=T=>o.activeTab="seguridad")},[x(w,{size:"18",class:"tab-icon"}),e[29]||(e[29]=V(" Seguridad "))],2)]),c("div",Fz,[o.activeTab==="personal"?(p(),y("div",Rz,[c("div",Oz,[e[33]||(e[33]=c("div",{class:"card-header"},[c("h2",null,"Datos Personales")],-1)),c("div",Nz,[c("div",Lz,[c("div",zz,[e[30]||(e[30]=c("label",null,"Nombre",-1)),o.editMode?se((p(),y("input",{key:0,"onUpdate:modelValue":e[11]||(e[11]=T=>o.usuario.nombre=T),type:"text",class:j(["form-control",{"is-invalid":o.validationErrors.nombre}])},null,2)),[[fe,o.usuario.nombre]]):I("",!0),o.editMode&&o.validationErrors.nombre?(p(),y("div",$z,S(o.validationErrors.nombre),1)):(p(),y("div",Vz,S(o.usuario.nombre),1))]),c("div",Bz,[e[31]||(e[31]=c("label",null,"Apellidos",-1)),o.editMode?se((p(),y("input",{key:0,"onUpdate:modelValue":e[12]||(e[12]=T=>o.usuario.apellidos=T),type:"text",class:j(["form-control",{"is-invalid":o.validationErrors.apellidos}])},null,2)),[[fe,o.usuario.apellidos]]):I("",!0),o.editMode&&o.validationErrors.apellidos?(p(),y("div",Uz,S(o.validationErrors.apellidos),1)):(p(),y("div",jz,S(o.usuario.apellidos),1))]),c("div",Hz,[e[32]||(e[32]=c("label",null,"Email",-1)),o.editMode?se((p(),y("input",{key:0,"onUpdate:modelValue":e[13]||(e[13]=T=>o.usuario.email=T),type:"email",class:j(["form-control",{"is-invalid":o.validationErrors.email}])},null,2)),[[fe,o.usuario.email]]):I("",!0),o.editMode&&o.validationErrors.email?(p(),y("div",qz,S(o.validationErrors.email),1)):(p(),y("div",Wz,S(o.usuario.email),1))])])])])])):I("",!0),o.activeTab==="cuenta"?(p(),y("div",Kz,[c("div",Gz,[e[38]||(e[38]=c("div",{class:"card-header"},[c("h2",null,"Información de Cuenta")],-1)),c("div",Xz,[c("div",Zz,[c("div",Yz,[e[34]||(e[34]=c("label",null,"Rol",-1)),o.editMode?se((p(),y("select",{key:0,"onUpdate:modelValue":e[14]||(e[14]=T=>o.usuario.id_rol=T),class:j(["form-control",{"is-invalid":o.validationErrors.id_rol}]),disabled:o.isLastAdmin||o.isCurrentUser},[(p(!0),y(he,null,De(o.roles,T=>(p(),y("option",{key:T.id_rol,value:T.id_rol},S(T.nombre),9,Qz))),128))],10,Jz)),[[_t,o.usuario.id_rol]]):I("",!0),o.editMode&&o.isCurrentUser?(p(),y("div",e5," No puedes cambiar tu propio rol por razones de seguridad. ")):I("",!0),o.editMode&&o.validationErrors.id_rol?(p(),y("div",t5,S(o.validationErrors.id_rol),1)):(p(),y("div",s5,[c("span",{class:j(["badge",i.getRolBadgeClass(o.usuario.id_rol)])},S(i.getRolLabel(o.usuario.id_rol)),3)]))]),c("div",o5,[e[35]||(e[35]=c("label",null,"Estado",-1)),c("div",n5,[c("span",{class:j(["badge",o.usuario.activo?"badge-success":"badge-danger"])},S(o.usuario.activo?"Activo":"Inactivo"),3)])]),c("div",i5,[e[36]||(e[36]=c("label",null,"Fecha de Creación",-1)),c("div",r5,S(i.formatDate(o.usuario.created_at)),1)]),c("div",a5,[e[37]||(e[37]=c("label",null,"Última Actualización",-1)),c("div",l5,S(i.formatDate(o.usuario.updated_at)),1)])])])])])):I("",!0),o.activeTab==="seguridad"?(p(),y("div",c5,[c("div",d5,[e[40]||(e[40]=c("div",{class:"card-header"},[c("h2",null,"Cambiar Contraseña")],-1)),c("div",u5,[c("div",f5,[c("div",h5,[x(E,{id:"newPassword",modelValue:o.passwordData.newPassword,"onUpdate:modelValue":e[15]||(e[15]=T=>o.passwordData.newPassword=T),label:"Nueva Contraseña",placeholder:"Ingrese la nueva contraseña",error:o.passwordErrors.newPassword},null,8,["modelValue","error"])]),c("div",m5,[x(E,{id:"confirmPassword",modelValue:o.passwordData.confirmPassword,"onUpdate:modelValue":e[16]||(e[16]=T=>o.passwordData.confirmPassword=T),label:"Confirmar Contraseña",placeholder:"Confirme la nueva contraseña",error:o.passwordErrors.confirmPassword},null,8,["modelValue","error"])])]),c("div",p5,[c("button",{onClick:e[17]||(e[17]=(...T)=>i.changePassword&&i.changePassword(...T)),class:"btn btn-primary",disabled:o.passwordLoading},[o.passwordLoading?(p(),q(D,{key:1,size:"18",class:"btn-icon animate-spin"})):(p(),q(_,{key:0,size:"18",class:"btn-icon"})),e[39]||(e[39]=V(" Cambiar Contraseña "))],8,g5)])])])])):I("",!0)])])):(p(),y("div",Tz,[c("div",Mz,[x(g,{size:"24"}),e[26]||(e[26]=c("p",null,"No se encontró el usuario solicitado.",-1))]),c("button",{onClick:e[7]||(e[7]=(...T)=>i.goBack&&i.goBack(...T)),class:"btn btn-primary"},"Volver a la lista")])),o.showDeleteModal?(p(),y("div",b5,[c("div",v5,[c("div",y5,[e[41]||(e[41]=c("h3",null,"Confirmar eliminación",-1)),c("button",{onClick:e[18]||(e[18]=T=>o.showDeleteModal=!1),class:"btn-close"},[x(f,{size:"18"})])]),c("div",_5,[c("p",null,[e[42]||(e[42]=V("¿Está seguro de que desea eliminar a ")),c("strong",null,S(o.usuario.nombre)+" "+S(o.usuario.apellidos),1),e[43]||(e[43]=V("?"))]),e[46]||(e[46]=c("p",{class:"text-danger"},"Esta acción no se puede deshacer.",-1)),o.isLastAdmin?(p(),y("div",E5,[x(g,{size:"18"}),e[44]||(e[44]=c("span",null,"No se puede eliminar el último administrador del sistema.",-1))])):I("",!0),o.isCurrentUser?(p(),y("div",w5,[x(g,{size:"18"}),e[45]||(e[45]=c("span",null,"No puedes eliminar tu propia cuenta de usuario.",-1))])):I("",!0)]),c("div",C5,[c("button",{onClick:e[19]||(e[19]=T=>o.showDeleteModal=!1),class:"btn btn-secondary"}," Cancelar "),c("button",{onClick:e[20]||(e[20]=(...T)=>i.deleteUsuario&&i.deleteUsuario(...T)),class:"btn btn-danger",disabled:o.loading||o.isLastAdmin||o.isCurrentUser},[o.loading?(p(),q(D,{key:1,size:"18",class:"btn-icon animate-spin"})):(p(),q(h,{key:0,size:"18",class:"btn-icon"})),e[47]||(e[47]=V(" Eliminar "))],8,S5)])])])):I("",!0)])]),_:1})}const k5=de(yz,[["render",x5],["__scopeId","data-v-feec7bcc"]]),Fd=wt("empleados",{state:()=>({empleados:[],currentEmpleado:null,loading:!1,error:null,totalEmpleados:0,filters:{search:"",activo:null,id_departamento:"",id_centro:""},pagination:{page:1,limit:10,total:0,totalPages:1},actividades:[]}),getters:{getEmpleados:t=>t.empleados,getCurrentEmpleado:t=>t.currentEmpleado,getLoading:t=>t.loading,getError:t=>t.error,getFilters:t=>t.filters,getPagination:t=>t.pagination,getActividades:t=>t.actividades},actions:{registrarActividad(t,e,s={}){var a;const n=((a=ns().user)==null?void 0:a.nombre)||"Sistema",i=new Date().toISOString(),r={tipo:t,texto:this.generarTextoActividad(t,e,s),fecha:i,timestamp:new Date().getTime(),usuario:n,id_empleado:e==null?void 0:e.id_empleado,detalles:{...s,nombre:e==null?void 0:e.nombre,apellidos:e==null?void 0:e.apellidos}};this.actividades.unshift(r),this.actividades.length>50&&(this.actividades=this.actividades.slice(0,50));try{$.post("/actividades",r).catch(l=>{console.warn("No se pudo guardar la actividad en la API:",l)})}catch(l){console.warn("Error al guardar actividad:",l)}return r},generarTextoActividad(t,e,s){var r;const o=ns(),n=s.usuario||((r=o.user)==null?void 0:r.nombre)||"Usuario",i=e?`${e.nombre||""} ${e.apellidos||""}`:s.nombreCompleto||"empleado";switch(t){case"empleado_create":return`<strong>${n}</strong> creó el empleado <strong>${i}</strong>`;case"empleado_update":return`<strong>${n}</strong> actualizó los datos de <strong>${i}</strong>`;case"empleado_delete":return`<strong>${n}</strong> eliminó el empleado <strong>${i}</strong>`;case"empleado_status":const a=s.activo?"activó":"desactivó";return`<strong>${n}</strong> ${a} al empleado <strong>${i}</strong>`;default:return`<strong>${n}</strong> realizó una acción con el empleado <strong>${i}</strong>`}},async fetchEmpleados(t={}){var s,o;this.loading=!0,this.error=null;const e=X();try{const n={...this.filters,page:this.pagination.page,limit:this.pagination.limit,...t},r=(await $.get("/empleados",{params:n})).data;if(r.success){this.empleados=r.data.empleados||[];const a=r.data.pagination||{};return this.pagination={page:a.page||1,limit:a.limit||10,total:a.total||0,totalPages:a.totalPages||1},this.totalEmpleados=this.pagination.total,this.empleados}else throw new Error(r.message||"Error al cargar empleados")}catch(n){const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al cargar empleados";return this.error=i,e.error(i),[]}finally{this.loading=!1}},async fetchEmpleadosCount(){var e,s;this.loading=!0,this.error=null;const t=X();try{const n=(await $.get("/empleados/count")).data;if(n.success)return this.totalEmpleados=n.data.total||0,this.totalEmpleados;throw new Error(n.message||"Error al obtener el conteo de empleados")}catch(o){const n=((s=(e=o.response)==null?void 0:e.data)==null?void 0:s.message)||o.message||"Error al obtener el conteo de empleados";return this.error=n,t.error(n),0}finally{this.loading=!1}},async fetchEmpleadoById(t){var s,o;this.loading=!0,this.error=null,this.currentEmpleado=null;const e=X();try{const i=(await $.get(`/empleados/${t}`)).data;if(i.success)return this.currentEmpleado=i.data.empleado,i.data.empleado;throw new Error(i.message||"Error al cargar el empleado")}catch(n){const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al cargar el empleado";return this.error=i,e.error(i),null}finally{this.loading=!1}},async createEmpleado(t){var s,o;this.loading=!0,this.error=null;const e=X();try{const i=(await $.post("/empleados",t)).data;if(i.success)return e.success("Empleado creado correctamente"),this.registrarActividad("empleado_create",i.data.empleado),await this.fetchEmpleados(),this.totalEmpleados++,i.data.empleado;throw new Error(i.message||"Error al crear el empleado")}catch(n){const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al crear el empleado";return this.error=i,e.error(i),null}finally{this.loading=!1}},async updateEmpleado(t,e){var o,n;this.loading=!0,this.error=null;const s=X();try{const r=(await $.put(`/empleados/${t}`,e)).data;if(r.success){s.success("Empleado actualizado correctamente"),this.registrarActividad("empleado_update",r.data.empleado),this.currentEmpleado&&this.currentEmpleado.id_empleado===t&&(this.currentEmpleado=r.data.empleado);const a=this.empleados.findIndex(l=>l.id_empleado===t);return a!==-1&&(this.empleados[a]=r.data.empleado),r.data.empleado}else throw new Error(r.message||"Error al actualizar el empleado")}catch(i){const r=((n=(o=i.response)==null?void 0:o.data)==null?void 0:n.message)||i.message||"Error al actualizar el empleado";return this.error=r,s.error(r),null}finally{this.loading=!1}},async deleteEmpleado(t){var s,o;this.loading=!0,this.error=null;const e=X();try{const n=this.empleados.find(a=>a.id_empleado===t)||this.currentEmpleado,r=(await $.delete(`/empleados/${t}`)).data;if(r.success)return e.success("Empleado eliminado correctamente"),n&&this.registrarActividad("empleado_delete",n),this.empleados=this.empleados.filter(a=>a.id_empleado!==t),this.totalEmpleados--,this.currentEmpleado&&this.currentEmpleado.id_empleado===t&&(this.currentEmpleado=null),!0;throw new Error(r.message||"Error al eliminar el empleado")}catch(n){const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al eliminar el empleado";return this.error=i,e.error(i),!1}finally{this.loading=!1}},async changeEmpleadoStatus(t,e){var o,n;this.loading=!0,this.error=null;const s=X();try{const r=(await $.patch(`/empleados/${t}/status`,{activo:e})).data;if(r.success){const a=e?"activado":"desactivado";s.success(`Empleado ${a} correctamente`);const l=this.empleados.find(u=>u.id_empleado===t)||this.currentEmpleado;l&&this.registrarActividad("empleado_status",l,{activo:e}),this.currentEmpleado&&this.currentEmpleado.id_empleado===t&&(this.currentEmpleado={...this.currentEmpleado,activo:e});const d=this.empleados.findIndex(u=>u.id_empleado===t);return d!==-1&&(this.empleados[d]={...this.empleados[d],activo:e}),!0}else throw new Error(r.message||`Error al ${e?"activar":"desactivar"} el empleado`)}catch(i){const r=((n=(o=i.response)==null?void 0:o.data)==null?void 0:n.message)||i.message||`Error al ${e?"activar":"desactivar"} el empleado`;return this.error=r,s.error(r),!1}finally{this.loading=!1}},updateFilters(t){this.filters={...this.filters,...t},this.pagination.page=1},resetFilters(){this.filters={search:"",activo:null,id_departamento:"",id_centro:""},this.pagination.page=1},setPage(t){this.pagination.page=t}}}),D5={name:"PermissionCheck",props:{permiso:{type:Object,required:!0,validator:t=>t.nombre&&t.tipo},fallback:{type:Boolean,default:!1}},setup(t){const e=ns();return{hasPermission:we(()=>e.isAdmin?!0:t.permiso.tipo==="Escritura"?e.hasPermission(t.permiso):t.permiso.tipo==="Lectura"?e.hasPermission(t.permiso)||e.hasPermission({...t.permiso,tipo:"Escritura"}):t.fallback)}}},A5={key:0},T5={key:1};function M5(t,e,s,o,n,i){return o.hasPermission?(p(),y("div",A5,[cc(t.$slots,"default")])):t.$slots.fallback?(p(),y("div",T5,[cc(t.$slots,"fallback")])):I("",!0)}const Zo=de(D5,[["render",M5]]),P5={name:"EmpleadosHeader",components:{PermissionCheck:Zo,Plus:Ps},emits:["nuevo-empleado"]},I5={class:"page-header"};function F5(t,e,s,o,n,i){const r=C("Plus"),a=C("permission-check");return p(),y("div",I5,[e[2]||(e[2]=c("div",{class:"header-title"},[c("h1",null,"Empleados"),c("p",{class:"text-muted"},"Gestión del personal de la empresa")],-1)),x(a,{permiso:{nombre:"Empleados",tipo:"Escritura"}},{default:Ee(()=>[c("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=l=>t.$emit("nuevo-empleado"))},[x(r,{size:"16",class:"btn-icon"}),e[1]||(e[1]=V(" Nuevo Empleado "))])]),_:1})])}const R5=de(P5,[["render",F5],["__scopeId","data-v-29379223"]]),Fi={getAll(t){return $.get("/departamentos",{params:t})},getById(t){return $.get(`/departamentos/${t}`)},create(t){return $.post("/departamentos",t)},update(t,e){return $.put(`/departamentos/${t}`,e)},delete(t){return $.delete(`/departamentos/${t}`)}},Rd=wt("departamentos",{state:()=>({departamentos:[],loading:!1,error:null,currentDepartamento:null}),getters:{getDepartamentosPorCentro:t=>e=>e?t.departamentos.filter(s=>s.id_centro===e):t.departamentos},actions:{async fetchDepartamentos(){var e,s;this.loading=!0,this.error=null;const t=X();try{const n=(await Fi.getAll()).data;if(n.success)return this.departamentos=n.data.departamentos||[],this.departamentos;throw new Error(n.message||"Error al cargar departamentos")}catch(o){console.error("Error al cargar departamentos:",o);const n=((s=(e=o.response)==null?void 0:e.data)==null?void 0:s.message)||o.message||"Error al cargar departamentos";return this.error=n,t.error(n),[]}finally{this.loading=!1}},async fetchDepartamentosByCentro(t){var s,o;this.loading=!0,this.error=null;const e=X();try{const i=(await Fi.getAll({id_centro:t})).data;if(i.success)return i.data.departamentos||[];throw new Error(i.message||"Error al cargar departamentos por centro")}catch(n){console.error("Error al cargar departamentos por centro:",n);const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al cargar departamentos por centro";return this.error=i,e.error(i),[]}finally{this.loading=!1}},async fetchDepartamentoById(t){var s,o;this.loading=!0,this.error=null,this.currentDepartamento=null;const e=X();try{const i=(await Fi.getById(t)).data;if(i.success)return this.currentDepartamento=i.data.departamento,this.currentDepartamento;throw new Error(i.message||"Error al cargar el departamento")}catch(n){console.error("Error al cargar el departamento:",n);const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al cargar el departamento";return this.error=i,e.error(i),null}finally{this.loading=!1}},async createDepartamento(t){var s,o;this.loading=!0,this.error=null;const e=X();try{const i=(await Fi.create(t)).data;if(i.success){const r=i.data.departamento;return this.departamentos.push(r),e.success("Departamento creado correctamente"),r}else throw new Error(i.message||"Error al crear el departamento")}catch(n){console.error("Error al crear el departamento:",n);const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al crear el departamento";throw this.error=i,e.error(i),n}finally{this.loading=!1}},async updateDepartamento(t,e){var o,n;this.loading=!0,this.error=null;const s=X();try{const r=(await Fi.update(t,e)).data;if(r.success){const a=r.data.departamento;this.currentDepartamento=a;const l=this.departamentos.findIndex(d=>d.id_departamento===Number(t));return l!==-1&&(this.departamentos[l]=a),s.success("Departamento actualizado correctamente"),a}else throw new Error(r.message||"Error al actualizar el departamento")}catch(i){console.error("Error al actualizar el departamento:",i);const r=((n=(o=i.response)==null?void 0:o.data)==null?void 0:n.message)||i.message||"Error al actualizar el departamento";throw this.error=r,s.error(r),i}finally{this.loading=!1}},async deleteDepartamento(t){var s,o;this.loading=!0,this.error=null;const e=X();try{const i=(await Fi.delete(t)).data;if(i.success)return this.departamentos=this.departamentos.filter(r=>r.id_departamento!==Number(t)),this.currentDepartamento&&this.currentDepartamento.id_departamento===Number(t)&&(this.currentDepartamento=null),e.success("Departamento eliminado correctamente"),!0;throw new Error(i.message||"Error al eliminar el departamento")}catch(n){console.error("Error al eliminar el departamento:",n);const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al eliminar el departamento";throw this.error=i,e.error(i),n}finally{this.loading=!1}}}}),Nr={getAll(t){return $.get("/centros",{params:t})},getCount(t){return $.get("/centros/count",{params:t})},getById(t){return $.get(`/centros/${t}`)},create(t){return $.post("/centros",t)},update(t,e){return $.put(`/centros/${t}`,e)},delete(t){return $.delete(`/centros/${t}`)}},gm=Xo().shape({nombre:Qe().required("El nombre del centro es requerido").min(3,"El nombre debe tener al menos 3 caracteres").max(100,"El nombre no puede exceder 100 caracteres").trim(),direccion:Qe().nullable().max(255,"La dirección no puede exceder 255 caracteres").trim(),telefono:Qe().nullable().matches(/^[+]?[\d\s\-()]+$/,"El teléfono debe contener solo números, espacios, guiones y paréntesis").min(9,"El teléfono debe tener al menos 9 caracteres").max(20,"El teléfono no puede exceder 20 caracteres").trim(),email:Qe().nullable().email("El email debe tener un formato válido").max(100,"El email no puede exceder 100 caracteres").trim(),id_zona:fr().nullable().typeError("La zona debe ser un número válido").positive("La zona debe ser un número positivo")}),pE=gm.clone(),Ff=async(t,e=!1)=>{try{return await(e?pE:gm).validate(t,{abortEarly:!1}),{isValid:!0,errors:{}}}catch(s){const o={};return s.inner&&s.inner.length>0?s.inner.forEach(n=>{o[n.path]=n.message}):o.general=s.message,{isValid:!1,errors:o}}},O5=async(t,e,s,o=!1)=>{try{const n=o?pE:gm,i={...s};return i[t]=e,await n.validateAt(t,i),{isValid:!0,error:null}}catch(n){return{isValid:!1,error:n.message}}},Dn=wt("centros",{state:()=>({centros:[],loading:!1,error:null,currentCentro:null,totalCentros:0}),actions:{async fetchCentrosCount(){var e,s;this.loading=!0,this.error=null;const t=X();try{const n=(await $.get("/centros/count")).data;if(n.success)return this.totalCentros=n.data.total||0,this.totalCentros;throw new Error(n.message||"Error al obtener el conteo de centros")}catch(o){const n=((s=(e=o.response)==null?void 0:e.data)==null?void 0:s.message)||o.message||"Error al obtener el conteo de centros";return this.error=n,t.error(n),0}finally{this.loading=!1}},async fetchCentros(t={}){var s,o;this.loading=!0,this.error=null;const e=X();try{const i=(await Nr.getAll(t)).data;if(i.success)return this.centros=i.data.centros||[],i.data.pagination?this.totalCentros=i.data.pagination.total||this.centros.length:this.totalCentros=this.centros.length,this.centros;throw new Error(i.message||"Error al cargar centros")}catch(n){console.error("Error al cargar centros:",n);const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al cargar centros";return this.error=i,e.error(i),[]}finally{this.loading=!1}},async fetchCentroById(t){var s,o;this.loading=!0,this.error=null,this.currentCentro=null;const e=X();try{const i=(await Nr.getById(t)).data;if(i.success)return this.currentCentro=i.data.centro,this.currentCentro;throw new Error(i.message||"Error al cargar el centro")}catch(n){console.error("Error al cargar el centro:",n);const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al cargar el centro";return this.error=i,e.error(i),null}finally{this.loading=!1}},async createCentro(t){var s,o;this.loading=!0,this.error=null;const e=X();try{const n=await Ff(t,!1);if(!n.isValid){const a=Object.values(n.errors).join(", ");throw new Error(a)}const r=(await Nr.create(t)).data;if(r.success){const a=r.data.centro;return this.centros.push(a),this.totalCentros++,e.success("Centro creado correctamente"),a}else throw new Error(r.message||"Error al crear el centro")}catch(n){console.error("Error al crear el centro:",n);const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al crear el centro";throw this.error=i,e.error(i),n}finally{this.loading=!1}},async updateCentro(t,e){var o,n;this.loading=!0,this.error=null;const s=X();try{const i=await Ff(e,!0);if(!i.isValid){const l=Object.values(i.errors).join(", ");throw new Error(l)}const a=(await Nr.update(t,e)).data;if(a.success){const l=a.data.centro;this.currentCentro=l;const d=this.centros.findIndex(u=>u.id_centro===Number(t));return d!==-1&&(this.centros[d]=l),s.success("Centro actualizado correctamente"),l}else throw new Error(a.message||"Error al actualizar el centro")}catch(i){console.error("Error al actualizar el centro:",i);const r=((n=(o=i.response)==null?void 0:o.data)==null?void 0:n.message)||i.message||"Error al actualizar el centro";throw this.error=r,s.error(r),i}finally{this.loading=!1}},async deleteCentro(t){var s,o;this.loading=!0,this.error=null;const e=X();try{const i=(await Nr.delete(t)).data;if(i.success)return this.centros=this.centros.filter(r=>r.id_centro!==Number(t)),this.currentCentro&&this.currentCentro.id_centro===Number(t)&&(this.currentCentro=null),this.totalCentros--,e.success("Centro eliminado correctamente"),!0;throw new Error(i.message||"Error al eliminar el centro")}catch(n){console.error("Error al eliminar el centro:",n);const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al eliminar el centro";throw this.error=i,e.error(i),n}finally{this.loading=!1}}}}),N5={name:"EmpleadosFiltros",components:{Search:In,RefreshCw:Ft,UserX:jh,UserCheck:o0,Users:fn,Building2:Us,MapPin:Cs},props:{search:{type:String,default:""},filters:{type:Object,required:!0}},emits:["update:search","update:filters","search","apply-filters","reset-filters"],setup(){const t=Rd(),e=Dn();is(()=>{t.fetchDepartamentos(),e.fetchCentros()});const s=we(()=>{const n=t.departamentos,i=new Set,r=[];return n.forEach(a=>{i.has(a.nombre)||(i.add(a.nombre),r.push(a))}),r}),o=we(()=>e.centros);return{departamentosUnicos:s,centros:o}},methods:{setFilterActivo(t){const e={...this.filters,activo:t};this.$emit("update:filters",e),this.$emit("apply-filters")},updateFilter(t,e){const s={...this.filters,[t]:e};this.$emit("update:filters",s),this.$emit("apply-filters")}}},L5={class:"card-header"},z5={class:"filters"},$5={class:"filter-group search-group"},V5=["value"],B5={class:"filter-buttons"},U5={class:"filter-tabs"},j5={class:"filter-selects"},H5={class:"filter-select-group"},q5=["value"],W5=["value"],K5={class:"filter-select-group"},G5=["value"],X5=["value"];function Z5(t,e,s,o,n,i){const r=C("Search"),a=C("Users"),l=C("UserCheck"),d=C("UserX"),u=C("Building2"),f=C("MapPin"),h=C("RefreshCw");return p(),y("div",L5,[c("div",z5,[c("div",$5,[x(r,{size:"16",class:"search-icon"}),c("input",{type:"text",value:s.search,onInput:e[0]||(e[0]=m=>{t.$emit("update:search",m.target.value),t.$emit("search")}),class:"form-control search-input",placeholder:"Buscar por nombre, apellido o DNI..."},null,40,V5)]),c("div",B5,[c("div",U5,[c("button",{class:j(["filter-tab",{active:s.filters.activo===null}]),onClick:e[1]||(e[1]=m=>i.setFilterActivo(null))},[x(a,{size:"16",class:"tab-icon"}),e[7]||(e[7]=c("span",null,"Todos",-1))],2),c("button",{class:j(["filter-tab",{active:s.filters.activo===!0}]),onClick:e[2]||(e[2]=m=>i.setFilterActivo(!0))},[x(l,{size:"16",class:"tab-icon"}),e[8]||(e[8]=c("span",null,"Activos",-1))],2),c("button",{class:j(["filter-tab",{active:s.filters.activo===!1}]),onClick:e[3]||(e[3]=m=>i.setFilterActivo(!1))},[x(d,{size:"16",class:"tab-icon"}),e[9]||(e[9]=c("span",null,"Inactivos",-1))],2)]),c("div",j5,[c("div",H5,[x(u,{size:"16",class:"select-icon"}),c("select",{value:s.filters.id_departamento,onChange:e[4]||(e[4]=m=>i.updateFilter("id_departamento",m.target.value)),class:"form-control select-filter"},[e[10]||(e[10]=c("option",{value:""},"Todos los departamentos",-1)),(p(!0),y(he,null,De(o.departamentosUnicos,m=>(p(),y("option",{key:m.id_departamento,value:m.id_departamento},S(m.nombre),9,W5))),128))],40,q5)]),c("div",K5,[x(f,{size:"16",class:"select-icon"}),c("select",{value:s.filters.id_centro,onChange:e[5]||(e[5]=m=>i.updateFilter("id_centro",m.target.value)),class:"form-control select-filter"},[e[11]||(e[11]=c("option",{value:""},"Todos los centros",-1)),(p(!0),y(he,null,De(o.centros,m=>(p(),y("option",{key:m.id_centro,value:m.id_centro},S(m.nombre),9,X5))),128))],40,G5)]),c("button",{onClick:e[6]||(e[6]=m=>t.$emit("reset-filters")),class:"btn btn-outline-secondary btn-reset",title:"Limpiar todos los filtros"},[x(h,{size:"16"})])])])])])}const Y5=de(N5,[["render",Z5],["__scopeId","data-v-a4fcc63f"]]),J5={name:"EmpleadosTabla",components:{LoadingSpinner:rs,FileSearch:wd,RefreshCw:Ft,Circle:FT},props:{loading:{type:Boolean,default:!1},error:{type:String,default:null},empleados:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})}},emits:["retry","reset-filters","view-empleado"]},Q5={key:0,class:"loading-container"},e8={key:1,class:"error-container"},t8={class:"error-message"},s8={key:2,class:"empty-container"},o8={class:"empty-state"},n8={key:3,class:"table-responsive"},i8={class:"table"},r8=["onClick"],a8={"data-label":"ID"},l8={"data-label":"Nombre"},c8={"data-label":"Apellidos"},d8={"data-label":"DNI/NIE"},u8={"data-label":"Departamento"},f8={"data-label":"Centro"},h8={"data-label":"Estado"};function m8(t,e,s,o,n,i){const r=C("loading-spinner"),a=C("FileSearch"),l=C("RefreshCw"),d=C("Circle");return p(),y("div",null,[s.loading?(p(),y("div",Q5,[x(r,{message:"Cargando empleados..."})])):s.error?(p(),y("div",e8,[c("p",t8,S(s.error),1),c("button",{onClick:e[0]||(e[0]=u=>t.$emit("retry")),class:"btn btn-primary"},"Reintentar")])):s.empleados.length===0?(p(),y("div",s8,[c("div",o8,[x(a,{size:"48",class:"empty-icon"}),e[3]||(e[3]=c("h3",null,"No se encontraron empleados",-1)),e[4]||(e[4]=c("p",null,"No hay empleados que coincidan con los criterios de búsqueda.",-1)),c("button",{onClick:e[1]||(e[1]=u=>t.$emit("reset-filters")),class:"btn btn-primary"},[x(l,{size:"16",class:"btn-icon"}),e[2]||(e[2]=V(" Limpiar filtros "))])])])):(p(),y("div",n8,[c("table",i8,[e[5]||(e[5]=c("thead",null,[c("tr",null,[c("th",null,"ID"),c("th",null,"Nombre"),c("th",null,"Apellidos"),c("th",null,"DNI/NIE"),c("th",null,"Departamento"),c("th",null,"Centro"),c("th",null,"Estado")])],-1)),c("tbody",null,[(p(!0),y(he,null,De(s.empleados,u=>(p(),y("tr",{key:u.id_empleado,class:"empleado-row",onClick:f=>t.$emit("view-empleado",u.id_empleado)},[c("td",a8,S(u.id_empleado),1),c("td",l8,S(u.nombre),1),c("td",c8,S(u.apellidos),1),c("td",d8,S(u.dni_nie),1),c("td",u8,S(u.Departamento?u.Departamento.nombre:"-"),1),c("td",f8,S(u.Centro?u.Centro.nombre:"-"),1),c("td",h8,[c("span",{class:j(["status-badge",u.activo?"status-active":"status-inactive"])},[x(d,{size:"8",class:"status-icon"}),V(" "+S(u.activo?"Activo":"Inactivo"),1)],2)])],8,r8))),128))])])]))])}const p8=de(J5,[["render",m8],["__scopeId","data-v-23360111"]]),g8={name:"EmpleadosPaginacion",components:{ChevronLeft:Xa,ChevronRight:Pn},props:{pagination:{type:Object,required:!0,default:()=>({page:1,limit:10,totalItems:0,totalPages:1})}},computed:{safeCurrentPage(){const t=parseInt(this.pagination.page);return isNaN(t)?1:Math.max(1,t)},safeTotalPages(){const t=parseInt(this.pagination.totalPages);return isNaN(t)?1:Math.max(1,t)},safeTotalItems(){const t=parseInt(this.pagination.totalItems);return isNaN(t)?0:Math.max(0,t)},shouldShowPagination(){return this.safeTotalPages>1},paginationInfoText(){const t=(this.safeCurrentPage-1)*this.pagination.limit+1,e=Math.min(this.safeCurrentPage*this.pagination.limit,this.safeTotalItems);return`Mostrando ${t}-${e} de ${this.safeTotalItems} resultado${this.safeTotalItems!==1?"s":""}`},validPaginationPages(){const t=this.safeCurrentPage,e=this.safeTotalPages;return e<=0?[]:e<=5?Array.from({length:e},(s,o)=>o+1):t<=3?[1,2,3,4,5]:t>=e-2?[e-4,e-3,e-2,e-1,e]:[t-2,t-1,t,t+1,t+2]}},emits:["change-page"]},b8={class:"card-footer"},v8={key:0,class:"pagination"},y8=["disabled"],_8={class:"pagination-pages"},E8=["onClick"],w8=["disabled"],C8={key:1,class:"pagination-info"};function S8(t,e,s,o,n,i){const r=C("ChevronLeft"),a=C("ChevronRight");return p(),y("div",b8,[i.shouldShowPagination?(p(),y("div",v8,[c("button",{class:"pagination-btn",disabled:i.safeCurrentPage<=1,onClick:e[0]||(e[0]=l=>t.$emit("change-page",i.safeCurrentPage-1))},[x(r,{size:"16"}),e[2]||(e[2]=c("span",{class:"pagination-text"},"Anterior",-1))],8,y8),c("div",_8,[(p(!0),y(he,null,De(i.validPaginationPages,l=>(p(),y("button",{key:l,class:j(["page-btn",{active:l===i.safeCurrentPage}]),onClick:d=>t.$emit("change-page",l)},S(l),11,E8))),128))]),c("button",{class:"pagination-btn",disabled:i.safeCurrentPage>=i.safeTotalPages,onClick:e[1]||(e[1]=l=>t.$emit("change-page",i.safeCurrentPage+1))},[e[3]||(e[3]=c("span",{class:"pagination-text"},"Siguiente",-1)),x(a,{size:"16"})],8,w8)])):(p(),y("div",C8,S(i.paginationInfoText),1))])}const x8=de(g8,[["render",S8],["__scopeId","data-v-2b491ac8"]]),k8={name:"Empleados",components:{DefaultLayout:Yt,EmpleadosHeader:R5,EmpleadosFiltros:Y5,EmpleadosTabla:p8,EmpleadosPaginacion:x8},data(){return{searchQuery:"",searchTimeout:null,filters:{search:"",activo:null,id_departamento:"",id_centro:""}}},setup(){const t=Fd(),e=X();return{empleadosStore:t,notificationStore:e}},created(){this.loadEmpleados()},methods:{loadEmpleados(){this.empleadosStore.fetchEmpleados()},handleSearch(){clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.filters.search=this.searchQuery,this.applyFilters()},300)},applyFilters(){this.empleadosStore.filters={...this.filters},this.empleadosStore.pagination.page=1,this.empleadosStore.fetchEmpleados();let t="Filtros aplicados";this.filters.search&&(t+=`: "${this.filters.search}"`),this.filters.activo===!0?t+=" (Solo activos)":this.filters.activo===!1&&(t+=" (Solo inactivos)"),this.notificationStore.info(t,"Filtros")},resetFilters(){this.searchQuery="",this.filters={search:"",activo:null,id_departamento:"",id_centro:""},this.empleadosStore.filters={...this.filters},this.empleadosStore.pagination.page=1,this.empleadosStore.fetchEmpleados(),this.notificationStore.info("Se han eliminado todos los filtros","Filtros")},changePage(t){this.empleadosStore.pagination.page=parseInt(t),this.empleadosStore.fetchEmpleados()},goToEmpleadoDetalle(t){this.$router.push(`/empleados/${t}`)},crearNuevoEmpleado(){this.$router.push("/empleados/nuevo")}}},D8={class:"empleados-page"},A8={class:"card"};function T8(t,e,s,o,n,i){const r=C("EmpleadosHeader"),a=C("EmpleadosFiltros"),l=C("EmpleadosTabla"),d=C("EmpleadosPaginacion"),u=C("DefaultLayout");return p(),q(u,null,{default:Ee(()=>[c("div",D8,[x(r,{onNuevoEmpleado:i.crearNuevoEmpleado},null,8,["onNuevoEmpleado"]),c("div",A8,[x(a,{search:n.searchQuery,"onUpdate:search":e[0]||(e[0]=f=>n.searchQuery=f),filters:n.filters,"onUpdate:filters":e[1]||(e[1]=f=>n.filters=f),onSearch:i.handleSearch,onApplyFilters:i.applyFilters,onResetFilters:i.resetFilters},null,8,["search","filters","onSearch","onApplyFilters","onResetFilters"]),x(l,{loading:o.empleadosStore.loading,error:o.empleadosStore.error,empleados:o.empleadosStore.empleados,filters:n.filters,onRetry:i.loadEmpleados,onResetFilters:i.resetFilters,onViewEmpleado:i.goToEmpleadoDetalle},null,8,["loading","error","empleados","filters","onRetry","onResetFilters","onViewEmpleado"]),x(d,{pagination:o.empleadosStore.pagination,onChangePage:i.changePage},null,8,["pagination","onChangePage"])])])]),_:1})}const M8=de(k8,[["render",T8],["__scopeId","data-v-2d19b413"]]),P8=Xo().shape({nombre:Qe().required("El nombre es requerido").min(2,"El nombre debe tener al menos 2 caracteres").max(100,"El nombre no puede exceder los 100 caracteres"),apellidos:Qe().required("Los apellidos son requeridos").min(2,"Los apellidos deben tener al menos 2 caracteres").max(100,"Los apellidos no pueden exceder los 100 caracteres"),dni_nie:Qe().required("El DNI/NIE es requerido").matches(/^[0-9XYZ][0-9]{7}[A-Z]$/,"El formato del DNI/NIE no es válido"),fecha_nacimiento:hr().max(new Date,"La fecha de nacimiento no puede ser futura").nullable().transform(t=>t===""?null:t),direccion:Qe().max(200,"La dirección no puede exceder los 200 caracteres").nullable(),telefono:Qe().matches(/^[0-9+\s()-]{6,20}$/,"El formato del teléfono no es válido").nullable(),email:Qe().email("Debe ser un email válido").max(100,"El email no puede exceder los 100 caracteres").nullable(),estado_civil:Qe().oneOf(["Soltero/a","Casado/a","Divorciado/a","Viudo/a","Otro"],"Estado civil no válido").nullable(),id_departamento:fr().transform(t=>isNaN(t)?null:t).positive("El ID del departamento debe ser un número positivo").integer("El ID del departamento debe ser un número entero").nullable(),id_centro:fr().transform(t=>isNaN(t)?null:t).positive("El ID del centro debe ser un número positivo").integer("El ID del centro debe ser un número entero").nullable(),puesto_actual:Qe().max(100,"El puesto actual no puede exceder los 100 caracteres").nullable(),fecha_incorporacion:hr().max(new Date,"La fecha de incorporación no puede ser futura").nullable().transform(t=>t===""?null:t),activo:Cr().default(!0)}),Rf=async t=>{try{const e={...t,fecha_nacimiento:t.fecha_nacimiento||null,fecha_incorporacion:t.fecha_incorporacion||null,id_departamento:t.id_departamento===""?null:typeof t.id_departamento=="string"?parseInt(t.id_departamento,10):t.id_departamento,id_centro:t.id_centro===""?null:typeof t.id_centro=="string"?parseInt(t.id_centro,10):t.id_centro};return await P8.validate(e,{abortEarly:!1}),{isValid:!0,errors:{}}}catch(e){if(e.name==="ValidationError"){const s={};return e.inner.forEach(o=>{s[o.path]=o.message}),{isValid:!1,errors:s}}throw e}},I8={name:"EmpleadoNuevo",components:{DefaultLayout:Yt,LoadingSpinner:rs,User:Hh,Briefcase:zi,ArrowLeft:Er,X:Xe,Save:wo},setup(){const t=_r(),e=Fd(),s=X(),o=Rd(),n=Dn(),i=ge("personal"),r=ge({}),a=ge(null),l=ge({nombre:"",apellidos:"",dni_nie:"",fecha_nacimiento:"",estado_civil:"",direccion:"",telefono:"",email:"",puesto_actual:"",id_departamento:null,id_centro:null,fecha_incorporacion:new Date().toISOString().split("T")[0],activo:!0}),d=we(()=>a.value?o.getDepartamentosPorCentro(a.value):o.departamentos),u=we(()=>{const g=new Date;return new Date(g.getFullYear()-16,g.getMonth(),g.getDate()).toISOString().split("T")[0]}),f=we(()=>new Date().toISOString().split("T")[0]),h=we(()=>["nombre","apellidos","dni_nie","fecha_nacimiento","estado_civil","direccion","telefono","email"].some(b=>r.value[b])),m=we(()=>["puesto_actual","id_departamento","id_centro","fecha_incorporacion"].some(b=>r.value[b]));return{empleadosStore:e,notificationStore:s,departamentosStore:o,centrosStore:n,activeTab:i,validationErrors:r,empleado:l,selectedCentroId:a,departamentosFiltrados:d,maxBirthDate:u,maxIncorporationDate:f,hasPersonalErrors:h,hasLaboralErrors:m,router:t}},created(){this.loadDepartamentosYCentros()},methods:{loadDepartamentosYCentros(){this.departamentosStore.fetchDepartamentos(),this.centrosStore.fetchCentros()},handleCentroChange(){if(this.selectedCentroId=this.empleado.id_centro,this.clearFieldError("id_centro"),this.empleado.id_departamento){const t=this.departamentosStore.departamentos.find(e=>e.id_departamento===this.empleado.id_departamento);t&&t.id_centro!==this.selectedCentroId&&(this.empleado.id_departamento=null,this.clearFieldError("id_departamento"))}},async validateField(t){try{const{isValid:e,errors:s}=await Rf(this.empleado);switch(s[t]?this.validationErrors[t]=s[t]:delete this.validationErrors[t],t){case"dni_nie":this.validateDniNie();break;case"email":this.validateEmail();break;case"telefono":this.validateTelefono();break;case"fecha_nacimiento":this.validateFechaNacimiento();break;case"fecha_incorporacion":this.validateFechaIncorporacion();break}}catch(e){console.error("Error en validación de campo:",e)}},validateDniNie(){var o;const t=(o=this.empleado.dni_nie)==null?void 0:o.trim();if(!t)return;const e=/^[0-9]{8}[TRWAGMYFPDXBNJZSQVHLCKE]$/i,s=/^[XYZ][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/i;if(!e.test(t)&&!s.test(t)){this.validationErrors.dni_nie="Formato de DNI/NIE inválido";return}if(e.test(t)){const n="TRWAGMYFPDXBNJZSQVHLCKE",i=parseInt(t.substring(0,8)),r=t.charAt(8).toUpperCase(),a=n.charAt(i%23);r!==a&&(this.validationErrors.dni_nie="La letra del DNI no es correcta")}},validateEmail(){var s;const t=(s=this.empleado.email)==null?void 0:s.trim();if(!t)return;/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(this.validationErrors.email="Formato de email inválido")},validateTelefono(){var s;const t=(s=this.empleado.telefono)==null?void 0:s.trim();if(!t)return;/^[\+]?[0-9\s\-$$$$]{9,20}$/.test(t)||(this.validationErrors.telefono="Formato de teléfono inválido")},validateFechaNacimiento(){const t=this.empleado.fecha_nacimiento;if(!t)return;const e=new Date(t),s=new Date,o=s.getFullYear()-e.getFullYear();e>s?this.validationErrors.fecha_nacimiento="La fecha de nacimiento no puede ser futura":o<16?this.validationErrors.fecha_nacimiento="El empleado debe tener al menos 16 años":o>100&&(this.validationErrors.fecha_nacimiento="La fecha de nacimiento no es válida")},validateFechaIncorporacion(){const t=this.empleado.fecha_incorporacion;if(!t)return;new Date(t)>new Date&&(this.validationErrors.fecha_incorporacion="La fecha de incorporación no puede ser futura")},clearFieldError(t){this.validationErrors[t]&&delete this.validationErrors[t]},goBack(){this.router.push("/empleados")},async saveEmpleado(){var t,e;try{const{isValid:s,errors:o}=await Rf(this.empleado);await this.validateField("dni_nie"),await this.validateField("email"),await this.validateField("telefono"),await this.validateField("fecha_nacimiento"),await this.validateField("fecha_incorporacion");const n={...o,...this.validationErrors};if(!s||Object.keys(n).length>0){this.validationErrors=n;const r=Object.values(n)[0];this.notificationStore.error(r,"Error de validación");const a=["nombre","apellidos","dni_nie","fecha_nacimiento","estado_civil","direccion","telefono","email"],l=["puesto_actual","id_departamento","id_centro","fecha_incorporacion"],d=Object.keys(n)[0];a.includes(d)?this.activeTab="personal":l.includes(d)&&(this.activeTab="laboral");return}this.validationErrors={};const i=await this.empleadosStore.createEmpleado(this.empleado);i&&(this.notificationStore.success(`¡Empleado creado correctamente! ${i.nombre} ${i.apellidos} ha sido añadido al sistema.`,"Empleado creado"),this.router.push(`/empleados/${i.id_empleado}`))}catch(s){console.error("Error al crear empleado:",s),(e=(t=s.response)==null?void 0:t.data)!=null&&e.errors&&(this.validationErrors=s.response.data.errors),this.notificationStore.error(s.message||"Ha ocurrido un error al crear el empleado. Por favor, inténtelo de nuevo.","Error al crear")}}}},F8={class:"empleado-nuevo"},R8={class:"page-header"},O8={class:"header-left"},N8={class:"header-actions"},L8=["disabled"],z8={key:0,class:"loading-container"},$8={key:1,class:"empleado-content"},V8={class:"tabs"},B8={key:0,class:"error-indicator"},U8={key:0,class:"error-indicator"},j8={class:"tab-content"},H8={key:0,class:"tab-panel"},q8={class:"card"},W8={class:"card-body"},K8={class:"form-grid"},G8={class:"form-group"},X8={key:0,class:"invalid-feedback"},Z8={class:"form-group"},Y8={key:0,class:"invalid-feedback"},J8={class:"form-group"},Q8={key:0,class:"invalid-feedback"},e6={class:"form-group"},t6=["max"],s6={key:0,class:"invalid-feedback"},o6={class:"form-group"},n6={key:0,class:"invalid-feedback"},i6={class:"form-group"},r6={key:0,class:"invalid-feedback"},a6={class:"form-group"},l6={key:0,class:"invalid-feedback"},c6={class:"form-group"},d6={key:0,class:"invalid-feedback"},u6={key:1,class:"tab-panel"},f6={class:"card"},h6={class:"card-body"},m6={class:"form-grid"},p6={class:"form-group"},g6={key:0,class:"invalid-feedback"},b6={class:"form-group"},v6=["value"],y6={key:0,class:"invalid-feedback"},_6={class:"form-group"},E6=["disabled"],w6=["value"],C6={key:0,class:"invalid-feedback"},S6={key:1,class:"form-text"},x6={class:"form-group"},k6=["max"],D6={key:0,class:"invalid-feedback"},A6={class:"form-group"},T6={class:"toggle-switch"},M6={for:"estado-switch",class:"toggle-label"},P6={class:"toggle-switch-label"};function I6(t,e,s,o,n,i){const r=C("ArrowLeft"),a=C("Save"),l=C("X"),d=C("LoadingSpinner"),u=C("User"),f=C("Briefcase"),h=C("DefaultLayout");return p(),q(h,null,{default:Ee(()=>[c("div",F8,[c("div",R8,[c("div",O8,[c("button",{onClick:e[0]||(e[0]=(...m)=>i.goBack&&i.goBack(...m)),class:"btn btn-icon btn-ghost"},[x(r,{size:"18"}),e[42]||(e[42]=c("span",null,"Volver",-1))]),e[43]||(e[43]=c("h1",null,"Nuevo Empleado",-1))]),c("div",N8,[c("button",{onClick:e[1]||(e[1]=(...m)=>i.saveEmpleado&&i.saveEmpleado(...m)),class:"btn btn-success",disabled:o.empleadosStore.loading},[x(a,{size:"18",class:"btn-icon"}),e[44]||(e[44]=V(" Guardar "))],8,L8),c("button",{onClick:e[2]||(e[2]=(...m)=>i.goBack&&i.goBack(...m)),class:"btn btn-secondary"},[x(l,{size:"18",class:"btn-icon"}),e[45]||(e[45]=V(" Cancelar "))])])]),o.empleadosStore.loading?(p(),y("div",z8,[x(d,{message:"Guardando empleado..."})])):(p(),y("div",$8,[c("div",V8,[c("button",{class:j(["tab-button",{active:o.activeTab==="personal","has-errors":o.hasPersonalErrors}]),onClick:e[3]||(e[3]=m=>o.activeTab="personal")},[x(u,{size:"18",class:"tab-icon"}),e[46]||(e[46]=V(" Datos Personales ")),o.hasPersonalErrors?(p(),y("span",B8,"!")):I("",!0)],2),c("button",{class:j(["tab-button",{active:o.activeTab==="laboral","has-errors":o.hasLaboralErrors}]),onClick:e[4]||(e[4]=m=>o.activeTab="laboral")},[x(f,{size:"18",class:"tab-icon"}),e[47]||(e[47]=V(" Información Laboral ")),o.hasLaboralErrors?(p(),y("span",U8,"!")):I("",!0)],2)]),c("div",j8,[o.activeTab==="personal"?(p(),y("div",H8,[c("div",q8,[e[57]||(e[57]=c("div",{class:"card-header"},[c("h2",null,"Datos Personales")],-1)),c("div",W8,[c("div",K8,[c("div",G8,[e[48]||(e[48]=c("label",null,[V("Nombre "),c("span",{class:"required"},"*")],-1)),se(c("input",{"onUpdate:modelValue":e[5]||(e[5]=m=>o.empleado.nombre=m),type:"text",class:j(["form-control",{"is-invalid":o.validationErrors.nombre}]),onBlur:e[6]||(e[6]=m=>i.validateField("nombre")),onInput:e[7]||(e[7]=m=>i.clearFieldError("nombre")),placeholder:"Ingrese el nombre"},null,34),[[fe,o.empleado.nombre]]),o.validationErrors.nombre?(p(),y("div",X8,S(o.validationErrors.nombre),1)):I("",!0)]),c("div",Z8,[e[49]||(e[49]=c("label",null,[V("Apellidos "),c("span",{class:"required"},"*")],-1)),se(c("input",{"onUpdate:modelValue":e[8]||(e[8]=m=>o.empleado.apellidos=m),type:"text",class:j(["form-control",{"is-invalid":o.validationErrors.apellidos}]),onBlur:e[9]||(e[9]=m=>i.validateField("apellidos")),onInput:e[10]||(e[10]=m=>i.clearFieldError("apellidos")),placeholder:"Ingrese los apellidos"},null,34),[[fe,o.empleado.apellidos]]),o.validationErrors.apellidos?(p(),y("div",Y8,S(o.validationErrors.apellidos),1)):I("",!0)]),c("div",J8,[e[50]||(e[50]=c("label",null,[V("DNI/NIE "),c("span",{class:"required"},"*")],-1)),se(c("input",{"onUpdate:modelValue":e[11]||(e[11]=m=>o.empleado.dni_nie=m),type:"text",class:j(["form-control",{"is-invalid":o.validationErrors.dni_nie}]),onBlur:e[12]||(e[12]=m=>i.validateField("dni_nie")),onInput:e[13]||(e[13]=m=>i.clearFieldError("dni_nie")),placeholder:"Ej: 12345678A o X1234567L",maxlength:"9"},null,34),[[fe,o.empleado.dni_nie]]),o.validationErrors.dni_nie?(p(),y("div",Q8,S(o.validationErrors.dni_nie),1)):I("",!0)]),c("div",e6,[e[51]||(e[51]=c("label",null,[V("Fecha de Nacimiento "),c("span",{class:"required"},"*")],-1)),se(c("input",{"onUpdate:modelValue":e[14]||(e[14]=m=>o.empleado.fecha_nacimiento=m),type:"date",class:j(["form-control",{"is-invalid":o.validationErrors.fecha_nacimiento}]),onBlur:e[15]||(e[15]=m=>i.validateField("fecha_nacimiento")),onChange:e[16]||(e[16]=m=>i.clearFieldError("fecha_nacimiento")),max:o.maxBirthDate},null,42,t6),[[fe,o.empleado.fecha_nacimiento]]),o.validationErrors.fecha_nacimiento?(p(),y("div",s6,S(o.validationErrors.fecha_nacimiento),1)):I("",!0)]),c("div",o6,[e[53]||(e[53]=c("label",null,"Estado Civil",-1)),se(c("select",{"onUpdate:modelValue":e[17]||(e[17]=m=>o.empleado.estado_civil=m),class:j(["form-control",{"is-invalid":o.validationErrors.estado_civil}]),onBlur:e[18]||(e[18]=m=>i.validateField("estado_civil")),onChange:e[19]||(e[19]=m=>i.clearFieldError("estado_civil"))},e[52]||(e[52]=[c("option",{value:""},"Seleccionar...",-1),c("option",{value:"Soltero/a"},"Soltero/a",-1),c("option",{value:"Casado/a"},"Casado/a",-1),c("option",{value:"Divorciado/a"},"Divorciado/a",-1),c("option",{value:"Viudo/a"},"Viudo/a",-1),c("option",{value:"Otro"},"Otro",-1)]),34),[[_t,o.empleado.estado_civil]]),o.validationErrors.estado_civil?(p(),y("div",n6,S(o.validationErrors.estado_civil),1)):I("",!0)]),c("div",i6,[e[54]||(e[54]=c("label",null,"Dirección",-1)),se(c("textarea",{"onUpdate:modelValue":e[20]||(e[20]=m=>o.empleado.direccion=m),class:j(["form-control",{"is-invalid":o.validationErrors.direccion}]),onBlur:e[21]||(e[21]=m=>i.validateField("direccion")),onInput:e[22]||(e[22]=m=>i.clearFieldError("direccion")),placeholder:"Ingrese la dirección completa",maxlength:"500"},null,34),[[fe,o.empleado.direccion]]),o.validationErrors.direccion?(p(),y("div",r6,S(o.validationErrors.direccion),1)):I("",!0)]),c("div",a6,[e[55]||(e[55]=c("label",null,"Teléfono",-1)),se(c("input",{"onUpdate:modelValue":e[23]||(e[23]=m=>o.empleado.telefono=m),type:"tel",class:j(["form-control",{"is-invalid":o.validationErrors.telefono}]),onBlur:e[24]||(e[24]=m=>i.validateField("telefono")),onInput:e[25]||(e[25]=m=>i.clearFieldError("telefono")),placeholder:"Ej: +34 123 456 789",maxlength:"20"},null,34),[[fe,o.empleado.telefono]]),o.validationErrors.telefono?(p(),y("div",l6,S(o.validationErrors.telefono),1)):I("",!0)]),c("div",c6,[e[56]||(e[56]=c("label",null,"Email",-1)),se(c("input",{"onUpdate:modelValue":e[26]||(e[26]=m=>o.empleado.email=m),type:"email",class:j(["form-control",{"is-invalid":o.validationErrors.email}]),onBlur:e[27]||(e[27]=m=>i.validateField("email")),onInput:e[28]||(e[28]=m=>i.clearFieldError("email")),placeholder:"ejemplo@correo.com"},null,34),[[fe,o.empleado.email]]),o.validationErrors.email?(p(),y("div",d6,S(o.validationErrors.email),1)):I("",!0)])])])])])):I("",!0),o.activeTab==="laboral"?(p(),y("div",u6,[c("div",f6,[e[66]||(e[66]=c("div",{class:"card-header"},[c("h2",null,"Información Laboral")],-1)),c("div",h6,[c("div",m6,[c("div",p6,[e[58]||(e[58]=c("label",null,[V("Puesto Actual "),c("span",{class:"required"},"*")],-1)),se(c("input",{"onUpdate:modelValue":e[29]||(e[29]=m=>o.empleado.puesto_actual=m),type:"text",class:j(["form-control",{"is-invalid":o.validationErrors.puesto_actual}]),onBlur:e[30]||(e[30]=m=>i.validateField("puesto_actual")),onInput:e[31]||(e[31]=m=>i.clearFieldError("puesto_actual")),placeholder:"Ej: Desarrollador, Analista, etc."},null,34),[[fe,o.empleado.puesto_actual]]),o.validationErrors.puesto_actual?(p(),y("div",g6,S(o.validationErrors.puesto_actual),1)):I("",!0)]),c("div",b6,[e[60]||(e[60]=c("label",null,"Centro",-1)),se(c("select",{"onUpdate:modelValue":e[32]||(e[32]=m=>o.empleado.id_centro=m),class:j(["form-control",{"is-invalid":o.validationErrors.id_centro}]),onChange:e[33]||(e[33]=(...m)=>i.handleCentroChange&&i.handleCentroChange(...m)),onBlur:e[34]||(e[34]=m=>i.validateField("id_centro"))},[e[59]||(e[59]=c("option",{value:null},"Sin centro",-1)),(p(!0),y(he,null,De(o.centrosStore.centros,m=>(p(),y("option",{key:m.id_centro,value:m.id_centro},S(m.nombre),9,v6))),128))],34),[[_t,o.empleado.id_centro]]),o.validationErrors.id_centro?(p(),y("div",y6,S(o.validationErrors.id_centro),1)):I("",!0)]),c("div",_6,[e[62]||(e[62]=c("label",null,"Departamento",-1)),se(c("select",{"onUpdate:modelValue":e[35]||(e[35]=m=>o.empleado.id_departamento=m),class:j(["form-control",{"is-invalid":o.validationErrors.id_departamento}]),onBlur:e[36]||(e[36]=m=>i.validateField("id_departamento")),onChange:e[37]||(e[37]=m=>i.clearFieldError("id_departamento")),disabled:!o.empleado.id_centro},[e[61]||(e[61]=c("option",{value:null},"Sin departamento",-1)),(p(!0),y(he,null,De(o.departamentosFiltrados,m=>(p(),y("option",{key:m.id_departamento,value:m.id_departamento},S(m.nombre),9,w6))),128))],42,E6),[[_t,o.empleado.id_departamento]]),o.validationErrors.id_departamento?(p(),y("div",C6,S(o.validationErrors.id_departamento),1)):I("",!0),o.empleado.id_centro?I("",!0):(p(),y("div",S6," Seleccione un centro primero para ver los departamentos disponibles "))]),c("div",x6,[e[63]||(e[63]=c("label",null,[V("Fecha de Incorporación "),c("span",{class:"required"},"*")],-1)),se(c("input",{"onUpdate:modelValue":e[38]||(e[38]=m=>o.empleado.fecha_incorporacion=m),type:"date",class:j(["form-control",{"is-invalid":o.validationErrors.fecha_incorporacion}]),onBlur:e[39]||(e[39]=m=>i.validateField("fecha_incorporacion")),onChange:e[40]||(e[40]=m=>i.clearFieldError("fecha_incorporacion")),max:o.maxIncorporationDate},null,42,k6),[[fe,o.empleado.fecha_incorporacion]]),o.validationErrors.fecha_incorporacion?(p(),y("div",D6,S(o.validationErrors.fecha_incorporacion),1)):I("",!0)]),c("div",A6,[e[65]||(e[65]=c("label",null,"Estado",-1)),c("div",T6,[se(c("input",{type:"checkbox",id:"estado-switch","onUpdate:modelValue":e[41]||(e[41]=m=>o.empleado.activo=m)},null,512),[[Sn,o.empleado.activo]]),c("label",M6,[e[64]||(e[64]=c("span",{class:"toggle-inner"},null,-1)),c("span",P6,S(o.empleado.activo?"Activo":"Inactivo"),1)])])])])])])])):I("",!0)])]))])]),_:1})}const F6=de(I8,[["render",I6],["__scopeId","data-v-a27238ee"]]),cs={getAll(t){return $.get("/documentos",{params:t})},getById(t){return $.get(`/documentos/${t}`)},getByEmpleado(t,e){return $.get(`/documentos/empleado/${t}`,{params:e})},upload(t){return $.post("/documentos/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},updateMetadata(t,e){return e.id_empleado&&(e.id_empleado=String(e.id_empleado)),$.put(`/documentos/${t}`,e)},updateWithFile(t,e){if(!e.get("id_empleado"))throw new Error("ID de empleado no proporcionado");const s=new FormData;if(s.append("id_empleado",String(e.get("id_empleado"))),e.get("archivo"))s.append("archivo",e.get("archivo"));else throw new Error("Archivo no proporcionado");s.append("nombre",e.get("nombre")||""),s.append("tipo_documento",e.get("tipo_documento")||""),e.get("observaciones")&&s.append("observaciones",e.get("observaciones"));const o=`documentos/with-file/${t}`;return $.put(o,s,{headers:{"Content-Type":"multipart/form-data"},params:{id_empleado:String(e.get("id_empleado"))}})},delete(t){return $.delete(`/documentos/${t}`)},download(t){return $.get(`/documentos/download/${t}`,{responseType:"blob"})},preview(t){return $.get(`/documentos/preview/${t}`,{responseType:"blob"})}},gE=wt("documentos",{state:()=>({documentos:[],currentDocumento:null,totalDocumentos:0,loading:!1,error:null,filters:{search:"",tipo_documento:"",fecha_desde:null,fecha_hasta:null},pagination:{page:1,limit:10,totalItems:0,totalPages:1}}),actions:{async fetchDocumentosCount(){var e,s;this.loading=!0,this.error=null;const t=X();try{const n=(await $.get("/documentos/count")).data;if(n.success)return this.totalDocumentos=n.data.total||0,this.totalDocumentos;throw new Error(n.message||"Error al obtener el conteo de documentos")}catch(o){const n=((s=(e=o.response)==null?void 0:e.data)==null?void 0:s.message)||o.message||"Error al obtener el conteo de documentos";return this.error=n,t.error(n),0}finally{this.loading=!1}},async fetchDocumentos(t={}){var s,o;this.loading=!0,this.error=null;const e=X();try{const n={...this.filters,page:this.pagination.page,limit:this.pagination.limit,...t},i=await cs.getAll(n);if(i.data.success)return this.documentos=i.data.data.documentos,this.pagination=i.data.data.pagination,this.totalDocumentos=this.pagination.totalItems,this.documentos;throw new Error(i.data.message||"Error al obtener documentos")}catch(n){const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al obtener documentos";return this.error=i,e.error(i),[]}finally{this.loading=!1}},async fetchDocumentoById(t){var s,o;this.loading=!0,this.error=null;const e=X();try{const n=await cs.getById(t);if(n.data.success)return this.currentDocumento=n.data.data.documento,this.currentDocumento;throw new Error(n.data.message||"Error al obtener documento")}catch(n){const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al obtener documento";return this.error=i,e.error(i),null}finally{this.loading=!1}},async fetchDocumentosByEmpleado(t,e={}){var o,n;this.loading=!0,this.error=null;const s=X();try{const i={page:this.pagination.page,limit:this.pagination.limit,...e},r=await cs.getByEmpleado(t,i);if(r.data.success)return this.documentos=r.data.data.documentos,this.pagination=r.data.data.pagination,this.documentos.length&&setTimeout(()=>this.verificarYLimpiarDocumentosInaccesibles(),500),this.documentos;throw new Error(r.data.message||"Error al obtener documentos del empleado")}catch(i){const r=((n=(o=i.response)==null?void 0:o.data)==null?void 0:n.message)||i.message||"Error al obtener documentos del empleado";return this.error=r,s.error(r),[]}finally{this.loading=!1}},async verificarYLimpiarDocumentosInaccesibles(){const t=X();if(!this.documentos.length)return this.documentos;try{this.loading=!0;let e=0;const o=(await Promise.allSettled(this.documentos.map(async n=>{var i,r,a,l,d,u;try{return await cs.preview(n.id_documento),{...n,archivoInaccesible:!1}}catch(f){return((i=f.response)==null?void 0:i.status)===404||((r=f.response)==null?void 0:r.status)===500||((a=f.message)==null?void 0:a.includes("no se encuentra"))||((l=f.message)==null?void 0:l.includes("not found"))||((d=f.message)==null?void 0:d.includes("no existe"))||((u=f.message)==null?void 0:u.includes("inaccesible"))?(e++,{...n,archivoInaccesible:!0}):{...n,archivoInaccesible:!1}}}))).filter(n=>n.status==="fulfilled").map(n=>n.value);if(this.documentos=o,e>0){let n=0;const i=this.documentos.filter(r=>r.archivoInaccesible);for(const r of i)try{await cs.delete(r.id_documento),n++,this.totalDocumentos--}catch(a){console.error(`Error al eliminar documento ${r.id_documento}:`,a)}this.documentos=this.documentos.filter(r=>!r.archivoInaccesible),t.success(`Se han eliminado automáticamente ${n} documento(s) inaccesibles de la base de datos.`,"Limpieza completada")}return this.documentos}catch(e){return console.error("Error al verificar y limpiar documentos inaccesibles:",e),t.error("Error al verificar y eliminar documentos inaccesibles","Error de verificación"),this.documentos}finally{this.loading=!1}},async verificarArchivosExistentes(){if(!this.documentos.length)return this.documentos;const t=X();let e=0;try{this.loading=!0;const o=(await Promise.allSettled(this.documentos.map(async n=>{var i,r,a,l,d,u;try{return await cs.preview(n.id_documento),{...n,archivoInaccesible:!1}}catch(f){return((i=f.response)==null?void 0:i.status)===404||((r=f.response)==null?void 0:r.status)===500||((a=f.message)==null?void 0:a.includes("no se encuentra"))||((l=f.message)==null?void 0:l.includes("not found"))||((d=f.message)==null?void 0:d.includes("no existe"))||((u=f.message)==null?void 0:u.includes("inaccesible"))?(e++,{...n,archivoInaccesible:!0}):{...n,archivoInaccesible:!1}}}))).filter(n=>n.status==="fulfilled").map(n=>n.value);return this.documentos=o,e>0?t.warning(`Se encontraron ${e} documento(s) cuyos archivos no están accesibles.`,"Verificación completada"):t.success("Todos los documentos están accesibles.","Verificación completada"),this.documentos}catch(s){return console.error("Error al verificar archivos:",s),t.error("Error al verificar la existencia de archivos","Error de verificación"),this.documentos}finally{this.loading=!1}},async limpiarDocumentosInaccesibles(){if(!this.documentos.length)return this.documentos;const t=X(),e=this.documentos.filter(s=>s.archivoInaccesible);if(e.length===0)return t.info("No hay documentos inaccesibles para eliminar","Información"),this.documentos;try{this.loading=!0;let s=0;for(const o of e)try{await cs.delete(o.id_documento),s++,this.totalDocumentos--}catch(n){console.error(`Error al eliminar documento ${o.id_documento}:`,n)}return this.documentos=this.documentos.filter(o=>!o.archivoInaccesible),t.success(`Se han eliminado ${s} documento(s) inaccesibles de la base de datos.`,"Limpieza completada"),this.documentos}catch(s){return console.error("Error al limpiar documentos inaccesibles:",s),t.error("Error al eliminar documentos inaccesibles","Error de limpieza"),this.documentos}finally{this.loading=!1}},async uploadDocumento(t){var s,o;this.loading=!0,this.error=null;const e=X();try{if(!t.get("archivo"))throw new Error("Debe seleccionar un archivo");if(!t.get("nombre"))throw new Error("El nombre del documento es obligatorio");if(!t.get("id_empleado"))throw new Error("El ID del empleado es obligatorio");const n=t.get("id_empleado");t.set("id_empleado",String(n));const i=await cs.upload(t);if(i.data.success)return e.success("Documento subido correctamente"),this.totalDocumentos++,i.data.data.documento;throw new Error(i.data.message||"Error al subir documento")}catch(n){const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al subir documento";throw this.error=i,e.error(i),n}finally{this.loading=!1}},async updateDocumento(t,e){var o,n;this.loading=!0,this.error=null;const s=X();try{if(!e.nombre)throw new Error("El nombre del documento es obligatorio");const i=await cs.updateMetadata(t,e);if(i.data.success){s.success("Documento actualizado correctamente"),this.currentDocumento&&this.currentDocumento.id_documento===t&&(this.currentDocumento=i.data.data.documento);const r=this.documentos.findIndex(a=>a.id_documento===t);if(r!==-1){const a=this.documentos[r].archivoInaccesible;this.documentos[r]={...i.data.data.documento,archivoInaccesible:a}}return i.data.data.documento}else throw new Error(i.data.message||"Error al actualizar documento")}catch(i){const r=((n=(o=i.response)==null?void 0:o.data)==null?void 0:n.message)||i.message||"Error al actualizar documento";throw this.error=r,s.error(r),i}finally{this.loading=!1}},async updateDocumentoWithFile(t,e){var o,n;this.loading=!0,this.error=null;const s=X();try{if(!e.get("archivo"))throw new Error("Debe seleccionar un archivo");if(!e.get("nombre"))throw new Error("El nombre del documento es obligatorio");if(!e.get("id_empleado"))throw new Error("El ID del empleado es obligatorio");const i=e.get("id_empleado");e.set("id_empleado",String(i));const r=await cs.updateWithFile(t,e);if(r.data.success){s.success("Documento actualizado correctamente"),this.currentDocumento&&this.currentDocumento.id_documento===t&&(this.currentDocumento=r.data.data.documento);const a=this.documentos.findIndex(l=>l.id_documento===t);return a!==-1&&(this.documentos[a]={...r.data.data.documento,archivoInaccesible:!1}),r.data.data.documento}else throw new Error(r.data.message||"Error al actualizar documento")}catch(i){const r=((n=(o=i.response)==null?void 0:o.data)==null?void 0:n.message)||i.message||"Error al actualizar documento";throw this.error=r,s.error(r),i}finally{this.loading=!1}},async deleteDocumento(t){var s,o;this.loading=!0,this.error=null;const e=X();try{const n=await cs.delete(t);if(n.data.success)return e.success("Documento eliminado correctamente"),this.documentos=this.documentos.filter(i=>i.id_documento!==t),this.totalDocumentos--,this.currentDocumento&&this.currentDocumento.id_documento===t&&(this.currentDocumento=null),!0;throw new Error(n.data.message||"Error al eliminar documento")}catch(n){const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al eliminar documento";throw this.error=i,e.error(i),n}finally{this.loading=!1}},async downloadDocumento(t){var s,o,n,i,r;this.error=null;const e=X();try{const a=await this._obtenerDocumento(t),l=await cs.download(t);if(!l.data||l.data.length===0)throw new Error("El archivo no está disponible o está dañado");const d=l.headers["content-type"]||"application/octet-stream",u=this._determinarNombreArchivo(a,l.headers,d);await this._ejecutarDescarga(l.data,d,u);const f=this.documentos.findIndex(h=>h.id_documento===t);return f!==-1&&this.documentos[f].archivoInaccesible&&(this.documentos[f].archivoInaccesible=!1),!0}catch(a){let l="Error al descargar documento";if(((s=a.response)==null?void 0:s.status)===404){l="El archivo físico no se encuentra en el servidor";const d=this.documentos.findIndex(u=>u.id_documento===t);d!==-1&&(this.documentos[d].archivoInaccesible=!0)}else if(((o=a.response)==null?void 0:o.status)===500)l="Error del servidor al acceder al archivo";else if((n=a.message)!=null&&n.includes("no está disponible")){l=a.message;const d=this.documentos.findIndex(u=>u.id_documento===t);d!==-1&&(this.documentos[d].archivoInaccesible=!0)}else l=((r=(i=a.response)==null?void 0:i.data)==null?void 0:r.message)||a.message||l;throw this.error=l,e.error(l),a}},async _obtenerDocumento(t){var s;const e=this.documentos.findIndex(o=>o.id_documento===t);if(e!==-1)return this.documentos[e];if(((s=this.currentDocumento)==null?void 0:s.id_documento)===t)return this.currentDocumento;try{const o=await cs.getById(t);if(o.data.success)return o.data.data.documento}catch{}throw new Error("No se pudo obtener la información del documento")},_determinarNombreArchivo(t,e,s){const o=e["content-disposition"];if(o){const l=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(o);if(l!=null&&l[1])return l[1].replace(/['"]/g,"")}const n={"image/jpeg":".jpg","image/jpg":".jpg","image/png":".png","image/gif":".gif","image/bmp":".bmp","image/webp":".webp","image/tiff":".tiff","image/svg+xml":".svg","application/pdf":".pdf","application/msword":".doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":".docx","application/vnd.ms-excel":".xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":".xlsx","application/vnd.ms-powerpoint":".ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":".pptx","text/plain":".txt","text/html":".html","text/css":".css","text/javascript":".js","application/zip":".zip","application/x-rar-compressed":".rar","application/x-7z-compressed":".7z","application/gzip":".gz","application/json":".json","application/xml":".xml"};let i=".pdf";if(s&&n[s])i=n[s];else if(t.nombre_original){const a=t.nombre_original.lastIndexOf(".");a>0&&(i=t.nombre_original.substring(a))}let r=t.nombre||"documento";return r.lastIndexOf(".")>0?r=r.substring(0,r.lastIndexOf("."))+i:r+=i,r||"documento.pdf"},_ejecutarDescarga(t,e,s){return new Promise(o=>{const n=new Blob([t],{type:e}),i=window.URL.createObjectURL(n),r=document.createElement("a");r.href=i,r.download=s,r.style.display="none",document.body.appendChild(r),r.click(),setTimeout(()=>{document.body.removeChild(r),window.URL.revokeObjectURL(i),o()},150)})},async previewDocumento(t){var s,o,n,i,r;this.error=null;const e=X();try{const a=await cs.preview(t);if(!a.data||a.data.length===0)throw new Error("El archivo no está disponible o está dañado");const l=window.URL.createObjectURL(new Blob([a.data],{type:a.headers["content-type"]})),d=this.documentos.findIndex(u=>u.id_documento===t);return d!==-1&&this.documentos[d].archivoInaccesible&&(this.documentos[d].archivoInaccesible=!1),l}catch(a){let l="Error al previsualizar documento";if(((s=a.response)==null?void 0:s.status)===404){l="El archivo físico no se encuentra en el servidor";const d=this.documentos.findIndex(u=>u.id_documento===t);d!==-1&&(this.documentos[d].archivoInaccesible=!0)}else if(((o=a.response)==null?void 0:o.status)===500)l="Error del servidor al acceder al archivo";else if((n=a.message)!=null&&n.includes("no está disponible")){l=a.message;const d=this.documentos.findIndex(u=>u.id_documento===t);d!==-1&&(this.documentos[d].archivoInaccesible=!0)}else l=((r=(i=a.response)==null?void 0:i.data)==null?void 0:r.message)||a.message||l;throw this.error=l,e.error(l),a}},updateFilters(t){this.filters={...this.filters,...t},this.pagination.page=1},resetFilters(){this.filters={search:"",tipo_documento:"",fecha_desde:null,fecha_hasta:null},this.pagination.page=1},setPage(t){this.pagination.page=t}}}),Ri={getAll:(t={})=>$.get("/formaciones",{params:t}),getById:t=>$.get(`/formaciones/${t}`),getByEmpleado:(t,e={})=>$.get(`/formaciones/empleado/${t}`,{params:e}),create:t=>$.post("/formaciones",t),update:(t,e)=>$.put(`/formaciones/${t}`,e),delete:t=>$.delete(`/formaciones/${t}`)},bm=Xo().shape({nombre:Qe().required("El nombre de la formación es requerido").min(3,"El nombre debe tener al menos 3 caracteres").max(100,"El nombre no puede exceder 100 caracteres").trim(),es_interna:Cr().default(!1),fecha_inicio:hr().required("La fecha de inicio es requerida").typeError("La fecha de inicio debe ser una fecha válida").max(new Date,"La fecha de inicio no puede ser futura"),fecha_fin:hr().nullable().typeError("La fecha de fin debe ser una fecha válida").test("fecha-fin-valida","La fecha de fin debe ser igual o posterior a la fecha de inicio",function(t){if(!t)return!0;const e=this.parent.fecha_inicio;return e?new Date(t)>=new Date(e):!0}).test("fecha-fin-no-futura","La fecha de fin no puede ser futura",t=>t?new Date(t)<=new Date:!0)}),bE=bm.clone(),Of=async(t,e=!1)=>{try{return await(e?bE:bm).validate(t,{abortEarly:!1}),{isValid:!0,errors:{}}}catch(s){const o={};return s.inner&&s.inner.length>0?s.inner.forEach(n=>{o[n.path]=n.message}):o.general=s.message,{isValid:!1,errors:o}}},R6=async(t,e,s,o=!1)=>{try{const n=o?bE:bm,i={...s};return i[t]=e,await n.validateAt(t,i),{isValid:!0,error:null}}catch(n){return{isValid:!1,error:n.message}}},O6=wt("formacionEmpleados",{state:()=>({formaciones:[],currentFormacion:null,loading:!1,error:null,pagination:{page:1,limit:10,totalItems:0,totalPages:0}}),actions:{async fetchFormaciones(t={}){this.loading=!0,this.error=null;const e=X();try{const s=await Ri.getAll(t);if(s.data.success)return this.formaciones=s.data.data.formaciones||[],this.pagination=s.data.data.pagination||this.pagination,this.formaciones;throw new Error(s.data.message||"Error al obtener formaciones")}catch(s){return console.error("Error en fetchFormaciones:",s),this.error=s.message||"Error al cargar las formaciones",e.error(this.error,"Error"),[]}finally{this.loading=!1}},async fetchFormacionById(t){this.loading=!0,this.error=null;const e=X();try{const s=await Ri.getById(t);if(s.data.success)return this.currentFormacion=s.data.data.formacion,this.currentFormacion;throw new Error(s.data.message||"Error al obtener la formación")}catch(s){return console.error("Error en fetchFormacionById:",s),this.error=s.message||"Error al cargar la formación",e.error(this.error,"Error"),null}finally{this.loading=!1}},async fetchFormacionesByEmpleado(t,e={}){this.loading=!0,this.error=null;const s=X();try{const o=await Ri.getByEmpleado(t,e);if(o.data.success)return this.formaciones=o.data.data.formaciones||[],this.pagination=o.data.data.pagination||this.pagination,o.data.data;throw new Error(o.data.message||"Error al obtener formaciones del empleado")}catch(o){return console.error("Error en fetchFormacionesByEmpleado:",o),this.error=o.message||"Error al cargar las formaciones del empleado",s.error(this.error,"Error"),null}finally{this.loading=!1}},async createFormacion(t){this.loading=!0,this.error=null;const e=X();try{const s=await Of(t,!1);if(!s.isValid){const n=Object.values(s.errors).join(", ");throw new Error(n)}const o=await Ri.create(t);if(o.data.success){const n=o.data.data.formacion;return this.formaciones.push(n),e.success("Formación creada correctamente","Éxito"),n}else throw new Error(o.data.message||"Error al crear la formación")}catch(s){throw console.error("Error en createFormacion:",s),this.error=s.message||"Error al crear la formación",e.error(this.error,"Error"),s}finally{this.loading=!1}},async updateFormacion(t,e){this.loading=!0,this.error=null;const s=X();try{const o=await Of(e,!0);if(!o.isValid){const i=Object.values(o.errors).join(", ");throw new Error(i)}const n=await Ri.update(t,e);if(n.data.success){const i=n.data.data.formacion,r=this.formaciones.findIndex(a=>a.id_formacion===Number(t));return r!==-1&&(this.formaciones[r]=i),this.currentFormacion&&this.currentFormacion.id_formacion===Number(t)&&(this.currentFormacion=i),s.success("Formación actualizada correctamente","Éxito"),i}else throw new Error(n.data.message||"Error al actualizar la formación")}catch(o){throw console.error("Error en updateFormacion:",o),this.error=o.message||"Error al actualizar la formación",s.error(this.error,"Error"),o}finally{this.loading=!1}},async deleteFormacion(t){this.loading=!0,this.error=null;const e=X();try{const s=await Ri.delete(t);if(s.data.success)return this.formaciones=this.formaciones.filter(o=>o.id_formacion!==Number(t)),this.currentFormacion&&this.currentFormacion.id_formacion===Number(t)&&(this.currentFormacion=null),e.success("Formación eliminada correctamente","Éxito"),!0;throw new Error(s.data.message||"Error al eliminar la formación")}catch(s){return console.error("Error en deleteFormacion:",s),this.error=s.message||"Error al eliminar la formación",e.error(this.error,"Error"),!1}finally{this.loading=!1}}}}),Oi={getAll:(t={})=>$.get("/ausencias",{params:t}),getById:t=>$.get(`/ausencias/${t}`),getByEmpleado:(t,e={})=>$.get(`/ausencias/empleado/${t}`,{params:e}),create:t=>$.post("/ausencias",t),update:(t,e)=>$.put(`/ausencias/${t}`,e),delete:t=>$.delete(`/ausencias/${t}`)},N6=wt("ausencias",{state:()=>({ausencias:[],currentAusencia:null,loading:!1,error:null,pagination:{page:1,limit:10,totalItems:0,totalPages:0}}),actions:{async fetchAusencias(t={}){this.loading=!0,this.error=null;try{const e=await Oi.getAll(t);if(e.data.success)this.ausencias=e.data.data.ausencias,this.pagination=e.data.data.pagination;else throw new Error(e.data.message||"Error al obtener ausencias")}catch(e){console.error("Error en fetchAusencias:",e),this.error=e.message||"Error al cargar las ausencias"}finally{this.loading=!1}},async fetchAusenciaById(t){this.loading=!0,this.error=null;try{const e=await Oi.getById(t);if(e.data.success)return this.currentAusencia=e.data.data.ausencia,this.currentAusencia;throw new Error(e.data.message||"Error al obtener la ausencia")}catch(e){return console.error("Error en fetchAusenciaById:",e),this.error=e.message||"Error al cargar la ausencia",null}finally{this.loading=!1}},async fetchAusenciasByEmpleado(t,e={}){this.loading=!0,this.error=null;try{const s=await Oi.getByEmpleado(t,e);if(s.data.success)return this.ausencias=s.data.data.ausencias,this.pagination=s.data.data.pagination,s.data.data;throw new Error(s.data.message||"Error al obtener ausencias del empleado")}catch(s){return console.error("Error en fetchAusenciasByEmpleado:",s),this.error=s.message||"Error al cargar las ausencias del empleado",null}finally{this.loading=!1}},async createAusencia(t){this.loading=!0,this.error=null;const e=X();try{const s=await Oi.create(t);if(s.data.success)return e.success("Ausencia creada correctamente","Éxito"),s.data.data.ausencia;throw new Error(s.data.message||"Error al crear la ausencia")}catch(s){return console.error("Error en createAusencia:",s),this.error=s.message||"Error al crear la ausencia",e.error(this.error,"Error"),null}finally{this.loading=!1}},async updateAusencia(t,e){this.loading=!0,this.error=null;const s=X();try{const o=await Oi.update(t,e);if(o.data.success)return s.success("Ausencia actualizada correctamente","Éxito"),o.data.data.ausencia;throw new Error(o.data.message||"Error al actualizar la ausencia")}catch(o){return console.error("Error en updateAusencia:",o),this.error=o.message||"Error al actualizar la ausencia",s.error(this.error,"Error"),null}finally{this.loading=!1}},async deleteAusencia(t){this.loading=!0,this.error=null;const e=X();try{const s=await Oi.delete(t);if(s.data.success)return e.success("Ausencia eliminada correctamente","Éxito"),!0;throw new Error(s.data.message||"Error al eliminar la ausencia")}catch(s){return console.error("Error en deleteAusencia:",s),this.error=s.message||"Error al eliminar la ausencia",e.error(this.error,"Error"),!1}finally{this.loading=!1}}}}),ev={getAll:(t={})=>$.get("/tipos-ausencia",{params:t}),getById:t=>$.get(`/tipos-ausencia/${t}`),create:t=>$.post("/tipos-ausencia",t),update:(t,e)=>$.put(`/tipos-ausencia/${t}`,e),delete:t=>$.delete(`/tipos-ausencia/${t}`)},vE=wt("tiposAusencia",{state:()=>({tiposAusencia:[],loading:!1,error:null}),getters:{getTipoAusenciaById:t=>e=>{if(!e)return null;const s=parseInt(e);return t.tiposAusencia.find(o=>parseInt(o.id_tipo_ausencia)===s)||null},getTipoAusenciaNombre:t=>e=>{if(!e)return"Sin especificar";const s=parseInt(e),o=t.tiposAusencia.find(n=>parseInt(n.id_tipo_ausencia)===s);return o?o.nombre:"Sin especificar"}},actions:{async fetchTiposAusencia(){var e,s;const t=X();if(this.tiposAusencia.length>0)return this.tiposAusencia;this.loading=!0,this.error=null;try{console.log("Cargando tipos de ausencia desde la API...");const o=await ev.getAll();return console.log("Respuesta de la API:",o.data),o.data&&o.data.data&&o.data.data.tiposAusencia?this.tiposAusencia=o.data.data.tiposAusencia:o.data&&o.data.data?this.tiposAusencia=Array.isArray(o.data.data)?o.data.data:[]:Array.isArray(o.data)?this.tiposAusencia=o.data:this.tiposAusencia=[],console.log("Tipos de ausencia cargados:",this.tiposAusencia),this.tiposAusencia}catch(o){console.error("Error al cargar tipos de ausencia:",o);const n=((s=(e=o.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al cargar los tipos de ausencia";return this.error=n,t.error(n,"Error"),[]}finally{this.loading=!1}},async getTipoAusencia(t){if(!t)return null;const e=parseInt(t),s=this.getTipoAusenciaById(e);if(s)return s;try{const o=await ev.getById(e);let n=null;return o.data&&o.data.data?n=o.data.data:o.data&&(n=o.data),n?(this.tiposAusencia.some(i=>parseInt(i.id_tipo_ausencia)===parseInt(n.id_tipo_ausencia))||this.tiposAusencia.push(n),n):null}catch(o){return console.error(`Error al obtener tipo de ausencia con ID ${t}:`,o),null}},setTiposAusencia(t){Array.isArray(t)&&(this.tiposAusencia=t)}}}),Lr={getAll(t){return $.get("/tipos-contrato",{params:t})},getById(t){return $.get(`/tipos-contrato/${t}`)},create(t){return $.post("/tipos-contrato",t)},update(t,e){return $.put(`/tipos-contrato/${t}`,e)},delete(t){return $.delete(`/tipos-contrato/${t}`)}},vm=wt("tiposContrato",{state:()=>({tiposContrato:[],loading:!1,error:null,initialized:!1,pagination:{total:0,page:1,limit:10,totalPages:0,hasMore:!1}}),getters:{getTipoContratoById:t=>e=>{if(!e)return null;const s=Number.parseInt(e);return t.tiposContrato.find(o=>Number.parseInt(o.id_tipo_contrato)===s)||null},getTipoContratoNombre:t=>e=>{if(!e)return"Desconocido";const s=Number.parseInt(e),o=t.tiposContrato.find(n=>Number.parseInt(n.id_tipo_contrato)===s);return o?o.nombre:"Desconocido"},getTipoContratoCodigo:t=>e=>{if(!e)return"---";const s=Number.parseInt(e),o=t.tiposContrato.find(n=>Number.parseInt(n.id_tipo_contrato)===s);return o?o.codigo:"---"}},actions:{async fetchTiposContrato(t={}){var s,o,n;const e=X();if(this.initialized&&this.tiposContrato.length>0&&Object.keys(t).length===0)return console.log("Usando datos en caché:",this.tiposContrato),this.tiposContrato;this.loading=!0,this.error=null;try{console.log("Cargando tipos de contrato desde la API con parámetros:",t);const i=await Lr.getAll(t);return console.log("Respuesta completa de la API:",i),console.log("Datos de la respuesta:",i.data),i.data&&i.data.data?(console.log("Estructura de datos encontrada:",i.data.data),i.data.data.tiposContrato?(console.log("Tipos de contrato encontrados:",i.data.data.tiposContrato),console.log("Información de paginación:",i.data.data.pagination),this.tiposContrato=i.data.data.tiposContrato,this.pagination=i.data.data.pagination||this.pagination):Array.isArray(i.data.data)?(console.log("Array de tipos de contrato encontrado:",i.data.data),this.tiposContrato=i.data.data):(console.warn("Formato de datos no reconocido:",i.data.data),this.tiposContrato=[])):Array.isArray(i.data)?(console.log("Array directo encontrado:",i.data),this.tiposContrato=i.data):(console.warn("No se encontraron datos en la respuesta:",i.data),this.tiposContrato=[]),this.initialized=!0,console.log("Tipos de contrato cargados en el store:",this.tiposContrato),this.tiposContrato}catch(i){console.error("Error al cargar tipos de contrato:",i),console.error("Detalles del error:",((s=i.response)==null?void 0:s.data)||i.message);const r=((n=(o=i.response)==null?void 0:o.data)==null?void 0:n.message)||"Error al cargar los tipos de contrato";return this.error=r,e.error(r,"Error"),this.initialized=!0,this.tiposContrato}finally{this.loading=!1}},async getTipoContrato(t){if(!t)return null;const e=X();this.initialized||await this.fetchTiposContrato();const s=Number.parseInt(t),o=this.getTipoContratoById(s);if(o)return o;this.loading=!0;try{const n=await Lr.getById(s);let i=null;return n.data&&n.data.data?i=n.data.data:n.data&&(i=n.data),i?(this.tiposContrato.some(r=>Number.parseInt(r.id_tipo_contrato)===Number.parseInt(i.id_tipo_contrato))||this.tiposContrato.push(i),i):null}catch(n){return console.error(`Error al obtener tipo de contrato con ID ${t}:`,n),e.error("Error al obtener el tipo de contrato","Error"),null}finally{this.loading=!1}},async createTipoContrato(t){var s,o,n;this.loading=!0,this.error=null;const e=X();try{console.log("Creando tipo de contrato con datos:",t);const i=await Lr.create(t);console.log("Respuesta de creación:",i);let r=null;return i.data&&i.data.data?r=i.data.data:i.data&&(r=i.data),r&&(console.log("Nuevo tipo de contrato creado:",r),this.tiposContrato.push(r),e.success("Tipo de contrato creado correctamente","Éxito")),r}catch(i){console.error("Error al crear tipo de contrato:",i),console.error("Detalles del error:",((s=i.response)==null?void 0:s.data)||i.message);const r=((n=(o=i.response)==null?void 0:o.data)==null?void 0:n.message)||"Error al crear el tipo de contrato";throw this.error=r,e.error(r,"Error"),i}finally{this.loading=!1}},async updateTipoContrato(t,e){var o,n,i;this.loading=!0,this.error=null;const s=X();try{console.log(`Actualizando tipo de contrato con ID ${t} con datos:`,e);const r=await Lr.update(t,e);console.log("Respuesta de actualización:",r);let a=null;if(r.data&&r.data.data?a=r.data.data:r.data&&(a=r.data),a){console.log("Tipo de contrato actualizado:",a);const l=this.tiposContrato.findIndex(d=>Number.parseInt(d.id_tipo_contrato)===Number.parseInt(t));l!==-1?(this.tiposContrato[l]={...a},console.log("Tipo de contrato actualizado en el store:",this.tiposContrato[l])):console.warn(`No se encontró el tipo de contrato con ID ${t} en el store`),s.success("Tipo de contrato actualizado correctamente","Éxito")}return a}catch(r){console.error("Error al actualizar tipo de contrato:",r),console.error("Detalles del error:",((o=r.response)==null?void 0:o.data)||r.message);const a=((i=(n=r.response)==null?void 0:n.data)==null?void 0:i.message)||"Error al actualizar el tipo de contrato";throw this.error=a,s.error(a,"Error"),r}finally{this.loading=!1}},async deleteTipoContrato(t){var s,o,n,i,r,a,l;this.loading=!0,this.error=null;const e=X();try{return console.log(`Eliminando tipo de contrato con ID ${t}`),await Lr.delete(t),this.tiposContrato=this.tiposContrato.filter(d=>Number.parseInt(d.id_tipo_contrato)!==Number.parseInt(t)),console.log("Tipo de contrato eliminado del store"),e.success("Tipo de contrato eliminado correctamente","Éxito"),!0}catch(d){if(console.error("Error al eliminar tipo de contrato:",d),console.error("Detalles del error:",((s=d.response)==null?void 0:s.data)||d.message),(i=(n=(o=d.response)==null?void 0:o.data)==null?void 0:n.message)!=null&&i.includes("tiene contratos asociados")||(r=d.message)!=null&&r.includes("tiene contratos asociados")){const u="No se puede eliminar el tipo de contrato porque tiene contratos asociados";this.error=u,e.error(u,"Error")}else{const u=((l=(a=d.response)==null?void 0:a.data)==null?void 0:l.message)||"Error al eliminar el tipo de contrato";this.error=u,e.error(u,"Error")}throw d}finally{this.loading=!1}},setTiposContrato(t){Array.isArray(t)&&t.length>0&&(this.tiposContrato=t,this.initialized=!0)},resetState(){this.tiposContrato=[],this.loading=!1,this.error=null,this.initialized=!1,this.pagination={total:0,page:1,limit:10,totalPages:0,hasMore:!1}}}}),zr={getAll(t){return $.get("/empresas",{params:t})},getChartData(t){return $.get("/empresas/chart-data",{params:t})},getById(t){return $.get(`/empresas/${t}`)},create(t){return $.post("/empresas",t)},update(t,e){return $.put(`/empresas/${t}`,e)},delete(t){return $.delete(`/empresas/${t}`)}},ym=wt("empresas",{state:()=>({empresas:[],loading:!1,error:null,initialized:!1,totalEmpresas:0,pagination:{total:0,page:1,limit:10,totalPages:0,hasMore:!1}}),getters:{getEmpresaById:t=>e=>{if(!e)return null;const s=Number.parseInt(e);return t.empresas.find(o=>Number.parseInt(o.id_empresa)===s)||null},getEmpresaNombre:t=>e=>{if(!e)return"Desconocida";const s=Number.parseInt(e),o=t.empresas.find(n=>Number.parseInt(n.id_empresa)===s);return o?o.nombre:"Desconocida"},getEmpresaCif:t=>e=>{if(!e)return"---";const s=Number.parseInt(e),o=t.empresas.find(n=>Number.parseInt(n.id_empresa)===s);return o?o.cif:"---"}},actions:{async fetchEmpresasCount(){var e,s;this.loading=!0,this.error=null;const t=X();try{const n=(await $.get("/empresas/count")).data;if(n.success)return this.totalEmpresas=n.data.total||0,this.totalEmpresas;throw new Error(n.message||"Error al obtener el conteo de empresas")}catch(o){const n=((s=(e=o.response)==null?void 0:e.data)==null?void 0:s.message)||o.message||"Error al obtener el conteo de empresas";return this.error=n,t.error(n),0}finally{this.loading=!1}},async fetchEmpresas(t={}){var s,o;const e=X();if(this.initialized&&this.empresas.length>0&&Object.keys(t).length===0)return this.empresas;this.loading=!0,this.error=null;try{const n=await zr.getAll(t);return n.data&&n.data.data?n.data.data.empresas?(this.empresas=n.data.data.empresas,this.pagination=n.data.data.pagination||this.pagination,this.totalEmpresas=this.pagination.total||this.empresas.length):Array.isArray(n.data.data)?(this.empresas=n.data.data,this.totalEmpresas=this.empresas.length):(console.warn("Formato de datos no reconocido:",n.data.data),this.empresas=[],this.totalEmpresas=0):Array.isArray(n.data)?(this.empresas=n.data,this.totalEmpresas=this.empresas.length):(console.warn("No se encontraron datos en la respuesta:",n.data),this.empresas=[],this.totalEmpresas=0),this.initialized=!0,this.empresas}catch(n){console.error("Error al cargar empresas:",n);const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||"Error al cargar las empresas";return this.error=i,e.error(i,"Error"),this.initialized=!0,this.empresas}finally{this.loading=!1}},async getEmpresa(t){if(!t)return null;this.initialized||await this.fetchEmpresas();const e=Number.parseInt(t),s=this.getEmpresaById(e);if(s)return s;this.loading=!0;const o=X();try{const n=await zr.getById(e);let i=null;return n.data&&n.data.data?i=n.data.data:n.data&&(i=n.data),i?(this.empresas.some(r=>Number.parseInt(r.id_empresa)===Number.parseInt(i.id_empresa))||this.empresas.push(i),i):null}catch(n){return console.error(`Error al obtener empresa con ID ${t}:`,n),o.error("Error al obtener la empresa","Error"),null}finally{this.loading=!1}},async createEmpresa(t){var s,o;this.loading=!0,this.error=null;const e=X();try{const n=await zr.create(t);let i=null;return n.data&&n.data.data?i=n.data.data:n.data&&(i=n.data),i&&(this.empresas.push(i),this.totalEmpresas++,e.success("Empresa creada correctamente","Éxito")),i}catch(n){console.error("Error al crear empresa:",n);const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||"Error al crear la empresa";throw this.error=i,e.error(i,"Error"),n}finally{this.loading=!1}},async updateEmpresa(t,e){var o,n;this.loading=!0,this.error=null;const s=X();try{const i=await zr.update(t,e);let r=null;if(i.data&&i.data.data?r=i.data.data:i.data&&(r=i.data),r){const a=this.empresas.findIndex(l=>Number.parseInt(l.id_empresa)===Number.parseInt(t));a!==-1?this.empresas[a]={...r}:console.warn(`No se encontró la empresa con ID ${t} en el store`),s.success("Empresa actualizada correctamente","Éxito")}return r}catch(i){console.error("Error al actualizar empresa:",i);const r=((n=(o=i.response)==null?void 0:o.data)==null?void 0:n.message)||"Error al actualizar la empresa";throw this.error=r,s.error(r,"Error"),i}finally{this.loading=!1}},async deleteEmpresa(t){var s,o,n,i,r,a;this.loading=!0,this.error=null;const e=X();try{return await zr.delete(t),this.empresas=this.empresas.filter(l=>Number.parseInt(l.id_empresa)!==Number.parseInt(t)),this.totalEmpresas--,e.success("Empresa eliminada correctamente","Éxito"),!0}catch(l){if(console.error("Error al eliminar empresa:",l),(n=(o=(s=l.response)==null?void 0:s.data)==null?void 0:o.message)!=null&&n.includes("tiene empleados asociados")||(i=l.message)!=null&&i.includes("tiene empleados asociados")){const d="No se puede eliminar la empresa porque tiene empleados asociados";this.error=d,e.error(d,"Error")}else{const d=((a=(r=l.response)==null?void 0:r.data)==null?void 0:a.message)||"Error al eliminar la empresa";this.error=d,e.error(d,"Error")}throw l}finally{this.loading=!1}},setEmpresas(t){Array.isArray(t)&&t.length>0&&(this.empresas=t,this.totalEmpresas=t.length,this.initialized=!0)},resetState(){this.empresas=[],this.loading=!1,this.error=null,this.initialized=!1,this.totalEmpresas=0,this.pagination={total:0,page:1,limit:10,totalPages:0,hasMore:!1}}}}),$r={getAll(t){return $.get("/convenios",{params:t})},getById(t){return $.get(`/convenios/${t}`)},create(t){return $.post("/convenios",t)},update(t,e){return $.put(`/convenios/${t}`,e)},delete(t){return $.delete(`/convenios/${t}`)}},Kn={getAll(t){return $.get("/categorias-convenio",{params:t})},getById(t){return $.get(`/categorias-convenio/${t}`)},getByConvenio(t){return console.log(`Llamando a API para obtener categorías del convenio ${t}`),$.get(`/categorias-convenio/convenio/${t}`).catch(e=>{if(console.error(`Error al obtener categorías del convenio ${t}:`,e),e.response&&(e.response.status===500||e.response.status===404))return console.log("Intentando método alternativo con parámetros de consulta"),$.get("/categorias-convenio",{params:{id_convenio:t,limit:100}});throw e})},create(t){return $.post("/categorias-convenio",t)},update(t,e){return $.put(`/categorias-convenio/${t}`,e)},delete(t){return $.delete(`/categorias-convenio/${t}`)}},Ki=wt("convenios",{state:()=>({convenios:[],loading:!1,error:null,currentConvenio:null}),getters:{getConvenioById:t=>e=>e&&t.convenios.find(s=>s.id_convenio===Number(e))||null,getConvenioNombre:t=>e=>{if(!e)return"Desconocido";const s=t.convenios.find(o=>o.id_convenio===Number(e));return s?s.nombre:"Desconocido"},getConvenioCodigo:t=>e=>{if(!e)return"---";const s=t.convenios.find(o=>o.id_convenio===Number(e));return s?s.codigo:"---"}},actions:{async fetchConvenios(t={}){this.loading=!0,this.error=null;const e=X();try{const o=(await $r.getAll(t)).data;if(o.success){const i=(o.data.convenios||[]).map(async r=>{try{const a=await Kn.getByConvenio(r.id_convenio);a.data&&a.data.success?r.CategoriaConvenios=a.data.data.categorias||[]:r.CategoriaConvenios=[]}catch(a){console.error(`Error al cargar categorías para convenio ${r.id_convenio}:`,a),r.CategoriaConvenios=[]}return r});return this.convenios=await Promise.all(i),this.convenios}else throw new Error(o.message||"Error al cargar convenios")}catch(s){return console.error("Error al cargar convenios:",s),this.error=s.message||"Error al cargar convenios",e.error(this.error,"Error"),[]}finally{this.loading=!1}},async fetchConvenioById(t){this.loading=!0,this.error=null,this.currentConvenio=null;const e=X();try{const o=(await $r.getById(t)).data;if(o.success){const n=o.data.convenio;n.CategoriaConvenios||(n.CategoriaConvenios=[]),this.currentConvenio=n;const i=this.convenios.findIndex(r=>r.id_convenio===Number(t));return i!==-1?this.convenios[i]=n:this.convenios.push(n),this.currentConvenio}else throw new Error(o.message||"Error al cargar el convenio")}catch(s){return console.error("Error al cargar el convenio:",s),this.error=s.message||"Error al cargar el convenio",e.error(this.error,"Error"),null}finally{this.loading=!1}},async createConvenio(t){this.loading=!0,this.error=null;const e=X();try{const o=(await $r.create(t)).data;if(o.success){const n=o.data.convenio;return n.CategoriaConvenios||(n.CategoriaConvenios=[]),this.convenios.push(n),e.success("Convenio creado correctamente","Éxito"),n}else throw new Error(o.message||"Error al crear el convenio")}catch(s){throw console.error("Error al crear el convenio:",s),this.error=s.message||"Error al crear el convenio",e.error(this.error,"Error"),s}finally{this.loading=!1}},async updateConvenio(t,e){this.loading=!0,this.error=null;const s=X();try{const n=(await $r.update(t,e)).data;if(n.success){const i=n.data.convenio;this.currentConvenio=i;const r=this.convenios.findIndex(a=>a.id_convenio===Number(t));if(r!==-1){const a=this.convenios[r].CategoriaConvenios||[];i.CategoriaConvenios=a,this.convenios[r]=i}return s.success("Convenio actualizado correctamente","Éxito"),i}else throw new Error(n.message||"Error al actualizar el convenio")}catch(o){throw console.error("Error al actualizar el convenio:",o),this.error=o.message||"Error al actualizar el convenio",s.error(this.error,"Error"),o}finally{this.loading=!1}},async deleteConvenio(t){this.loading=!0,this.error=null;const e=X();try{const o=(await $r.delete(t)).data;if(o.success)return this.convenios=this.convenios.filter(n=>n.id_convenio!==Number(t)),this.currentConvenio&&this.currentConvenio.id_convenio===Number(t)&&(this.currentConvenio=null),e.success("Convenio eliminado correctamente","Éxito"),!0;throw new Error(o.message||"Error al eliminar el convenio")}catch(s){throw console.error("Error al eliminar el convenio:",s),this.error=s.message||"Error al eliminar el convenio",e.error(this.error,"Error"),s}finally{this.loading=!1}},updateCategorias(t,e){const s=this.convenios.findIndex(o=>o.id_convenio===Number(t));s!==-1&&(this.convenios[s].CategoriaConvenios=e),this.currentConvenio&&this.currentConvenio.id_convenio===Number(t)&&(this.currentConvenio.CategoriaConvenios=e)}}}),_m=wt("categoriasConvenio",{state:()=>({categorias:[],loading:!1,error:null,currentCategoria:null}),getters:{getCategoriasPorConvenio:t=>e=>e?t.categorias.filter(s=>s.id_convenio===Number(e)):t.categorias},actions:{async fetchCategorias(){var e,s;this.loading=!0,this.error=null;const t=X();try{const n=(await Kn.getAll()).data;if(n.success)return this.categorias=n.data.categorias||[],this.categorias;throw new Error(n.message||"Error al cargar categorías")}catch(o){console.error("Error al cargar categorías:",o);const n=((s=(e=o.response)==null?void 0:e.data)==null?void 0:s.message)||o.message||"Error al cargar categorías";return this.error=n,t.error(n),[]}finally{this.loading=!1}},async fetchCategoriasByConvenio(t){var s,o;this.loading=!0,this.error=null;const e=X();try{const i=(await Kn.getByConvenio(t)).data;if(i.success){const r=i.data.categorias||[];return this.categorias=this.categorias.filter(a=>a.id_convenio!==Number(t)),this.categorias.push(...r),r}else throw new Error(i.message||"Error al cargar categorías por convenio")}catch(n){console.error("Error al cargar categorías por convenio:",n);const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al cargar categorías por convenio";return this.error=i,e.error(i),[]}finally{this.loading=!1}},async fetchCategoriaById(t){var s,o;this.loading=!0,this.error=null,this.currentCategoria=null;const e=X();try{const i=(await Kn.getById(t)).data;if(i.success)return this.currentCategoria=i.data.categoria,this.currentCategoria;throw new Error(i.message||"Error al cargar la categoría")}catch(n){console.error("Error al cargar la categoría:",n);const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al cargar la categoría";return this.error=i,e.error(i),null}finally{this.loading=!1}},async createCategoria(t){var s,o;this.loading=!0,this.error=null;const e=X();try{const i=(await Kn.create(t)).data;if(i.success){const r=i.data.categoria;return this.categorias.push(r),e.success("Categoría creada correctamente"),r}else throw new Error(i.message||"Error al crear la categoría")}catch(n){console.error("Error al crear la categoría:",n);const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al crear la categoría";throw this.error=i,e.error(i),n}finally{this.loading=!1}},async updateCategoria(t,e){var o,n;this.loading=!0,this.error=null;const s=X();try{const r=(await Kn.update(t,e)).data;if(r.success){const a=r.data.categoria;this.currentCategoria=a;const l=this.categorias.findIndex(d=>d.id_categoria===Number(t));return l!==-1&&(this.categorias[l]=a),s.success("Categoría actualizada correctamente"),a}else throw new Error(r.message||"Error al actualizar la categoría")}catch(i){console.error("Error al actualizar la categoría:",i);const r=((n=(o=i.response)==null?void 0:o.data)==null?void 0:n.message)||i.message||"Error al actualizar la categoría";throw this.error=r,s.error(r),i}finally{this.loading=!1}},async deleteCategoria(t){var s,o;this.loading=!0,this.error=null;const e=X();try{const i=(await Kn.delete(t)).data;if(i.success)return this.categorias=this.categorias.filter(r=>r.id_categoria!==Number(t)),this.currentCategoria&&this.currentCategoria.id_categoria===Number(t)&&(this.currentCategoria=null),e.success("Categoría eliminada correctamente"),!0;throw new Error(i.message||"Error al eliminar la categoría")}catch(n){console.error("Error al eliminar la categoría:",n);const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al eliminar la categoría";throw this.error=i,e.error(i),n}finally{this.loading=!1}}}}),L6={name:"DocumentoModalSubida",components:{X:Xe,Upload:s0,Loader:At,FileText:Xt,FileImage:ar,FileSpreadsheet:lr,File:go},props:{idEmpleado:{type:[Number,String],required:!0},erroresValidacion:{type:Object,default:()=>({})},subiendoDocumento:{type:Boolean,default:!1}},emits:["cerrar","subir","seleccionar-archivo","soltar-archivo","eliminar-archivo"],setup(t,{emit:e}){const s=ge(null),o=ge(!1),n=ge(null),i=yo({nombre:"",observaciones:"",id_empleado:t.idEmpleado});return is(()=>{console.log("Modal de subida montado con ID de empleado:",t.idEmpleado),i.id_empleado=t.idEmpleado}),{fileInput:s,isDragOver:o,archivoSeleccionado:n,formData:i,triggerFileInput:()=>{n.value||s.value.click()},handleFileChange:m=>{const g=m.target.files[0];g&&(n.value=g,e("seleccionar-archivo",g))},handleFileDrop:m=>{o.value=!1;const g=m.dataTransfer.files[0];g&&(n.value=g,e("soltar-archivo",g))},removeFile:()=>{n.value=null,s.value.value="",e("eliminar-archivo")},formatFileSize:m=>{if(m===0)return"0 Bytes";const g=1024,b=["Bytes","KB","MB","GB"],v=Math.floor(Math.log(m)/Math.log(g));return parseFloat((m/Math.pow(g,v)).toFixed(2))+" "+b[v]},getFileIcon:()=>{if(!n.value)return go;const m=n.value.name.toLowerCase(),g=n.value.type;return g.startsWith("image/")||/\.(jpg|jpeg|png|gif|bmp|webp)$/i.test(m)?ar:/\.(pdf|doc|docx|txt|rtf)$/i.test(m)||g==="application/pdf"?Xt:/\.(xls|xlsx|csv)$/i.test(m)?lr:go},handleSubmit:()=>{i.id_empleado=t.idEmpleado,console.log("Enviando formulario con ID de empleado:",i.id_empleado),e("subir",{...i,id_empleado:t.idEmpleado})}}}},z6={class:"modal-overlay"},$6={class:"modal-container"},V6={class:"modal-header"},B6={class:"modal-body"},U6={class:"form-group"},j6={key:0,class:"invalid-feedback"},H6={class:"form-group"},q6={class:"form-group"},W6={key:0,class:"file-message"},K6={key:1,class:"file-preview"},G6={class:"file-preview-info"},X6={class:"file-preview-details"},Z6={class:"file-preview-name"},Y6={class:"file-preview-size"},J6={key:0,class:"invalid-feedback d-block"},Q6={class:"modal-footer"},e$=["disabled"];function t$(t,e,s,o,n,i){const r=C("X"),a=C("Upload"),l=C("Loader");return p(),y("div",z6,[c("div",$6,[c("div",V6,[e[12]||(e[12]=c("h3",null,"Subir nuevo documento",-1)),c("button",{onClick:e[0]||(e[0]=d=>t.$emit("cerrar")),class:"btn-close"},[x(r,{size:"18"})])]),c("div",B6,[c("form",{onSubmit:e[9]||(e[9]=Ve((...d)=>o.handleSubmit&&o.handleSubmit(...d),["prevent"]))},[c("div",U6,[e[13]||(e[13]=c("label",{for:"nombre"},[V("Nombre del documento "),c("span",{class:"required"},"*")],-1)),se(c("input",{id:"nombre","onUpdate:modelValue":e[1]||(e[1]=d=>o.formData.nombre=d),type:"text",class:j(["form-control",{"is-invalid":s.erroresValidacion.nombre}]),placeholder:"Ej: Contrato laboral 2025"},null,2),[[fe,o.formData.nombre]]),s.erroresValidacion.nombre?(p(),y("div",j6,S(s.erroresValidacion.nombre),1)):I("",!0)]),c("div",H6,[e[14]||(e[14]=c("label",{for:"observaciones"},"Observaciones",-1)),se(c("textarea",{id:"observaciones","onUpdate:modelValue":e[2]||(e[2]=d=>o.formData.observaciones=d),class:"form-control",rows:"3",placeholder:"Añada información adicional sobre el documento"},null,512),[[fe,o.formData.observaciones]])]),c("div",q6,[e[17]||(e[17]=c("label",null,[V("Archivo "),c("span",{class:"required"},"*")],-1)),c("div",{class:j(["file-drop-area",{"is-invalid":s.erroresValidacion.archivo,"has-file":o.archivoSeleccionado,"is-dragover":o.isDragOver}]),onDragover:e[5]||(e[5]=Ve(d=>o.isDragOver=!0,["prevent"])),onDragleave:e[6]||(e[6]=Ve(d=>o.isDragOver=!1,["prevent"])),onDrop:e[7]||(e[7]=Ve((...d)=>o.handleFileDrop&&o.handleFileDrop(...d),["prevent"])),onClick:e[8]||(e[8]=(...d)=>o.triggerFileInput&&o.triggerFileInput(...d))},[c("input",{ref:"fileInput",type:"file",class:"file-input",onChange:e[3]||(e[3]=(...d)=>o.handleFileChange&&o.handleFileChange(...d)),accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif"},null,544),o.archivoSeleccionado?(p(),y("div",K6,[c("div",G6,[(p(),q(mo(o.getFileIcon()),{size:"24",class:"file-preview-icon"})),c("div",X6,[c("span",Z6,S(o.archivoSeleccionado.name),1),c("span",Y6,S(o.formatFileSize(o.archivoSeleccionado.size)),1)])]),c("button",{type:"button",class:"btn-remove-file",onClick:e[4]||(e[4]=Ve((...d)=>o.removeFile&&o.removeFile(...d),["stop"]))},[x(r,{size:"18"})])])):(p(),y("div",W6,[x(a,{size:"32",class:"file-icon"}),e[15]||(e[15]=c("p",null,"Arrastra y suelta un archivo aquí o haz clic para seleccionarlo",-1)),e[16]||(e[16]=c("p",{class:"file-formats"},"Formatos permitidos: PDF, Word, Excel, imágenes",-1))]))],34),s.erroresValidacion.archivo?(p(),y("div",J6,S(s.erroresValidacion.archivo),1)):I("",!0)])],32)]),c("div",Q6,[c("button",{onClick:e[10]||(e[10]=d=>t.$emit("cerrar")),class:"btn btn-secondary"}," Cancelar "),c("button",{onClick:e[11]||(e[11]=(...d)=>o.handleSubmit&&o.handleSubmit(...d)),class:"btn btn-primary",disabled:s.subiendoDocumento},[s.subiendoDocumento?(p(),q(l,{key:1,size:"18",class:"btn-icon animate-spin"})):(p(),q(a,{key:0,size:"18",class:"btn-icon"})),e[18]||(e[18]=V(" Subir documento "))],8,e$)])])])}const s$=de(L6,[["render",t$],["__scopeId","data-v-c9a3287c"]]),o$={name:"DocumentoModalEdicion",components:{X:Xe,FileText:Xt,Upload:s0,Eye:Ko,Loader2:BT},props:{documento:{type:Object,required:!0},erroresValidacion:{type:Object,default:()=>({})},guardando:{type:Boolean,default:!1}},emits:["cerrar","guardar","guardar-con-archivo"],setup(t,{emit:e}){const s=yo({id_documento:null,nombre:"",observaciones:"",id_empleado:null}),o=ge(null),n=ge(null),i=ge(!1),r=()=>{s.id_documento=t.documento.id_documento,s.nombre=t.documento.nombre||"",s.observaciones=t.documento.observaciones||"",s.id_empleado=t.documento.id_empleado||null,console.log("Formulario inicializado con ID de empleado:",s.id_empleado)},a=()=>{if(n.value){const v=new FormData;v.append("archivo",n.value),v.append("nombre",s.nombre),v.append("observaciones",s.observaciones||""),s.id_empleado&&v.append("id_empleado",String(s.id_empleado)),console.log("Enviando FormData para actualización con archivo:");for(let[w,E]of v.entries())console.log(`- ${w}:`,w==="archivo"?`Archivo: ${E.name} (${E.size} bytes)`:E);e("guardar-con-archivo",v,s.id_documento)}else console.log("Enviando datos para actualización sin archivo:",s),e("guardar",{...s})},l=v=>{const w=v.target.files;w.length>0&&(n.value=w[0])},d=()=>{i.value=!0},u=()=>{i.value=!1},f=v=>{i.value=!1;const w=v.dataTransfer.files;w.length>0&&(n.value=w[0])},h=()=>{n.value=null,o.value&&(o.value.value="")},m=()=>{console.log("Solicitando previsualización del documento:",t.documento.id_documento)},g=()=>{e("cerrar")},b=v=>{if(v===0)return"0 Bytes";const w=1024,E=["Bytes","KB","MB","GB"],_=Math.floor(Math.log(v)/Math.log(w));return parseFloat((v/Math.pow(w,_)).toFixed(2))+" "+E[_]};return is(()=>{r()}),Os(()=>t.documento,()=>{r()},{deep:!0}),{formData:s,fileInput:o,archivoSeleccionado:n,isDragOver:i,handleSubmit:a,handleFileSelect:l,handleDragOver:d,handleDragLeave:u,handleDrop:f,eliminarArchivo:h,previsualizarDocumento:m,cerrarModal:g,formatFileSize:b}}},n$={class:"modal-content"},i$={class:"modal-header"},r$={class:"modal-body"},a$={class:"form-group"},l$={key:0,class:"invalid-feedback"},c$={class:"form-group"},d$={class:"form-group"},u$={class:"current-file"},f$={class:"file-name"},h$={class:"form-group"},m$={key:0,class:"file-message"},p$={key:1,class:"file-preview"},g$={class:"file-info"},b$={class:"file-details"},v$={class:"file-name"},y$={class:"file-size"},_$={key:0,class:"invalid-feedback"},E$={class:"form-actions"},w$=["disabled"],C$=["disabled"],S$={key:1};function x$(t,e,s,o,n,i){const r=C("X"),a=C("FileText"),l=C("Eye"),d=C("Upload"),u=C("Loader2");return p(),y("div",{class:"modal-backdrop",onClick:e[11]||(e[11]=Ve((...f)=>o.cerrarModal&&o.cerrarModal(...f),["self"]))},[c("div",n$,[c("div",i$,[e[12]||(e[12]=c("h3",null,"Editar documento",-1)),c("button",{class:"btn-close",onClick:e[0]||(e[0]=(...f)=>o.cerrarModal&&o.cerrarModal(...f))},[x(r,{size:"20"})])]),c("div",r$,[c("form",{onSubmit:e[10]||(e[10]=Ve((...f)=>o.handleSubmit&&o.handleSubmit(...f),["prevent"]))},[c("div",a$,[e[13]||(e[13]=c("label",{for:"nombre"},"Nombre del documento *",-1)),se(c("input",{type:"text",id:"nombre","onUpdate:modelValue":e[1]||(e[1]=f=>o.formData.nombre=f),class:j(["form-control",{"is-invalid":s.erroresValidacion.nombre}]),placeholder:"Nombre del documento"},null,2),[[fe,o.formData.nombre]]),s.erroresValidacion.nombre?(p(),y("div",l$,S(s.erroresValidacion.nombre),1)):I("",!0)]),c("div",c$,[e[14]||(e[14]=c("label",{for:"observaciones"},"Observaciones",-1)),se(c("textarea",{id:"observaciones","onUpdate:modelValue":e[2]||(e[2]=f=>o.formData.observaciones=f),class:"form-control",placeholder:"Observaciones (opcional)",rows:"3"},null,512),[[fe,o.formData.observaciones]])]),c("div",d$,[e[16]||(e[16]=c("label",null,"Archivo actual",-1)),c("div",u$,[x(a,{size:"20",class:"file-icon"}),c("span",f$,S(s.documento.nombre_original),1),c("button",{type:"button",class:"btn-preview",onClick:e[3]||(e[3]=(...f)=>o.previsualizarDocumento&&o.previsualizarDocumento(...f))},[x(l,{size:"16"}),e[15]||(e[15]=V(" Ver "))])])]),c("div",h$,[e[19]||(e[19]=c("label",null,"Reemplazar archivo (opcional)",-1)),c("div",{class:j(["file-drop-area",{"is-dragover":o.isDragOver,"has-file":!!o.archivoSeleccionado,"is-invalid":s.erroresValidacion.archivo}]),onDragover:e[6]||(e[6]=Ve((...f)=>o.handleDragOver&&o.handleDragOver(...f),["prevent"])),onDragleave:e[7]||(e[7]=Ve((...f)=>o.handleDragLeave&&o.handleDragLeave(...f),["prevent"])),onDrop:e[8]||(e[8]=Ve((...f)=>o.handleDrop&&o.handleDrop(...f),["prevent"]))},[o.archivoSeleccionado?(p(),y("div",p$,[c("div",g$,[x(a,{size:"24",class:"file-icon"}),c("div",b$,[c("span",v$,S(o.archivoSeleccionado.name),1),c("span",y$,S(o.formatFileSize(o.archivoSeleccionado.size)),1)])]),c("button",{type:"button",class:"btn-remove-file",onClick:e[4]||(e[4]=(...f)=>o.eliminarArchivo&&o.eliminarArchivo(...f))},[x(r,{size:"16"})])])):(p(),y("div",m$,[x(d,{size:"24"}),e[17]||(e[17]=c("p",null,"Arrastra un archivo aquí o haz clic para seleccionarlo",-1)),e[18]||(e[18]=c("span",{class:"file-formats"}," Formatos permitidos: PDF, DOC, DOCX, JPG, PNG ",-1))])),c("input",{type:"file",ref:"fileInput",class:"file-input",onChange:e[5]||(e[5]=(...f)=>o.handleFileSelect&&o.handleFileSelect(...f)),accept:".pdf,.doc,.docx,.jpg,.jpeg,.png"},null,544)],34),s.erroresValidacion.archivo?(p(),y("div",_$,S(s.erroresValidacion.archivo),1)):I("",!0)]),c("div",E$,[c("button",{type:"button",class:"btn btn-secondary",onClick:e[9]||(e[9]=(...f)=>o.cerrarModal&&o.cerrarModal(...f)),disabled:s.guardando}," Cancelar ",8,w$),c("button",{type:"submit",class:"btn btn-primary",disabled:s.guardando},[s.guardando?(p(),q(u,{key:0,size:"16",class:"spinner"})):(p(),y("span",S$,"Guardar cambios"))],8,C$)])],32)])])])}const k$=de(o$,[["render",x$],["__scopeId","data-v-8cd7e53d"]]),D$={name:"DocumentoModalEliminar",components:{X:Xe,AlertTriangle:Ot,Trash2:Rt,Loader:At,FileText:Xt,FileImage:ar,FileSpreadsheet:lr,File:go},props:{documento:{type:Object,required:!0},eliminando:{type:Boolean,default:!1}},emits:["cerrar","eliminar"],setup(){return{getFileIcon:e=>e?(e=e.toLowerCase(),/\.(jpg|jpeg|png|gif|bmp|webp)$/i.test(e)?ar:/\.(pdf|doc|docx|txt|rtf)$/i.test(e)?Xt:/\.(xls|xlsx|csv)$/i.test(e)?lr:go):go}}},A$={class:"modal-overlay"},T$={class:"modal-container"},M$={class:"modal-header"},P$={class:"modal-body"},I$={class:"warning-icon"},F$={class:"documento-info"},R$={class:"documento-preview"},O$={class:"documento-detalles"},N$={class:"documento-nombre"},L$={class:"documento-tipo"},z$={class:"modal-footer"},$$=["disabled"];function V$(t,e,s,o,n,i){const r=C("X"),a=C("AlertTriangle"),l=C("Trash2"),d=C("Loader");return p(),y("div",A$,[c("div",T$,[c("div",M$,[e[3]||(e[3]=c("h3",null,"Confirmar eliminación",-1)),c("button",{onClick:e[0]||(e[0]=u=>t.$emit("cerrar")),class:"btn-close"},[x(r,{size:"18"})])]),c("div",P$,[c("div",I$,[x(a,{size:"48"})]),e[4]||(e[4]=c("h4",null,"¿Está seguro de que desea eliminar este documento?",-1)),e[5]||(e[5]=c("p",null,"Esta acción no se puede deshacer.",-1)),c("div",F$,[c("div",R$,[(p(),q(mo(o.getFileIcon(s.documento.nombre_original)),{size:"24",class:"documento-icon"})),c("div",O$,[c("span",N$,S(s.documento.nombre),1),c("span",L$,S(s.documento.tipo_documento),1)])])])]),c("div",z$,[c("button",{onClick:e[1]||(e[1]=u=>t.$emit("cerrar")),class:"btn btn-secondary"}," Cancelar "),c("button",{onClick:e[2]||(e[2]=u=>t.$emit("eliminar")),class:"btn btn-danger",disabled:s.eliminando},[s.eliminando?(p(),q(d,{key:1,size:"18",class:"btn-icon animate-spin"})):(p(),q(l,{key:0,size:"18",class:"btn-icon"})),e[6]||(e[6]=V(" Eliminar documento "))],8,$$)])])])}const B$=de(D$,[["render",V$],["__scopeId","data-v-b9cbcbe9"]]),U$={name:"DocumentoModalPrevistaEmpleados",components:{X:Xe,AlertTriangle:Ot,FileText:Xt,Download:Za,LoadingSpinner:rs},props:{documento:{type:Object,required:!0},url:{type:String,default:null},cargando:{type:Boolean,default:!1},error:{type:String,default:null}},emits:["cerrar","descargar"],setup(t,{emit:e}){const s=we(()=>{var d,u;if(!t.url)return!1;const a=((d=t.documento.nombre_original)==null?void 0:d.toLowerCase())||"",l=((u=t.documento.mimetype)==null?void 0:u.toLowerCase())||"";return a.endsWith(".pdf")||l.includes("application/pdf")||t.url.includes("application/pdf")}),o=we(()=>{var d,u;if(!t.url)return!1;const a=((d=t.documento.nombre_original)==null?void 0:d.toLowerCase())||"",l=((u=t.documento.mimetype)==null?void 0:u.toLowerCase())||"";return/\.(jpg|jpeg|png|gif|bmp|webp)$/i.test(a)||l.includes("image/")||t.url.includes("image/")});return{isPdf:s,isImage:o,formatDate:a=>a?new Date(a).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",cerrarModal:()=>{e("cerrar")},descargar:()=>{e("descargar",t.documento)}}}},j$={class:"modal-content"},H$={class:"modal-header"},q$={class:"modal-body"},W$={key:0,class:"preview-loading"},K$={key:1,class:"preview-error"},G$={class:"error-message"},X$={key:2,class:"preview-container"},Z$=["src"],Y$=["src"],J$={key:2,class:"unsupported-preview"},Q$={key:3,class:"preview-error"},eV={class:"error-message"},tV={class:"modal-footer"},sV={class:"documento-info"},oV={class:"info-item"},nV={class:"info-value"},iV={class:"info-item"},rV={class:"info-value"},aV={key:0,class:"info-item"},lV={class:"info-value"},cV={class:"modal-actions"};function dV(t,e,s,o,n,i){const r=C("X"),a=C("LoadingSpinner"),l=C("AlertTriangle"),d=C("FileText"),u=C("Download");return p(),y("div",{class:"modal-backdrop",onClick:e[3]||(e[3]=Ve((...f)=>o.cerrarModal&&o.cerrarModal(...f),["self"]))},[c("div",j$,[c("div",H$,[c("h3",null,S(s.documento.nombre),1),c("button",{class:"btn-close",onClick:e[0]||(e[0]=(...f)=>o.cerrarModal&&o.cerrarModal(...f))},[x(r,{size:"20"})])]),c("div",q$,[s.cargando?(p(),y("div",W$,[x(a,{message:"Cargando documento..."})])):s.error?(p(),y("div",K$,[c("div",G$,[x(l,{size:"24"}),c("p",null,S(s.error),1)])])):s.url?(p(),y("div",X$,[o.isPdf?(p(),y("iframe",{key:0,src:s.url,class:"pdf-preview",frameborder:"0",title:"Vista previa del documento"},null,8,Z$)):o.isImage?(p(),y("img",{key:1,src:s.url,class:"image-preview",alt:"Vista previa del documento"},null,8,Y$)):(p(),y("div",J$,[x(d,{size:"48",class:"file-icon"}),e[4]||(e[4]=c("p",null,[V(" Este tipo de archivo no se puede previsualizar directamente. "),c("br"),V(" Puede descargar el archivo para verlo. ")],-1))]))])):(p(),y("div",Q$,[c("div",eV,[x(l,{size:"24"}),e[5]||(e[5]=c("p",null,"No se pudo generar la vista previa del documento.",-1))])]))]),c("div",tV,[c("div",sV,[c("div",oV,[e[6]||(e[6]=c("span",{class:"info-label"},"Tipo:",-1)),c("span",nV,S(s.documento.tipo_documento),1)]),c("div",iV,[e[7]||(e[7]=c("span",{class:"info-label"},"Subido:",-1)),c("span",rV,S(o.formatDate(s.documento.fecha_subida)),1)]),s.documento.observaciones?(p(),y("div",aV,[e[8]||(e[8]=c("span",{class:"info-label"},"Observaciones:",-1)),c("span",lV,S(s.documento.observaciones),1)])):I("",!0)]),c("div",cV,[c("button",{class:"btn btn-secondary",onClick:e[1]||(e[1]=(...f)=>o.cerrarModal&&o.cerrarModal(...f))}," Cerrar "),c("button",{class:"btn btn-primary",onClick:e[2]||(e[2]=(...f)=>o.descargar&&o.descargar(...f))},[x(u,{size:"16",class:"btn-icon"}),e[9]||(e[9]=V(" Descargar "))])])])])])}const uV=de(U$,[["render",dV],["__scopeId","data-v-89f13744"]]),fV={name:"DocumentosEmpleado",components:{LoadingSpinner:rs,DocumentoModalSubida:s$,DocumentoModalEdicion:k$,DocumentoModalEliminar:B$,DocumentoModalPrevistaEmpleados:uV,AlertTriangle:Ot,RefreshCw:Ft,Plus:Ps,FileText:Xt,FileImage:ar,FileSpreadsheet:lr,File:go,Eye:Ko,Edit:Tt,Trash2:Rt,Search:In},props:{idEmpleado:{type:[Number,String],required:!0},manejoPreview:{type:Boolean,default:!1}},emits:["previsualizar"],data(){return{documentos:[],cargando:!1,error:null,autoRefreshInterval:null,lastRefreshTime:Date.now(),autoRefreshEnabled:!0,autoRefreshTime:3e4,verificandoArchivos:!1,storeCheckInterval:null,filtros:{busqueda:"",fechaDesde:"",fechaHasta:""},documentoPreview:null,urlPreview:null,cargandoPreview:!1,errorPreview:null,previewEnProceso:!1,previewTimeoutId:null,mostrarModalSubida:!1,mostrarModalEdicion:!1,mostrarModalEliminar:!1,documentoEditando:null,documentoEliminar:null,archivoSeleccionado:null,subiendoDocumento:!1,guardandoDocumento:!1,eliminandoDocumento:!1,erroresValidacion:{}}},computed:{documentosStore(){return gE()},authStore(){return ns()},notificationStore(){return X()},canViewDocuments(){return this.authStore.hasPermission({nombre:"Documentos",tipo:"Lectura"})},canEditDocuments(){return this.authStore.hasPermission({nombre:"Documentos",tipo:"Escritura"})},documentosFiltrados(){var e;if(!((e=this.documentos)!=null&&e.length))return[];if(!this.filtros.busqueda)return this.documentos;const t=this.filtros.busqueda.toLowerCase();return this.documentos.filter(s=>{var o,n,i;return((o=s.nombre)==null?void 0:o.toLowerCase().includes(t))||((n=s.nombre_original)==null?void 0:n.toLowerCase().includes(t))||((i=s.observaciones)==null?void 0:i.toLowerCase().includes(t))})}},watch:{idEmpleado:{handler(t){t&&this.canViewDocuments&&(localStorage.setItem("currentEmpleadoId",t),this.cargarDocumentos(!0))}},"$route.params.id":{handler(t){t&&this.canViewDocuments&&(localStorage.setItem("currentEmpleadoId",t),this.cargarDocumentos(!0))}}},created(){this.setupStoreListeners()},mounted(){document.addEventListener("visibilitychange",this.handleVisibilityChange),this.$nextTick(()=>{this.canViewDocuments&&(this.cargarDocumentos(!0),this.iniciarAutoRefresh())})},beforeUnmount(){this.urlPreview&&URL.revokeObjectURL(this.urlPreview),this.previewTimeoutId&&clearTimeout(this.previewTimeoutId),this.detenerAutoRefresh(),this.storeCheckInterval&&clearInterval(this.storeCheckInterval),document.removeEventListener("visibilitychange",this.handleVisibilityChange)},methods:{setupStoreListeners(){const t=()=>{const e=this.documentosStore.documentos;if(e.length!==this.documentos.length){this.documentos=[...e];return}let s=!1;e.forEach(o=>{const n=this.documentos.find(i=>i.id_documento===o.id_documento);(!n||n.archivoInaccesible!==o.archivoInaccesible||n.nombre!==o.nombre)&&(s=!0)}),s&&(this.documentos=[...e])};this.storeCheckInterval=setInterval(t,2e3)},obtenerIdEmpleadoDesdeURL(){if(this.idEmpleado)return this.idEmpleado;const t=this.$route.params.id||this.$route.query.id||localStorage.getItem("currentEmpleadoId");return t?(localStorage.setItem("currentEmpleadoId",t),t):null},async verificarArchivosInaccesibles(){if(!this.verificandoArchivos){this.verificandoArchivos=!0;try{if(!this.obtenerIdEmpleadoDesdeURL())return;await this.documentosStore.verificarYLimpiarDocumentosInaccesibles(),this.documentos=[...this.documentosStore.documentos]}catch(t){console.error("Error al verificar archivos inaccesibles:",t)}finally{this.verificandoArchivos=!1}}},async cargarDocumentos(t=!1){const e=this.obtenerIdEmpleadoDesdeURL();if(!e){this.error="No se pudo identificar al empleado";return}if(!(!t&&Date.now()-this.lastRefreshTime<5e3)){this.cargando=!0,this.error=null;try{const s=await this.documentosStore.fetchDocumentosByEmpleado(e);this.documentos=[...s||[]],this.lastRefreshTime=Date.now(),this.documentos.length>0&&!this.verificandoArchivos&&setTimeout(()=>this.verificarArchivosInaccesibles(),500)}catch(s){this.error=s.message||"Error al cargar los documentos",this.notificationStore.error(this.error,"Error")}finally{this.cargando=!1}}},iniciarAutoRefresh(){this.detenerAutoRefresh(),this.autoRefreshEnabled&&(this.autoRefreshInterval=setInterval(()=>{document.visibilityState==="visible"&&this.cargarDocumentos()},this.autoRefreshTime))},detenerAutoRefresh(){this.autoRefreshInterval&&(clearInterval(this.autoRefreshInterval),this.autoRefreshInterval=null)},handleVisibilityChange(){document.visibilityState==="visible"?(this.cargarDocumentos(!0),this.iniciarAutoRefresh()):this.detenerAutoRefresh()},actualizarFiltros(){},limpiarFiltros(){this.filtros={busqueda:"",fechaDesde:"",fechaHasta:""}},solicitarPrevisualizacion(t){!t||t.archivoInaccesible||(this.manejoPreview?this.previsualizarDocumento(t):this.$emit("previsualizar",t))},async previsualizarDocumento(t){var e;if(!(!t||t.archivoInaccesible)&&((e=this.documentoPreview)==null?void 0:e.id_documento)!==t.id_documento&&!this.previewEnProceso){this.previewEnProceso=!0,this.documentoPreview=t,this.cargandoPreview=!0,this.errorPreview=null,this.urlPreview=null;try{const s=await this.documentosStore.previewDocumento(t.id_documento);if(!s)throw new Error("No se pudo generar la URL de previsualización");if(this.urlPreview=s,t.archivoInaccesible){const o=this.documentos.findIndex(n=>n.id_documento===t.id_documento);o!==-1&&(this.documentos[o].archivoInaccesible=!1,this.documentos=[...this.documentos])}}catch(s){let o=s.message||"No se pudo cargar la vista previa del documento";if(s.response){const n=s.response.status;if(n===404){o="El archivo físico no se encuentra en el servidor";const i=this.documentos.findIndex(r=>r.id_documento===t.id_documento);i!==-1&&(this.documentos[i].archivoInaccesible=!0,this.documentos=[...this.documentos])}else n===403?o="No tiene permisos para ver este documento":o=`Error del servidor (${n}): ${s.response.statusText}`}this.errorPreview=o,this.notificationStore.warning(this.errorPreview,"Error de previsualización")}finally{this.cargandoPreview=!1,this.previewTimeoutId=setTimeout(()=>{this.previewEnProceso=!1},300)}}},cerrarPreview(){this.urlPreview&&URL.revokeObjectURL(this.urlPreview),this.documentoPreview=null,this.urlPreview=null,this.errorPreview=null,this.previewEnProceso=!1,this.previewTimeoutId&&(clearTimeout(this.previewTimeoutId),this.previewTimeoutId=null)},async descargarDocumento(t){var e,s;if(!(!t||t.archivoInaccesible))try{if(await this.documentosStore.downloadDocumento(t.id_documento),t.archivoInaccesible){const o=this.documentos.findIndex(n=>n.id_documento===t.id_documento);o!==-1&&(this.documentos[o].archivoInaccesible=!1,this.documentos=[...this.documentos])}}catch(o){if(((e=o.response)==null?void 0:e.status)===404||(s=o.message)!=null&&s.includes("no se encuentra")){const n=this.documentos.findIndex(i=>i.id_documento===t.id_documento);n!==-1&&(this.documentos[n].archivoInaccesible=!0,this.documentos=[...this.documentos])}this.notificationStore.error(o.message||"Ha ocurrido un error al descargar el documento","Error al descargar")}},manejarSeleccionArchivo(t){this.archivoSeleccionado=t},manejarSoltarArchivo(t){this.archivoSeleccionado=t},eliminarArchivoSeleccionado(){this.archivoSeleccionado=null},validarDocumento(t,e=!0){var o;const s={};return(o=t.nombre)!=null&&o.trim()||(s.nombre="El nombre del documento es obligatorio"),e&&!this.archivoSeleccionado&&(s.archivo="Debe seleccionar un archivo"),this.erroresValidacion=s,Object.keys(s).length===0},async subirDocumento(t){var s,o,n,i;if(!this.canEditDocuments){this.notificationStore.error("No tiene permisos para subir documentos","Error de permisos");return}const e=this.obtenerIdEmpleadoDesdeURL();if(!e){this.notificationStore.error("No se pudo identificar al empleado","Error");return}if(this.validarDocumento(t))try{this.subiendoDocumento=!0;const r=new FormData;r.append("id_empleado",String(e)),r.append("archivo",this.archivoSeleccionado),r.append("nombre",t.nombre),r.append("observaciones",t.observaciones||""),await this.documentosStore.uploadDocumento(r),await this.cargarDocumentos(!0),this.notificationStore.success("El documento ha sido subido correctamente","Documento subido"),this.cerrarModalSubida()}catch(r){(o=(s=r.response)==null?void 0:s.data)!=null&&o.errors&&(this.erroresValidacion=r.response.data.errors),this.notificationStore.error(((i=(n=r.response)==null?void 0:n.data)==null?void 0:i.message)||r.message||"Ha ocurrido un error al subir el documento","Error al subir")}finally{this.subiendoDocumento=!1}},cerrarModalSubida(){this.mostrarModalSubida=!1,this.archivoSeleccionado=null,this.erroresValidacion={}},editarDocumento(t){if(!this.canEditDocuments){this.notificationStore.error("No tiene permisos para editar documentos","Error de permisos");return}this.documentoEditando={...t},this.mostrarModalEdicion=!0,this.erroresValidacion={}},async actualizarDocumento(t){var e,s;if(!this.canEditDocuments){this.notificationStore.error("No tiene permisos para editar documentos","Error de permisos");return}if(this.validarDocumento(t,!1))try{this.guardandoDocumento=!0;const o=this.obtenerIdEmpleadoDesdeURL(),n={...t,id_empleado:o};await this.documentosStore.updateDocumento(n.id_documento,n),await this.cargarDocumentos(!0),this.notificationStore.success("El documento ha sido actualizado correctamente","Documento actualizado"),this.mostrarModalEdicion=!1}catch(o){this.notificationStore.error(((s=(e=o.response)==null?void 0:e.data)==null?void 0:s.message)||o.message||"Ha ocurrido un error al actualizar el documento","Error al actualizar")}finally{this.guardandoDocumento=!1}},async actualizarDocumentoConArchivo(t,e){var o,n;if(!this.canEditDocuments){this.notificationStore.error("No tiene permisos para editar documentos","Error de permisos");return}const s=this.obtenerIdEmpleadoDesdeURL();if(!s){this.notificationStore.error("No se pudo identificar al empleado","Error");return}try{this.guardandoDocumento=!0;const i=new FormData;i.append("id_empleado",String(s));for(const[r,a]of t.entries())r!=="id_empleado"&&i.append(r,a);await this.documentosStore.updateDocumentoWithFile(e,i),await this.cargarDocumentos(!0),this.notificationStore.success("El documento ha sido actualizado correctamente","Documento actualizado"),this.mostrarModalEdicion=!1}catch(i){this.notificationStore.error(((n=(o=i.response)==null?void 0:o.data)==null?void 0:n.message)||i.message||"Ha ocurrido un error al actualizar el documento","Error al actualizar")}finally{this.guardandoDocumento=!1}},confirmarEliminar(t){if(!this.canEditDocuments){this.notificationStore.error("No tiene permisos para eliminar documentos","Error de permisos");return}this.documentoEliminar=t,this.mostrarModalEliminar=!0},async eliminarDocumento(){var t,e;if(!this.canEditDocuments||!this.documentoEliminar){this.notificationStore.error("No tiene permisos para eliminar documentos","Error de permisos");return}try{this.eliminandoDocumento=!0,await this.documentosStore.deleteDocumento(this.documentoEliminar.id_documento),this.documentos=this.documentos.filter(s=>s.id_documento!==this.documentoEliminar.id_documento),await this.cargarDocumentos(!0),this.notificationStore.success("El documento ha sido eliminado correctamente","Documento eliminado"),this.mostrarModalEliminar=!1,this.documentoEliminar=null}catch(s){this.notificationStore.error(((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||s.message||"Ha ocurrido un error al eliminar el documento","Error al eliminar")}finally{this.eliminandoDocumento=!1}},formatDate(t){return t?new Date(t).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"-"},getFileIcon(t){return t?(t=t.toLowerCase(),/\.(jpg|jpeg|png|gif|bmp|webp)$/i.test(t)?ar:/\.(pdf|doc|docx|txt|rtf)$/i.test(t)?Xt:/\.(xls|xlsx|csv)$/i.test(t)?lr:go):go}}},hV={class:"card"},mV={class:"card-body"},pV={class:"documentos-empleado"},gV={class:"documentos-toolbar"},bV={class:"documentos-search"},vV={class:"documentos-actions"},yV={key:0,class:"documentos-loading"},_V={key:1,class:"documentos-error"},EV={class:"error-message"},wV={key:2,class:"documentos-empty"},CV={key:0,class:"empty-search-results"},SV={key:1,class:"empty-state"},xV={key:3,class:"documentos-grid"},kV={class:"documento-icon"},DV=["onClick"],AV={class:"documento-nombre"},TV={class:"documento-fecha"},MV={key:0,class:"documento-inaccesible-badge"},PV={class:"documento-actions"},IV=["onClick","disabled"],FV=["onClick"],RV=["onClick"];function OV(t,e,s,o,n,i){const r=C("Plus"),a=C("RefreshCw"),l=C("LoadingSpinner"),d=C("AlertTriangle"),u=C("Search"),f=C("FileText"),h=C("Eye"),m=C("Edit"),g=C("Trash2"),b=C("DocumentoModalSubida"),v=C("DocumentoModalEdicion"),w=C("DocumentoModalEliminar"),E=C("DocumentoModalPrevistaEmpleados");return p(),y("div",hV,[e[15]||(e[15]=c("div",{class:"card-header"},[c("h2",null,"Documentos del Empleado")],-1)),c("div",mV,[c("div",pV,[c("div",gV,[c("div",bV,[se(c("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=_=>n.filtros.busqueda=_),placeholder:"Buscar documentos...",class:"search-input",onInput:e[1]||(e[1]=(..._)=>i.actualizarFiltros&&i.actualizarFiltros(..._))},null,544),[[fe,n.filtros.busqueda]])]),c("div",vV,[i.canEditDocuments?(p(),y("button",{key:0,onClick:e[2]||(e[2]=_=>n.mostrarModalSubida=!0),class:"btn btn-primary btn-sm"},[x(r,{size:"16",class:"btn-icon"}),e[9]||(e[9]=V(" Subir documento "))])):I("",!0),c("button",{onClick:e[3]||(e[3]=_=>i.cargarDocumentos(!0)),class:"btn btn-icon-only",title:"Recargar documentos"},[x(a,{size:"16"})])])]),n.cargando?(p(),y("div",yV,[x(l,{message:"Cargando documentos..."})])):n.error?(p(),y("div",_V,[c("div",EV,[x(d,{size:"24"}),c("p",null,S(n.error),1)]),c("button",{onClick:e[4]||(e[4]=_=>i.cargarDocumentos(!0)),class:"btn btn-primary btn-sm"}," Reintentar ")])):i.documentosFiltrados.length===0?(p(),y("div",wV,[n.filtros.busqueda?(p(),y("div",CV,[x(u,{size:"48",class:"empty-icon"}),e[10]||(e[10]=c("h3",null,"No se encontraron resultados",-1)),c("p",null,'No hay documentos que coincidan con "'+S(n.filtros.busqueda)+'"',1),c("button",{onClick:e[5]||(e[5]=(..._)=>i.limpiarFiltros&&i.limpiarFiltros(..._)),class:"btn btn-secondary btn-sm"}," Limpiar búsqueda ")])):(p(),y("div",SV,[x(f,{size:"48",class:"empty-icon"}),e[12]||(e[12]=c("h3",null,"No hay documentos",-1)),e[13]||(e[13]=c("p",null,"Aún no se han subido documentos para este empleado",-1)),i.canEditDocuments?(p(),y("button",{key:0,onClick:e[6]||(e[6]=_=>n.mostrarModalSubida=!0),class:"btn btn-primary btn-sm"},[x(r,{size:"16",class:"btn-icon"}),e[11]||(e[11]=V(" Subir primer documento "))])):I("",!0)]))])):(p(),y("div",xV,[(p(!0),y(he,null,De(i.documentosFiltrados,_=>(p(),y("div",{key:_.id_documento,class:j(["documento-card",{"documento-inaccesible":_.archivoInaccesible}])},[c("div",kV,[(p(),q(mo(i.getFileIcon(_.nombre_original)),{size:"24"}))]),c("div",{class:"documento-info",onClick:Ve(D=>i.solicitarPrevisualizacion(_),["stop"])},[c("h4",AV,S(_.nombre),1),c("p",TV,S(i.formatDate(_.fecha_subida)),1),_.archivoInaccesible?(p(),y("div",MV,[x(d,{size:"12"}),e[14]||(e[14]=c("span",null,"Archivo no encontrado",-1))])):I("",!0)],8,DV),c("div",PV,[c("button",{onClick:Ve(D=>i.solicitarPrevisualizacion(_),["stop"]),class:"btn-action",title:"Ver documento",disabled:_.archivoInaccesible},[x(h,{size:"16"})],8,IV),i.canEditDocuments?(p(),y("button",{key:0,onClick:Ve(D=>i.editarDocumento(_),["stop"]),class:"btn-action",title:"Editar documento"},[x(m,{size:"16"})],8,FV)):I("",!0),i.canEditDocuments?(p(),y("button",{key:1,onClick:Ve(D=>i.confirmarEliminar(_),["stop"]),class:"btn-action btn-action-danger",title:"Eliminar documento"},[x(g,{size:"16"})],8,RV)):I("",!0)])],2))),128))])),n.mostrarModalSubida&&i.canEditDocuments?(p(),q(b,{key:4,"id-empleado":s.idEmpleado,"errores-validacion":n.erroresValidacion,"subiendo-documento":n.subiendoDocumento,onCerrar:i.cerrarModalSubida,onSubir:i.subirDocumento,onSeleccionarArchivo:i.manejarSeleccionArchivo,onSoltarArchivo:i.manejarSoltarArchivo,onEliminarArchivo:i.eliminarArchivoSeleccionado},null,8,["id-empleado","errores-validacion","subiendo-documento","onCerrar","onSubir","onSeleccionarArchivo","onSoltarArchivo","onEliminarArchivo"])):I("",!0),n.mostrarModalEdicion&&i.canEditDocuments?(p(),q(v,{key:5,documento:n.documentoEditando,"errores-validacion":n.erroresValidacion,guardando:n.guardandoDocumento,onCerrar:e[7]||(e[7]=_=>n.mostrarModalEdicion=!1),onGuardar:i.actualizarDocumento,onGuardarConArchivo:i.actualizarDocumentoConArchivo},null,8,["documento","errores-validacion","guardando","onGuardar","onGuardarConArchivo"])):I("",!0),n.mostrarModalEliminar&&i.canEditDocuments?(p(),q(w,{key:6,documento:n.documentoEliminar,eliminando:n.eliminandoDocumento,onCerrar:e[8]||(e[8]=_=>n.mostrarModalEliminar=!1),onEliminar:i.eliminarDocumento},null,8,["documento","eliminando","onEliminar"])):I("",!0),s.manejoPreview&&n.documentoPreview?(p(),q(E,{key:7,documento:n.documentoPreview,url:n.urlPreview,cargando:n.cargandoPreview,error:n.errorPreview,onCerrar:i.cerrarPreview,onDescargar:i.descargarDocumento},null,8,["documento","url","cargando","error","onCerrar","onDescargar"])):I("",!0)])])])}const NV=de(fV,[["render",OV],["__scopeId","data-v-6b6cf16b"]]),LV={name:"ModalDetallesDocumento",components:{X:Xe,FileText:Xt,Download:Za,Eye:Ko,Edit:Tt},props:{documento:{type:Object,required:!0}},emits:["cerrar","descargar","previsualizar","editar"],methods:{formatFileSize(t){if(!t)return"Desconocido";const e=["B","KB","MB","GB"];let s=t,o=0;for(;s>=1024&&o<e.length-1;)s/=1024,o++;return`${s.toFixed(2)} ${e[o]}`},formatDate(t){if(!t)return"Sin fecha";try{return new Date(t).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},getFileExtension(t){if(!t)return"Sin extensión";const e=t.split(".").pop();return e?e.toUpperCase():"Sin extensión"}}},zV={class:"modal-container"},$V={class:"modal-header"},VV={class:"modal-body"},BV={key:0,class:"detail-content"},UV={class:"detail-section"},jV={class:"detail-grid"},HV={class:"detail-item"},qV={class:"detail-value"},WV={class:"detail-item"},KV={class:"detail-value"},GV={class:"detail-item"},XV={class:"detail-value"},ZV={class:"detail-item"},YV={class:"detail-value"},JV={class:"detail-section"},QV={class:"detail-grid"},eB={class:"detail-item"},tB={class:"detail-value"},sB={class:"detail-item"},oB={class:"detail-value"},nB={class:"detail-item"},iB={class:"detail-value"},rB={class:"detail-item"},aB={class:"detail-value file-path"},lB={key:0,class:"detail-section"},cB={class:"detail-text"},dB={key:1,class:"detail-section"},uB={class:"document-preview"},fB={class:"document-icon-container"},hB={class:"document-info"},mB={class:"document-name"},pB={class:"document-type"},gB={class:"document-actions"},bB={class:"modal-footer"};function vB(t,e,s,o,n,i){const r=C("X"),a=C("FileText"),l=C("Download"),d=C("Eye"),u=C("Edit");return p(),y("div",{class:"modal-overlay",onClick:e[5]||(e[5]=Ve(f=>t.$emit("cerrar"),["self"]))},[c("div",zV,[c("div",$V,[e[6]||(e[6]=c("h3",null,"Detalles del Documento",-1)),c("button",{onClick:e[0]||(e[0]=f=>t.$emit("cerrar")),class:"btn-close"},[x(r,{size:"18"})])]),c("div",VV,[s.documento?(p(),y("div",BV,[c("div",UV,[e[11]||(e[11]=c("h4",{class:"detail-section-title"},"Información General",-1)),c("div",jV,[c("div",HV,[e[7]||(e[7]=c("h5",{class:"detail-label"},"Nombre del Documento",-1)),c("p",qV,S(s.documento.nombre||"Sin nombre"),1)]),c("div",WV,[e[8]||(e[8]=c("h5",{class:"detail-label"},"Tipo de Documento",-1)),c("p",KV,S(s.documento.tipo_documento||"Sin especificar"),1)]),c("div",GV,[e[9]||(e[9]=c("h5",{class:"detail-label"},"Archivo Original",-1)),c("p",XV,S(s.documento.nombre_original||"Sin archivo"),1)]),c("div",ZV,[e[10]||(e[10]=c("h5",{class:"detail-label"},"Tamaño",-1)),c("p",YV,S(i.formatFileSize(s.documento.tamano)),1)])])]),c("div",JV,[e[16]||(e[16]=c("h4",{class:"detail-section-title"},"Información Técnica",-1)),c("div",QV,[c("div",eB,[e[12]||(e[12]=c("h5",{class:"detail-label"},"ID Documento",-1)),c("p",tB,S(s.documento.id_documento),1)]),c("div",sB,[e[13]||(e[13]=c("h5",{class:"detail-label"},"Tipo MIME",-1)),c("p",oB,S(s.documento.mimetype||"Desconocido"),1)]),c("div",nB,[e[14]||(e[14]=c("h5",{class:"detail-label"},"Fecha de Subida",-1)),c("p",iB,S(i.formatDate(s.documento.fecha_subida)),1)]),c("div",rB,[e[15]||(e[15]=c("h5",{class:"detail-label"},"Ruta del Archivo",-1)),c("p",aB,S(s.documento.ruta_archivo||"Sin ruta"),1)])])]),s.documento.observaciones?(p(),y("div",lB,[e[17]||(e[17]=c("h4",{class:"detail-section-title"},"Observaciones",-1)),c("p",cB,S(s.documento.observaciones),1)])):I("",!0),s.documento.ruta_archivo?(p(),y("div",dB,[e[20]||(e[20]=c("h4",{class:"detail-section-title"},"Archivo",-1)),c("div",uB,[c("div",fB,[x(a,{size:"32",class:"document-icon"})]),c("div",hB,[c("p",mB,S(s.documento.nombre_original),1),c("p",pB,S(i.getFileExtension(s.documento.nombre_original)),1)]),c("div",gB,[c("button",{onClick:e[1]||(e[1]=f=>t.$emit("descargar",s.documento)),class:"btn btn-primary"},[x(l,{size:"16",class:"btn-icon"}),e[18]||(e[18]=V(" Descargar "))]),c("button",{onClick:e[2]||(e[2]=f=>t.$emit("previsualizar",s.documento)),class:"btn btn-secondary"},[x(d,{size:"16",class:"btn-icon"}),e[19]||(e[19]=V(" Previsualizar "))])])])])):I("",!0)])):I("",!0)]),c("div",bB,[c("button",{onClick:e[3]||(e[3]=f=>t.$emit("editar",s.documento)),class:"btn btn-primary"},[x(u,{size:"16",class:"btn-icon"}),e[21]||(e[21]=V(" Editar "))]),c("button",{onClick:e[4]||(e[4]=f=>t.$emit("cerrar")),class:"btn btn-secondary"}," Cerrar ")])])])}const yB=de(LV,[["render",vB],["__scopeId","data-v-5d78f15a"]]),_B={name:"EmpleadoHeader",components:{ArrowLeft:Er,Edit:Tt,Save:wo,Trash2:Rt,X:Xe,ToggleLeft:e0,ToggleRight:t0},props:{empleado:{type:Object,required:!0},canEdit:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1}},emits:["edit","save","cancel","delete","toggle-status"],methods:{goBack(){this.$router.push("/empleados")},toggleEmpleadoStatus(){this.$emit("toggle-status")}}},EB={class:"page-header"},wB={class:"header-left"},CB={key:0},SB={key:0,class:"header-actions"},xB={key:1,class:"edit-actions"};function kB(t,e,s,o,n,i){const r=C("ArrowLeft"),a=C("ToggleRight"),l=C("ToggleLeft"),d=C("Edit"),u=C("Save"),f=C("X"),h=C("Trash2");return p(),y("div",EB,[c("div",wB,[c("button",{onClick:e[0]||(e[0]=(...m)=>i.goBack&&i.goBack(...m)),class:"btn btn-icon btn-ghost"},[x(r,{size:"18"}),e[6]||(e[6]=c("span",null,"Volver",-1))]),s.empleado?(p(),y("h1",CB,S(s.empleado.nombre)+" "+S(s.empleado.apellidos),1)):I("",!0)]),s.empleado&&s.canEdit?(p(),y("div",SB,[c("button",{onClick:e[1]||(e[1]=(...m)=>i.toggleEmpleadoStatus&&i.toggleEmpleadoStatus(...m)),class:j(["btn btn-status",s.empleado.activo?"btn-status-active":"btn-status-inactive"])},[s.empleado.activo?(p(),q(a,{key:0,size:"18",class:"btn-icon"})):(p(),q(l,{key:1,size:"18",class:"btn-icon"})),V(" "+S(s.empleado.activo?"Activo":"Inactivo"),1)],2),s.editMode?I("",!0):(p(),y("button",{key:0,onClick:e[2]||(e[2]=m=>t.$emit("edit")),class:"btn btn-primary"},[x(d,{size:"18",class:"btn-icon"}),e[7]||(e[7]=V(" Editar Empleado "))])),s.editMode?(p(),y("div",xB,[c("button",{onClick:e[3]||(e[3]=m=>t.$emit("save")),class:"btn btn-success"},[x(u,{size:"18",class:"btn-icon"}),e[8]||(e[8]=V(" Guardar "))]),c("button",{onClick:e[4]||(e[4]=m=>t.$emit("cancel")),class:"btn btn-secondary"},[x(f,{size:"18",class:"btn-icon"}),e[9]||(e[9]=V(" Cancelar "))])])):I("",!0),c("button",{onClick:e[5]||(e[5]=m=>t.$emit("delete")),class:"btn btn-danger"},[x(h,{size:"18",class:"btn-icon"}),e[10]||(e[10]=V(" Eliminar "))])])):I("",!0)])}const DB=de(_B,[["render",kB],["__scopeId","data-v-39c82b89"]]),AB={name:"EmpleadoTabs",components:{User:Hh,Building:Uh,Files:LT,GraduationCap:Y1,Calendar:li,FileText:Xt},props:{activeTab:{type:String,default:"personal"},canViewDocuments:{type:Boolean,default:!1},canViewFormacion:{type:Boolean,default:!1},canViewAusencias:{type:Boolean,default:!1},canViewContratos:{type:Boolean,default:!1}},emits:["change-tab"],methods:{changeTab(t){this.$emit("change-tab",t)}}},TB={class:"tabs-container"},MB={class:"tabs"};function PB(t,e,s,o,n,i){const r=C("User"),a=C("Building"),l=C("Files"),d=C("GraduationCap"),u=C("Calendar"),f=C("FileText");return p(),y("div",TB,[c("div",MB,[c("button",{class:j(["tab",{active:s.activeTab==="personal"}]),onClick:e[0]||(e[0]=h=>i.changeTab("personal"))},[x(r,{size:"18",class:"tab-icon"}),e[6]||(e[6]=c("span",{class:"tab-text"},"Datos personales",-1))],2),c("button",{class:j(["tab",{active:s.activeTab==="laboral"}]),onClick:e[1]||(e[1]=h=>i.changeTab("laboral"))},[x(a,{size:"18",class:"tab-icon"}),e[7]||(e[7]=c("span",{class:"tab-text"},"Información laboral",-1))],2),s.canViewDocuments?(p(),y("button",{key:0,class:j(["tab",{active:s.activeTab==="documentos"}]),onClick:e[2]||(e[2]=h=>i.changeTab("documentos"))},[x(l,{size:"18",class:"tab-icon"}),e[8]||(e[8]=c("span",{class:"tab-text"},"Documentos",-1))],2)):I("",!0),s.canViewFormacion?(p(),y("button",{key:1,class:j(["tab",{active:s.activeTab==="formacion"}]),onClick:e[3]||(e[3]=h=>i.changeTab("formacion"))},[x(d,{size:"18",class:"tab-icon"}),e[9]||(e[9]=c("span",{class:"tab-text"},"Formación",-1))],2)):I("",!0),s.canViewAusencias?(p(),y("button",{key:2,class:j(["tab",{active:s.activeTab==="ausencias"}]),onClick:e[4]||(e[4]=h=>i.changeTab("ausencias"))},[x(u,{size:"18",class:"tab-icon"}),e[10]||(e[10]=c("span",{class:"tab-text"},"Ausencias",-1))],2)):I("",!0),s.canViewContratos?(p(),y("button",{key:3,class:j(["tab",{active:s.activeTab==="contratos"}]),onClick:e[5]||(e[5]=h=>i.changeTab("contratos"))},[x(f,{size:"18",class:"tab-icon"}),e[11]||(e[11]=c("span",{class:"tab-text"},"Contratos",-1))],2)):I("",!0)])])}const IB=de(AB,[["render",PB],["__scopeId","data-v-c228db1d"]]),FB={name:"DatosPersonalesTab",props:{empleado:{type:Object,required:!0},editMode:{type:Boolean,default:!1},validationErrors:{type:Object,default:()=>({})}},methods:{formatDate(t){return t?new Date(t).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"No especificada"}}},RB={class:"tab-panel"},OB={class:"card"},NB={class:"card-body"},LB={class:"form-grid"},zB={class:"form-group"},$B={key:1,class:"invalid-feedback"},VB={key:2,class:"form-value"},BB={class:"form-group"},UB={key:1,class:"invalid-feedback"},jB={key:2,class:"form-value"},HB={class:"form-group"},qB={key:1,class:"invalid-feedback"},WB={key:2,class:"form-value"},KB={class:"form-group"},GB={key:1,class:"invalid-feedback"},XB={key:2,class:"form-value"},ZB={class:"form-group"},YB={key:1,class:"invalid-feedback"},JB={key:2,class:"form-value"},QB={class:"form-group"},eU={key:1,class:"invalid-feedback"},tU={key:2,class:"form-value"},sU={class:"form-group"},oU={key:1,class:"invalid-feedback"},nU={key:2,class:"form-value"},iU={class:"form-group"},rU={key:1,class:"invalid-feedback"},aU={key:2,class:"form-value"};function lU(t,e,s,o,n,i){return p(),y("div",RB,[c("div",OB,[e[17]||(e[17]=c("div",{class:"card-header"},[c("h2",null,"Datos Personales")],-1)),c("div",NB,[c("div",LB,[c("div",zB,[e[8]||(e[8]=c("label",null,"Nombre",-1)),s.editMode?se((p(),y("input",{key:0,"onUpdate:modelValue":e[0]||(e[0]=r=>s.empleado.nombre=r),type:"text",class:j(["form-control",{"is-invalid":s.validationErrors.nombre}])},null,2)),[[fe,s.empleado.nombre]]):I("",!0),s.editMode&&s.validationErrors.nombre?(p(),y("div",$B,S(s.validationErrors.nombre),1)):(p(),y("div",VB,S(s.empleado.nombre),1))]),c("div",BB,[e[9]||(e[9]=c("label",null,"Apellidos",-1)),s.editMode?se((p(),y("input",{key:0,"onUpdate:modelValue":e[1]||(e[1]=r=>s.empleado.apellidos=r),type:"text",class:j(["form-control",{"is-invalid":s.validationErrors.apellidos}])},null,2)),[[fe,s.empleado.apellidos]]):I("",!0),s.editMode&&s.validationErrors.apellidos?(p(),y("div",UB,S(s.validationErrors.apellidos),1)):(p(),y("div",jB,S(s.empleado.apellidos),1))]),c("div",HB,[e[10]||(e[10]=c("label",null,"DNI/NIE",-1)),s.editMode?se((p(),y("input",{key:0,"onUpdate:modelValue":e[2]||(e[2]=r=>s.empleado.dni_nie=r),type:"text",class:j(["form-control",{"is-invalid":s.validationErrors.dni_nie}])},null,2)),[[fe,s.empleado.dni_nie]]):I("",!0),s.editMode&&s.validationErrors.dni_nie?(p(),y("div",qB,S(s.validationErrors.dni_nie),1)):(p(),y("div",WB,S(s.empleado.dni_nie),1))]),c("div",KB,[e[11]||(e[11]=c("label",null,"Fecha de Nacimiento",-1)),s.editMode?se((p(),y("input",{key:0,"onUpdate:modelValue":e[3]||(e[3]=r=>s.empleado.fecha_nacimiento=r),type:"date",class:j(["form-control",{"is-invalid":s.validationErrors.fecha_nacimiento}])},null,2)),[[fe,s.empleado.fecha_nacimiento]]):I("",!0),s.editMode&&s.validationErrors.fecha_nacimiento?(p(),y("div",GB,S(s.validationErrors.fecha_nacimiento),1)):(p(),y("div",XB,S(i.formatDate(s.empleado.fecha_nacimiento)),1))]),c("div",ZB,[e[13]||(e[13]=c("label",null,"Estado Civil",-1)),s.editMode?se((p(),y("select",{key:0,"onUpdate:modelValue":e[4]||(e[4]=r=>s.empleado.estado_civil=r),class:j(["form-control",{"is-invalid":s.validationErrors.estado_civil}])},e[12]||(e[12]=[Ly('<option value="" data-v-6714b6e2>Seleccionar...</option><option value="Soltero/a" data-v-6714b6e2>Soltero/a</option><option value="Casado/a" data-v-6714b6e2>Casado/a</option><option value="Divorciado/a" data-v-6714b6e2>Divorciado/a</option><option value="Viudo/a" data-v-6714b6e2>Viudo/a</option><option value="Otro" data-v-6714b6e2>Otro</option>',6)]),2)),[[_t,s.empleado.estado_civil]]):I("",!0),s.editMode&&s.validationErrors.estado_civil?(p(),y("div",YB,S(s.validationErrors.estado_civil),1)):(p(),y("div",JB,S(s.empleado.estado_civil||"No especificado"),1))]),c("div",QB,[e[14]||(e[14]=c("label",null,"Dirección",-1)),s.editMode?se((p(),y("textarea",{key:0,"onUpdate:modelValue":e[5]||(e[5]=r=>s.empleado.direccion=r),class:j(["form-control",{"is-invalid":s.validationErrors.direccion}])},null,2)),[[fe,s.empleado.direccion]]):I("",!0),s.editMode&&s.validationErrors.direccion?(p(),y("div",eU,S(s.validationErrors.direccion),1)):(p(),y("div",tU,S(s.empleado.direccion||"No especificada"),1))]),c("div",sU,[e[15]||(e[15]=c("label",null,"Teléfono",-1)),s.editMode?se((p(),y("input",{key:0,"onUpdate:modelValue":e[6]||(e[6]=r=>s.empleado.telefono=r),type:"tel",class:j(["form-control",{"is-invalid":s.validationErrors.telefono}])},null,2)),[[fe,s.empleado.telefono]]):I("",!0),s.editMode&&s.validationErrors.telefono?(p(),y("div",oU,S(s.validationErrors.telefono),1)):(p(),y("div",nU,S(s.empleado.telefono||"No especificado"),1))]),c("div",iU,[e[16]||(e[16]=c("label",null,"Email",-1)),s.editMode?se((p(),y("input",{key:0,"onUpdate:modelValue":e[7]||(e[7]=r=>s.empleado.email=r),type:"email",class:j(["form-control",{"is-invalid":s.validationErrors.email}])},null,2)),[[fe,s.empleado.email]]):I("",!0),s.editMode&&s.validationErrors.email?(p(),y("div",rU,S(s.validationErrors.email),1)):(p(),y("div",aU,S(s.empleado.email||"No especificado"),1))])])])])])}const cU=de(FB,[["render",lU],["__scopeId","data-v-6714b6e2"]]),dU={getAll(t){return $.get("/empleados",{params:t})},getById(t){return $.get(`/empleados/${t}`)},create(t){return $.post("/empleados",t)},update(t,e){return $.put(`/empleados/${t}`,e)},delete(t){return $.delete(`/empleados/${t}`)},changeStatus(t,e){return $.patch(`/empleados/${t}/status`,{activo:e})}},uU={name:"InformacionLaboralTab",props:{empleado:{type:Object,required:!0},editMode:{type:Boolean,default:!1},validationErrors:{type:Object,default:()=>({})},centros:{type:Array,default:()=>[]},departamentos:{type:Array,default:()=>[]},selectedCentroId:{type:[Number,null],default:null},saveTriggered:{type:Boolean,default:!1}},emits:["centro-change","empleado-actualizado"],setup(t,{emit:e}){Dn();const s=Fd();ge([]);const o=ge(!1),n=ge(!1),i=we(()=>{if(t.selectedCentroId){const f=t.centros.find(h=>h.id_centro===t.selectedCentroId);return f&&f.Departamentos&&f.Departamentos.length>0?f.Departamentos:t.departamentos.filter(h=>h.id_centro===t.selectedCentroId)}return t.departamentos}),r=()=>{e("centro-change",t.empleado.id_centro),o.value=!0},a=async()=>{o.value=!0,t.editMode&&t.empleado.id_empleado&&await l()},l=async()=>{if(t.empleado.id_empleado){n.value=!0;try{const f={id_departamento:t.empleado.id_departamento};await dU.update(t.empleado.id_empleado,f),await d()}catch(f){console.error("Error al actualizar el departamento:",f)}finally{n.value=!1}}},d=async()=>{if(t.empleado.id_empleado){n.value=!0;try{const f=await s.fetchEmpleadoById(t.empleado.id_empleado);e("empleado-actualizado",f)}catch(f){console.error("Error al recargar los datos del empleado:",f)}finally{n.value=!1}}};return Os(()=>t.saveTriggered,async(f,h)=>{f&&!h&&o.value&&(await d(),o.value=!1)}),{departamentosFiltrados:i,handleCentroChange:r,handleDepartamentoChange:a,formatDate:f=>f?new Date(f).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"No especificada",cargando:n,recargarEmpleado:d}}},fU={class:"tab-panel"},hU={class:"card"},mU={class:"card-body"},pU={key:0,class:"loading-indicator"},gU={class:"form-grid"},bU={class:"form-group"},vU={key:1,class:"invalid-feedback"},yU={key:2,class:"form-value"},_U={class:"form-group"},EU=["value"],wU={key:1,class:"invalid-feedback"},CU={key:2,class:"form-value"},SU={class:"form-group"},xU=["value"],kU={key:1,class:"invalid-feedback"},DU={key:2,class:"form-value"},AU={class:"form-group"},TU={key:1,class:"invalid-feedback"},MU={key:2,class:"form-value"};function PU(t,e,s,o,n,i){return p(),y("div",fU,[c("div",hU,[e[13]||(e[13]=c("div",{class:"card-header"},[c("h2",null,"Información Laboral")],-1)),c("div",mU,[o.cargando?(p(),y("div",pU,e[6]||(e[6]=[c("div",{class:"spinner"},null,-1),c("p",null,"Cargando datos...",-1)]))):I("",!0),c("div",gU,[c("div",bU,[e[7]||(e[7]=c("label",null,"Puesto Actual",-1)),s.editMode?se((p(),y("input",{key:0,"onUpdate:modelValue":e[0]||(e[0]=r=>s.empleado.puesto_actual=r),type:"text",class:j(["form-control",{"is-invalid":s.validationErrors.puesto_actual}])},null,2)),[[fe,s.empleado.puesto_actual]]):I("",!0),s.editMode&&s.validationErrors.puesto_actual?(p(),y("div",vU,S(s.validationErrors.puesto_actual),1)):(p(),y("div",yU,S(s.empleado.puesto_actual||"No especificado"),1))]),c("div",_U,[e[9]||(e[9]=c("label",null,"Centro",-1)),s.editMode?se((p(),y("select",{key:0,"onUpdate:modelValue":e[1]||(e[1]=r=>s.empleado.id_centro=r),class:j(["form-control",{"is-invalid":s.validationErrors.id_centro}]),onChange:e[2]||(e[2]=(...r)=>o.handleCentroChange&&o.handleCentroChange(...r))},[e[8]||(e[8]=c("option",{value:null},"Sin centro",-1)),(p(!0),y(he,null,De(s.centros,r=>(p(),y("option",{key:r.id_centro,value:r.id_centro},S(r.nombre),9,EU))),128))],34)),[[_t,s.empleado.id_centro]]):I("",!0),s.editMode&&s.validationErrors.id_centro?(p(),y("div",wU,S(s.validationErrors.id_centro),1)):(p(),y("div",CU,S(s.empleado.Centro?s.empleado.Centro.nombre:"No asignado"),1))]),c("div",SU,[e[11]||(e[11]=c("label",null,"Departamento",-1)),s.editMode?se((p(),y("select",{key:0,"onUpdate:modelValue":e[3]||(e[3]=r=>s.empleado.id_departamento=r),class:j(["form-control",{"is-invalid":s.validationErrors.id_departamento}]),onChange:e[4]||(e[4]=(...r)=>o.handleDepartamentoChange&&o.handleDepartamentoChange(...r))},[e[10]||(e[10]=c("option",{value:null},"Sin departamento",-1)),(p(!0),y(he,null,De(o.departamentosFiltrados,r=>(p(),y("option",{key:r.id_departamento,value:r.id_departamento},S(r.nombre),9,xU))),128))],34)),[[_t,s.empleado.id_departamento]]):I("",!0),s.editMode&&s.validationErrors.id_departamento?(p(),y("div",kU,S(s.validationErrors.id_departamento),1)):(p(),y("div",DU,S(s.empleado.Departamento?s.empleado.Departamento.nombre:"No asignado"),1))]),c("div",AU,[e[12]||(e[12]=c("label",null,"Fecha de Incorporación",-1)),s.editMode?se((p(),y("input",{key:0,"onUpdate:modelValue":e[5]||(e[5]=r=>s.empleado.fecha_incorporacion=r),type:"date",class:j(["form-control",{"is-invalid":s.validationErrors.fecha_incorporacion}])},null,2)),[[fe,s.empleado.fecha_incorporacion]]):I("",!0),s.editMode&&s.validationErrors.fecha_incorporacion?(p(),y("div",TU,S(s.validationErrors.fecha_incorporacion),1)):(p(),y("div",MU,S(o.formatDate(s.empleado.fecha_incorporacion)),1))])])])])])}const IU=de(uU,[["render",PU],["__scopeId","data-v-7df83c4a"]]),FU={name:"FormacionTab",components:{GraduationCap:Y1,Plus:Ps,Edit:Tt,Trash2:Rt,Calendar:li,Loader:At,AlertTriangle:Ot},props:{formaciones:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},error:{type:String,default:null},canEdit:{type:Boolean,default:!1}},emits:["add-formacion","edit-formacion","delete-formacion","reload"],methods:{formatDate(t){return t?new Date(t).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"No especificada"}}},RU={class:"tab-panel"},OU={class:"card"},NU={class:"card-header"},LU={class:"card-header-content"},zU={class:"card-body"},$U={key:0,class:"loading-container"},VU={key:1,class:"error-container"},BU={class:"error-message"},UU={key:2,class:"empty-state"},jU={key:3,class:"formaciones-list"},HU={class:"formacion-header"},qU={class:"formacion-title"},WU={key:0,class:"formacion-actions"},KU=["onClick"],GU=["onClick"],XU={class:"formacion-dates"},ZU={class:"formacion-date"},YU={key:0,class:"formacion-date"};function JU(t,e,s,o,n,i){const r=C("Plus"),a=C("Loader"),l=C("AlertTriangle"),d=C("GraduationCap"),u=C("Edit"),f=C("Trash2"),h=C("Calendar");return p(),y("div",RU,[c("div",OU,[c("div",NU,[c("div",LU,[e[3]||(e[3]=c("h2",null,"Formación del Empleado",-1)),s.canEdit?(p(),y("button",{key:0,onClick:e[0]||(e[0]=m=>t.$emit("add-formacion")),class:"btn btn-primary"},[x(r,{size:"18",class:"btn-icon"}),e[2]||(e[2]=V(" Nueva Formación "))])):I("",!0)])]),c("div",zU,[s.loading?(p(),y("div",$U,[x(a,{size:"32",class:"animate-spin"}),e[4]||(e[4]=c("p",null,"Cargando formaciones...",-1))])):s.error?(p(),y("div",VU,[c("div",BU,[x(l,{size:"24"}),c("p",null,S(s.error),1)]),c("button",{onClick:e[1]||(e[1]=m=>t.$emit("reload")),class:"btn btn-primary"}," Reintentar ")])):s.formaciones.length===0?(p(),y("div",UU,[x(d,{size:"48",class:"empty-icon"}),e[5]||(e[5]=c("h3",null,"Sin formaciones registradas",-1)),e[6]||(e[6]=c("p",null,"Este empleado no tiene formaciones registradas.",-1))])):(p(),y("div",jU,[(p(!0),y(he,null,De(s.formaciones,m=>(p(),y("div",{key:m.id_formacion,class:"formacion-item"},[c("div",HU,[c("div",qU,[c("h3",null,S(m.nombre),1),c("span",{class:j(["formacion-badge",m.es_interna?"badge-success":"badge-info"])},S(m.es_interna?"Interna":"Externa"),3)]),s.canEdit?(p(),y("div",WU,[c("button",{onClick:g=>t.$emit("edit-formacion",m),class:"btn-icon-only",title:"Editar"},[x(u,{size:"16"})],8,KU),c("button",{onClick:g=>t.$emit("delete-formacion",m),class:"btn-icon-only",title:"Eliminar"},[x(f,{size:"16"})],8,GU)])):I("",!0)]),c("div",XU,[c("div",ZU,[x(h,{size:"14"}),c("span",null,"Inicio: "+S(i.formatDate(m.fecha_inicio)),1)]),m.fecha_fin?(p(),y("div",YU,[x(h,{size:"14"}),c("span",null,"Fin: "+S(i.formatDate(m.fecha_fin)),1)])):I("",!0)])]))),128))]))])])])}const QU=de(FU,[["render",JU],["__scopeId","data-v-ab51b9db"]]),e7={name:"AusenciaModal",components:{X:Xe,LoadingSpinner:rs},props:{value:{type:Object,default:()=>({})},id_empleado:{type:[Number,String],required:!0},tiposAusencia:{type:Array,default:()=>[]},ausenciasExistentes:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},validationErrors:{type:Object,default:()=>({})}},emits:["close","save","validation-error"],data(){return{localValue:{id_ausencia:null,id_empleado:null,id_tipo_ausencia:"",fecha_inicio:"",fecha_fin:""},enCurso:!0,errores:{id_tipo_ausencia:"",fecha_inicio:"",fecha_fin:"",general:""}}},computed:{isEditing(){return!!this.localValue.id_ausencia},isFormValid(){return this.localValue.id_empleado&&this.localValue.id_tipo_ausencia&&this.localValue.fecha_inicio&&this.localValue.fecha_fin&&this.validarFechas()},fechaHoy(){const t=new Date,e=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0");return`${e}-${s}-${o}`}},watch:{value:{handler(t){this.localValue={...t,id_empleado:t.id_empleado||this.id_empleado},t.id_ausencia&&t.fecha_fin?this.enCurso=!1:(this.enCurso=!0,this.localValue.fecha_fin=this.fechaHoy),this.limpiarErrores()},immediate:!0,deep:!0},id_empleado:{handler(t){if(t){const e=typeof t=="string"?parseInt(t,10):t;this.localValue.id_empleado=e}},immediate:!0},enCurso:{handler(t){t&&(this.localValue.fecha_fin=this.fechaHoy,this.errores.fecha_fin="")}},"localValue.fecha_inicio":{handler(t){t&&this.actualizarFechaFin()}}},created(){this.enCurso&&!this.localValue.fecha_fin&&(this.localValue.fecha_fin=this.fechaHoy)},methods:{limpiarErrores(){this.errores={id_tipo_ausencia:"",fecha_inicio:"",fecha_fin:"",general:""}},toggleEnCurso(){if(this.enCurso=!this.enCurso,this.enCurso)this.localValue.fecha_fin=this.fechaHoy;else if(this.localValue.fecha_inicio){const t=new Date(this.localValue.fecha_inicio),e=new Date(this.localValue.fecha_fin);t>e&&(this.localValue.fecha_fin=this.localValue.fecha_inicio)}},actualizarFechaFin(){if(this.localValue.fecha_inicio&&!this.enCurso){const t=new Date(this.localValue.fecha_inicio);(!this.localValue.fecha_fin||new Date(this.localValue.fecha_fin)<t)&&(this.localValue.fecha_fin=this.localValue.fecha_inicio)}this.validarFechas()},validarFechas(){if(!this.localValue.fecha_inicio||!this.localValue.fecha_fin)return!1;const t=new Date(this.localValue.fecha_inicio);return new Date(this.localValue.fecha_fin)<t?(this.errores.fecha_fin="La fecha de fin no puede ser anterior a la fecha de inicio",!1):(this.errores.fecha_fin="",!0)},validarFormulario(){this.limpiarErrores();let t=!0;if(this.localValue.id_empleado||(this.errores.general="No se puede guardar la ausencia sin ID de empleado",t=!1),this.localValue.id_tipo_ausencia||(this.errores.id_tipo_ausencia="Debe seleccionar un tipo de ausencia",t=!1),this.localValue.fecha_inicio||(this.errores.fecha_inicio="La fecha de inicio es obligatoria",t=!1),this.localValue.fecha_fin||(this.errores.fecha_fin="La fecha de fin es obligatoria",t=!1),this.localValue.fecha_inicio&&this.localValue.fecha_fin&&(this.validarFechas()||(t=!1)),t&&this.ausenciasExistentes&&this.ausenciasExistentes.length>0){const e=this.verificarSolapamiento();e&&(this.errores.general=`Esta ausencia se solapa con otra ausencia existente (${e.fechaInicio} - ${e.fechaFin||"En curso"})`,t=!1)}return t},handleSubmit(){if(!this.validarFormulario()){this.$emit("validation-error",{type:"general",message:this.errores.general||"Por favor, corrija los errores en el formulario"});return}const t={...this.localValue,id_empleado:typeof this.localValue.id_empleado=="string"?parseInt(this.localValue.id_empleado,10):this.localValue.id_empleado};this.$emit("save",t)},verificarSolapamiento(){const t=new Date(this.localValue.fecha_inicio),e=new Date(this.localValue.fecha_fin);for(const s of this.ausenciasExistentes){if(this.localValue.id_ausencia&&s.id_ausencia===this.localValue.id_ausencia)continue;const o=new Date(s.fecha_inicio),n=s.fecha_fin?new Date(s.fecha_fin):new Date;if(t<=n&&e>=o||o<=e&&n>=t)return{id:s.id_ausencia,fechaInicio:this.formatDate(s.fecha_inicio),fechaFin:s.fecha_fin?this.formatDate(s.fecha_fin):"En curso"}}return null},formatDate(t){return t?new Date(t).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"-"}}},t7={class:"modal-content"},s7={class:"modal-header"},o7={class:"modal-body"},n7={class:"form-group"},i7=["disabled"],r7=["value"],a7={key:0,class:"invalid-feedback"},l7={key:1,class:"invalid-feedback"},c7={class:"form-group"},d7=["disabled"],u7={key:0,class:"invalid-feedback"},f7={key:1,class:"invalid-feedback"},h7={class:"form-group"},m7={class:"fecha-header"},p7={class:"toggle-container"},g7=["disabled","min"],b7={key:0,class:"invalid-feedback"},v7={key:1,class:"invalid-feedback"},y7={key:2,class:"form-text text-info"},_7={key:3,class:"form-text text-muted"},E7={key:0,class:"alert alert-danger"},w7={class:"modal-footer"},C7=["disabled"],S7=["disabled"],x7={key:0},k7={key:1};function D7(t,e,s,o,n,i){const r=C("X"),a=C("LoadingSpinner");return p(),y("div",{class:"modal-backdrop",onClick:e[8]||(e[8]=Ve(l=>t.$emit("close"),["self"]))},[c("div",t7,[c("div",s7,[c("h3",null,S(i.isEditing?"Editar ausencia":"Nueva ausencia"),1),c("button",{onClick:e[0]||(e[0]=l=>t.$emit("close")),class:"btn-close"},[x(r,{size:"20"})])]),c("div",o7,[c("form",{onSubmit:e[7]||(e[7]=Ve((...l)=>i.handleSubmit&&i.handleSubmit(...l),["prevent"]))},[c("div",n7,[e[10]||(e[10]=c("label",{for:"id_tipo_ausencia"},"Tipo de ausencia *",-1)),se(c("select",{id:"id_tipo_ausencia","onUpdate:modelValue":e[1]||(e[1]=l=>n.localValue.id_tipo_ausencia=l),disabled:s.loading,class:j(["form-control",{"is-invalid":s.validationErrors.id_tipo_ausencia||n.errores.id_tipo_ausencia}]),required:""},[e[9]||(e[9]=c("option",{value:"",disabled:""},"Seleccione un tipo de ausencia",-1)),(p(!0),y(he,null,De(s.tiposAusencia,l=>(p(),y("option",{key:l.id_tipo_ausencia,value:l.id_tipo_ausencia},S(l.nombre),9,r7))),128))],10,i7),[[_t,n.localValue.id_tipo_ausencia]]),s.validationErrors.id_tipo_ausencia?(p(),y("div",a7,S(s.validationErrors.id_tipo_ausencia),1)):I("",!0),n.errores.id_tipo_ausencia?(p(),y("div",l7,S(n.errores.id_tipo_ausencia),1)):I("",!0)]),c("div",c7,[e[11]||(e[11]=c("label",{for:"fecha_inicio"},"Fecha de inicio *",-1)),se(c("input",{id:"fecha_inicio",type:"date","onUpdate:modelValue":e[2]||(e[2]=l=>n.localValue.fecha_inicio=l),disabled:s.loading,class:j(["form-control",{"is-invalid":s.validationErrors.fecha_inicio||n.errores.fecha_inicio}]),required:"",onChange:e[3]||(e[3]=(...l)=>i.actualizarFechaFin&&i.actualizarFechaFin(...l))},null,42,d7),[[fe,n.localValue.fecha_inicio]]),s.validationErrors.fecha_inicio?(p(),y("div",u7,S(s.validationErrors.fecha_inicio),1)):I("",!0),n.errores.fecha_inicio?(p(),y("div",f7,S(n.errores.fecha_inicio),1)):I("",!0)]),c("div",h7,[c("div",m7,[e[14]||(e[14]=c("label",{for:"fecha_fin"},"Fecha de fin *",-1)),c("div",p7,[e[13]||(e[13]=c("span",{class:"toggle-label"},"En curso",-1)),c("button",{type:"button",onClick:e[4]||(e[4]=(...l)=>i.toggleEnCurso&&i.toggleEnCurso(...l)),class:j(["toggle-button",{active:n.enCurso}]),title:"Marcar como ausencia en curso"},e[12]||(e[12]=[c("span",{class:"toggle-slider"},null,-1)]),2)])]),se(c("input",{id:"fecha_fin",type:"date","onUpdate:modelValue":e[5]||(e[5]=l=>n.localValue.fecha_fin=l),disabled:s.loading||n.enCurso,class:j(["form-control",{"is-invalid":s.validationErrors.fecha_fin||n.errores.fecha_fin}]),min:n.localValue.fecha_inicio,required:""},null,10,g7),[[fe,n.localValue.fecha_fin]]),s.validationErrors.fecha_fin?(p(),y("div",b7,S(s.validationErrors.fecha_fin),1)):I("",!0),n.errores.fecha_fin?(p(),y("div",v7,S(n.errores.fecha_fin),1)):I("",!0),n.enCurso?(p(),y("small",y7," Se utilizará la fecha de hoy ("+S(i.fechaHoy)+") como fecha de fin para indicar que la ausencia está en curso ",1)):(p(),y("small",_7," Debe especificar la fecha de finalización de la ausencia "))]),s.validationErrors.general||n.errores.general?(p(),y("div",E7,S(s.validationErrors.general||n.errores.general),1)):I("",!0),c("div",w7,[c("button",{type:"button",onClick:e[6]||(e[6]=l=>t.$emit("close")),class:"btn btn-secondary",disabled:s.loading}," Cancelar ",8,C7),c("button",{type:"submit",class:"btn btn-primary",disabled:s.loading||!i.isFormValid},[s.loading?(p(),y("span",x7,[x(a,{size:"small"}),e[15]||(e[15]=V(" Guardando... "))])):(p(),y("span",k7,"Guardar"))],8,S7)])],32)])])])}const yE=de(e7,[["render",D7],["__scopeId","data-v-31737b9c"]]),A7={name:"AusenciasTab",components:{LoadingSpinner:rs,AusenciaModal:yE,AlertTriangle:Ot,Plus:Ps,Edit:Tt,Trash2:Rt,Calendar:li,RefreshCw:Ft},props:{ausencias:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},error:{type:String,default:null},canEdit:{type:Boolean,default:!1},id_empleado:{type:[Number,String],required:!0}},emits:["add-ausencia","edit-ausencia","delete-ausencia","reload","save-ausencia"],data(){return{tiposAusenciaStore:vE(),tiposEnProcesoDeCarga:{},fechaActual:new Date,showModal:!1,currentAusencia:{},savingAusencia:!1,validationErrors:{}}},created(){this.loadTiposAusencia(),this.intervalId=setInterval(()=>{this.fechaActual=new Date},6e4)},beforeUnmount(){this.intervalId&&clearInterval(this.intervalId)},methods:{async loadTiposAusencia(){try{await this.tiposAusenciaStore.fetchTiposAusencia(),this.ausencias&&this.ausencias.length>0&&this.cargarTiposFaltantes()}catch(t){console.error("Error al cargar tipos de ausencia:",t)}},cargarTiposFaltantes(){this.ausencias&&this.ausencias.forEach(t=>{if(!t.id_tipo_ausencia)return;const e=typeof t.id_tipo_ausencia=="string"?parseInt(t.id_tipo_ausencia,10):t.id_tipo_ausencia;if(isNaN(e))return;!this.tiposAusenciaStore.getTipoAusenciaById(e)&&!this.tiposEnProcesoDeCarga[e]&&(this.tiposEnProcesoDeCarga[e]=!0,this.cargarTipoAusencia(e))})},async cargarTipoAusencia(t){try{await this.tiposAusenciaStore.getTipoAusencia(t)}catch(e){console.error(`Error al cargar tipo de ausencia con ID ${t}:`,e)}finally{this.tiposEnProcesoDeCarga[t]=!1}},getTipoAusenciaNombre(t){if(!t)return"Sin especificar";const e=typeof t=="string"?parseInt(t,10):t;if(isNaN(e))return"ID inválido";const s=this.tiposAusenciaStore.getTipoAusenciaById(e);return s?s.nombre:(this.tiposEnProcesoDeCarga[e]||(this.tiposEnProcesoDeCarga[e]=!0,this.cargarTipoAusencia(e)),"Cargando...")},formatDate(t){return t?new Date(t).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"-"},calcularDuracion(t,e){if(!t)return"-";const s=new Date(t),o=e?new Date(e):new Date,n=new Date(s.getFullYear(),s.getMonth(),s.getDate()),r=new Date(o.getFullYear(),o.getMonth(),o.getDate())-n,a=Math.floor(r/(1e3*60*60*24))+1;return e?`${a} día${a!==1?"s":""}`:`${a} día${a!==1?"s":""} (en curso)`},openModal(){this.currentAusencia={id_empleado:this.id_empleado,id_tipo_ausencia:"",fecha_inicio:"",fecha_fin:""},this.validationErrors={},this.showModal=!0},editAusencia(t){this.currentAusencia={...t,id_empleado:this.id_empleado},this.validationErrors={},this.showModal=!0},deleteAusencia(t){this.$emit("delete-ausencia",t)},closeModal(){this.showModal=!1,this.currentAusencia={},this.validationErrors={}},async saveAusencia(t){try{this.savingAusencia=!0,this.validationErrors={},this.$emit("save-ausencia",t),this.closeModal()}catch(e){console.error("Error al guardar ausencia:",e),this.validationErrors=e.validationErrors||{general:"Error al guardar la ausencia"}}finally{this.savingAusencia=!1}},handleValidationError(t){console.error("Error de validación:",t),t.type==="solapamiento"?this.validationErrors={general:`Error: ${t.message}`}:t.type==="fecha"?this.validationErrors={fecha_fin:t.message}:this.validationErrors={general:t.message}}},watch:{ausencias:{handler(){this.cargarTiposFaltantes()},deep:!0}}},T7={class:"tab-panel"},M7={class:"card"},P7={class:"card-header"},I7={class:"card-body"},F7={key:0,class:"loading-container"},R7={key:1,class:"error-container"},O7={class:"error-message"},N7={key:2,class:"empty-container"},L7={key:3,class:"table-container"},z7={class:"data-table"},$7={key:0},V7={key:0},B7={key:1},U7={key:0},j7={key:1,class:"badge badge-active"},H7={key:0,class:"actions-cell"},q7=["onClick"],W7=["onClick"];function K7(t,e,s,o,n,i){const r=C("Plus"),a=C("LoadingSpinner"),l=C("AlertTriangle"),d=C("RefreshCw"),u=C("Calendar"),f=C("Edit"),h=C("Trash2"),m=C("AusenciaModal");return p(),y("div",T7,[c("div",M7,[c("div",P7,[e[3]||(e[3]=c("h2",null,"Ausencias",-1)),s.canEdit?(p(),y("button",{key:0,onClick:e[0]||(e[0]=g=>i.openModal()),class:"btn btn-primary"},[x(r,{size:"16",class:"btn-icon"}),e[2]||(e[2]=V(" Nueva ausencia "))])):I("",!0)]),c("div",I7,[s.loading?(p(),y("div",F7,[x(a,{message:"Cargando ausencias..."})])):s.error?(p(),y("div",R7,[c("div",O7,[x(l,{size:"24"}),c("p",null,S(s.error),1)]),c("button",{onClick:e[1]||(e[1]=g=>t.$emit("reload")),class:"btn btn-primary"},[x(d,{size:"16",class:"btn-icon"}),e[4]||(e[4]=V(" Reintentar "))])])):!s.ausencias||s.ausencias.length===0?(p(),y("div",N7,[x(u,{size:"48",class:"empty-icon"}),e[5]||(e[5]=c("p",null,"No hay ausencias registradas para este empleado.",-1))])):(p(),y("div",L7,[c("table",z7,[c("thead",null,[c("tr",null,[e[6]||(e[6]=c("th",null,"Tipo de ausencia",-1)),e[7]||(e[7]=c("th",null,"Fecha inicio",-1)),e[8]||(e[8]=c("th",null,"Fecha fin",-1)),e[9]||(e[9]=c("th",null,"Duración",-1)),s.canEdit?(p(),y("th",$7,"Acciones")):I("",!0)])]),c("tbody",null,[(p(!0),y(he,null,De(s.ausencias,g=>(p(),y("tr",{key:g.id_ausencia},[c("td",null,[g.TipoAusencia&&g.TipoAusencia.nombre?(p(),y("span",V7,S(g.TipoAusencia.nombre),1)):(p(),y("span",B7,S(i.getTipoAusenciaNombre(g.id_tipo_ausencia)),1))]),c("td",null,S(i.formatDate(g.fecha_inicio)),1),c("td",null,[g.fecha_fin?(p(),y("span",U7,S(i.formatDate(g.fecha_fin)),1)):(p(),y("span",j7,"En curso"))]),c("td",null,S(i.calcularDuracion(g.fecha_inicio,g.fecha_fin)),1),s.canEdit?(p(),y("td",H7,[c("button",{onClick:b=>i.editAusencia(g),class:"btn-icon-only",title:"Editar"},[x(f,{size:"16"})],8,q7),c("button",{onClick:b=>i.deleteAusencia(g),class:"btn-icon-only text-danger",title:"Eliminar"},[x(h,{size:"16"})],8,W7)])):I("",!0)]))),128))])])]))])]),n.showModal?(p(),q(m,{key:0,value:n.currentAusencia,loading:n.savingAusencia,"validation-errors":n.validationErrors,id_empleado:s.id_empleado,tiposAusencia:n.tiposAusenciaStore.tiposAusencia,"ausencias-existentes":s.ausencias,onClose:i.closeModal,onSave:i.saveAusencia,onValidationError:i.handleValidationError},null,8,["value","loading","validation-errors","id_empleado","tiposAusencia","ausencias-existentes","onClose","onSave","onValidationError"])):I("",!0)])}const G7=de(A7,[["render",K7],["__scopeId","data-v-0283395d"]]),X7={name:"ContratoModal",components:{X:Xe,Save:wo,Loader:At,FileIcon:go,AlertTriangle:Ot},props:{contrato:{type:Object,default:()=>null},idEmpleado:{type:[Number,String],required:!0},loading:{type:Boolean,default:!1},validationErrors:{type:Object,default:()=>({})},tiposContrato:{type:Array,default:()=>[]},empresas:{type:Array,default:()=>[]},convenios:{type:Array,default:()=>[]},categorias:{type:Array,default:()=>[]}},emits:["close","save","validation-error","convenio-change"],data(){return{formData:{id_contrato:null,id_empleado:null,id_tipo_contrato:"",id_empresa:"",id_convenio:null,id_categoria:null,fecha_inicio:"",fecha_fin:"",fin_periodo_prueba:"",observaciones:"",nombre_original:""},selectedFile:null,hasFechaFin:!1,hasPeriodoPrueba:!1}},computed:{isEditing(){return!!this.formData.id_contrato},isFormValid(){return this.formData.id_tipo_contrato&&this.formData.id_empresa&&this.formData.fecha_inicio&&this.formData.id_empleado&&(!this.hasFechaFin||this.hasFechaFin&&this.formData.fecha_fin)&&(!this.hasPeriodoPrueba||this.hasPeriodoPrueba&&this.formData.fin_periodo_prueba)},selectedFileName(){return this.selectedFile?this.selectedFile.name:this.isEditing&&this.formData.nombre_original?this.formData.nombre_original:""}},watch:{idEmpleado:{handler(t){t&&(this.formData.id_empleado=Number(t))},immediate:!0},contrato:{handler(t){t?this.initializeFormData():this.resetForm()},immediate:!0}},created(){this.formData.id_empleado=Number(this.idEmpleado),this.contrato&&this.initializeFormData()},methods:{initializeFormData(){if(!this.contrato)return;const t=e=>{if(!e)return"";try{return new Date(e).toISOString().split("T")[0]}catch{return""}};this.formData={id_contrato:Number(this.contrato.id_contrato)||null,id_empleado:Number(this.idEmpleado),id_tipo_contrato:Number(this.contrato.id_tipo_contrato)||"",id_empresa:Number(this.contrato.id_empresa)||"",id_convenio:this.contrato.id_convenio?Number(this.contrato.id_convenio):null,id_categoria:this.contrato.id_categoria?Number(this.contrato.id_categoria):null,fecha_inicio:t(this.contrato.fecha_inicio),fecha_fin:t(this.contrato.fecha_fin),fin_periodo_prueba:t(this.contrato.fin_periodo_prueba),observaciones:this.contrato.observaciones||"",nombre_original:this.contrato.nombre_original||""},this.hasFechaFin=!!this.formData.fecha_fin,this.hasPeriodoPrueba=!!this.formData.fin_periodo_prueba,this.formData.id_convenio&&this.$nextTick(()=>{this.$emit("convenio-change",this.formData.id_convenio)})},resetForm(){this.formData={id_contrato:null,id_empleado:Number(this.idEmpleado),id_tipo_contrato:"",id_empresa:"",id_convenio:null,id_categoria:null,fecha_inicio:"",fecha_fin:"",fin_periodo_prueba:"",observaciones:"",nombre_original:""},this.selectedFile=null,this.hasFechaFin=!1,this.hasPeriodoPrueba=!1,this.$refs.fileInput&&(this.$refs.fileInput.value="")},toggleFechaFin(){if(!this.hasFechaFin)this.formData.fecha_fin="";else if(!this.formData.fecha_fin&&this.formData.fecha_inicio){const t=new Date(this.formData.fecha_inicio);if(!isNaN(t.getTime())){const e=new Date(t);e.setFullYear(e.getFullYear()+1),this.formData.fecha_fin=e.toISOString().split("T")[0]}}},togglePeriodoPrueba(){if(!this.hasPeriodoPrueba)this.formData.fin_periodo_prueba="";else if(!this.formData.fin_periodo_prueba&&this.formData.fecha_inicio){const t=new Date(this.formData.fecha_inicio);if(!isNaN(t.getTime())){const e=new Date(t);e.setMonth(e.getMonth()+3),this.formData.fin_periodo_prueba=e.toISOString().split("T")[0]}}},handleSubmit(){if(console.log("handleSubmit called"),console.log("Form data:",this.formData),console.log("Is form valid:",this.isFormValid),!this.validateForm()){console.log("Validation failed");return}const t=this.buildFormData();console.log("Emitting save event with formData"),this.$emit("save",t)},validateForm(){const t={};if(this.formData.id_empleado||(t.id_empleado="El ID del empleado es requerido"),this.formData.id_tipo_contrato||(t.id_tipo_contrato="El tipo de contrato es obligatorio"),this.formData.id_empresa||(t.id_empresa="La empresa es obligatoria"),this.formData.fecha_inicio||(t.fecha_inicio="La fecha de inicio es obligatoria"),this.hasFechaFin&&!this.formData.fecha_fin&&(t.fecha_fin="La fecha de fin es obligatoria cuando el contrato no es indefinido"),this.hasPeriodoPrueba&&!this.formData.fin_periodo_prueba&&(t.fin_periodo_prueba="La fecha de fin del periodo de prueba es obligatoria cuando está activado"),this.formData.fecha_fin&&this.formData.fecha_inicio){const e=new Date(this.formData.fecha_inicio);new Date(this.formData.fecha_fin)<e&&(t.fecha_fin="La fecha de fin debe ser posterior a la fecha de inicio")}if(this.formData.fin_periodo_prueba&&this.formData.fecha_inicio){const e=new Date(this.formData.fecha_inicio);new Date(this.formData.fin_periodo_prueba)<e&&(t.fin_periodo_prueba="El fin del periodo de prueba debe ser posterior a la fecha de inicio")}if(this.formData.fin_periodo_prueba&&this.formData.fecha_fin){const e=new Date(this.formData.fin_periodo_prueba),s=new Date(this.formData.fecha_fin);e>s&&(t.fin_periodo_prueba="El fin del periodo de prueba debe ser anterior a la fecha de fin del contrato")}return this.formData.observaciones&&this.formData.observaciones.length>1e3&&(t.observaciones="Las observaciones no pueden exceder los 1000 caracteres"),Object.keys(t).length>0?(console.log("Validation errors:",t),Object.entries(t).forEach(([e,s])=>{this.$emit("validation-error",{type:e,message:s})}),!1):!0},buildFormData(){var e;const t=new FormData;return t.append("id_empleado",String(this.formData.id_empleado)),t.append("id_tipo_contrato",String(this.formData.id_tipo_contrato)),t.append("id_empresa",String(this.formData.id_empresa)),t.append("fecha_inicio",this.formData.fecha_inicio),this.formData.id_contrato&&t.append("id_contrato",String(this.formData.id_contrato)),this.formData.id_convenio!==null&&this.formData.id_convenio!==""&&t.append("id_convenio",String(this.formData.id_convenio)),this.formData.id_categoria!==null&&this.formData.id_categoria!==""&&t.append("id_categoria",String(this.formData.id_categoria)),this.hasFechaFin&&this.formData.fecha_fin&&t.append("fecha_fin",this.formData.fecha_fin),this.hasPeriodoPrueba&&this.formData.fin_periodo_prueba&&t.append("fin_periodo_prueba",this.formData.fin_periodo_prueba),(e=this.formData.observaciones)!=null&&e.trim()&&t.append("observaciones",this.formData.observaciones.trim()),this.selectedFile&&t.append("archivo",this.selectedFile),console.log("FormData built successfully"),t},handleFileChange(t){const e=t.target.files[0];if(!e)return;if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/png"].includes(e.type)){this.$emit("validation-error",{type:"archivo",message:"Formato de archivo no válido. Use PDF, DOC, DOCX, JPG o PNG"}),this.clearSelectedFile();return}const o=10*1024*1024;if(e.size>o){this.$emit("validation-error",{type:"archivo",message:"El archivo es demasiado grande. Tamaño máximo: 10MB"}),this.clearSelectedFile();return}this.selectedFile=e},clearSelectedFile(){this.selectedFile=null,this.$refs.fileInput&&(this.$refs.fileInput.value="")},handleConvenioChange(){this.$emit("convenio-change",this.formData.id_convenio),this.formData.id_categoria&&(this.formData.id_categoria=null)}}},Z7={class:"modal-overlay"},Y7={class:"modal-container"},J7={class:"modal-header"},Q7={class:"modal-body"},e9={class:"form-group"},t9=["value"],s9={key:0,class:"invalid-feedback"},o9={class:"form-group"},n9=["value"],i9={key:0,class:"invalid-feedback"},r9={class:"form-row"},a9={class:"form-group form-group-half"},l9={key:0,class:"invalid-feedback"},c9={class:"form-group form-group-half"},d9={class:"fecha-fin-header"},u9={class:"toggle-switch"},f9={for:"toggle-fecha-fin",class:"toggle-label"},h9=["disabled"],m9={key:0,class:"form-text"},p9={key:1,class:"invalid-feedback"},g9={class:"form-group"},b9={class:"fecha-fin-header"},v9={class:"toggle-switch"},y9={for:"toggle-periodo-prueba",class:"toggle-label"},_9=["disabled"],E9={key:0,class:"invalid-feedback"},w9={class:"form-group"},C9=["value"],S9={key:0,class:"invalid-feedback"},x9={key:0,class:"form-group"},k9=["disabled"],D9=["value"],A9={key:0,class:"form-text"},T9={key:1,class:"invalid-feedback"},M9={class:"form-group"},P9={class:"file-input-wrapper"},I9={class:"file-input-button"},F9={class:"file-button"},R9={key:0,class:"selected-file"},O9={class:"file-name"},N9={key:0,class:"invalid-feedback"},L9={class:"form-group"},z9={key:0,class:"invalid-feedback"},$9={key:1,class:"alert-error"},V9={class:"modal-footer"},B9=["disabled"],U9=["disabled"];function j9(t,e,s,o,n,i){const r=C("X"),a=C("FileIcon"),l=C("AlertTriangle"),d=C("Loader"),u=C("Save");return p(),y("div",Z7,[c("div",Y7,[c("div",J7,[c("h3",null,S(i.isEditing?"Editar Contrato":"Nuevo Contrato"),1),c("button",{onClick:e[0]||(e[0]=f=>t.$emit("close")),class:"btn-close"},[x(r,{size:"18"})])]),c("div",Q7,[c("form",{onSubmit:e[16]||(e[16]=Ve((...f)=>i.handleSubmit&&i.handleSubmit(...f),["prevent"])),ref:"contratoForm"},[c("div",e9,[e[20]||(e[20]=c("label",null,[V("Tipo de contrato "),c("span",{class:"required"},"*")],-1)),se(c("select",{"onUpdate:modelValue":e[1]||(e[1]=f=>n.formData.id_tipo_contrato=f),class:j(["form-control",{"is-invalid":s.validationErrors.id_tipo_contrato}]),required:""},[e[19]||(e[19]=c("option",{value:""},"Seleccione un tipo de contrato",-1)),(p(!0),y(he,null,De(s.tiposContrato,f=>(p(),y("option",{key:f.id_tipo_contrato,value:Number(f.id_tipo_contrato)},S(f.nombre),9,t9))),128))],2),[[_t,n.formData.id_tipo_contrato]]),s.validationErrors.id_tipo_contrato?(p(),y("div",s9,S(s.validationErrors.id_tipo_contrato),1)):I("",!0)]),c("div",o9,[e[22]||(e[22]=c("label",null,[V("Empresa "),c("span",{class:"required"},"*")],-1)),se(c("select",{"onUpdate:modelValue":e[2]||(e[2]=f=>n.formData.id_empresa=f),class:j(["form-control",{"is-invalid":s.validationErrors.id_empresa}]),required:""},[e[21]||(e[21]=c("option",{value:""},"Seleccione una empresa",-1)),(p(!0),y(he,null,De(s.empresas,f=>(p(),y("option",{key:f.id_empresa,value:Number(f.id_empresa)},S(f.nombre),9,n9))),128))],2),[[_t,n.formData.id_empresa]]),s.validationErrors.id_empresa?(p(),y("div",i9,S(s.validationErrors.id_empresa),1)):I("",!0)]),c("div",r9,[c("div",a9,[e[23]||(e[23]=c("label",null,[V("Fecha de inicio "),c("span",{class:"required"},"*")],-1)),se(c("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=f=>n.formData.fecha_inicio=f),class:j(["form-control",{"is-invalid":s.validationErrors.fecha_inicio}]),required:""},null,2),[[fe,n.formData.fecha_inicio]]),s.validationErrors.fecha_inicio?(p(),y("div",l9,S(s.validationErrors.fecha_inicio),1)):I("",!0)]),c("div",c9,[c("div",d9,[e[24]||(e[24]=c("label",null,"Fecha de fin",-1)),c("div",u9,[se(c("input",{type:"checkbox",id:"toggle-fecha-fin","onUpdate:modelValue":e[4]||(e[4]=f=>n.hasFechaFin=f),onChange:e[5]||(e[5]=(...f)=>i.toggleFechaFin&&i.toggleFechaFin(...f))},null,544),[[Sn,n.hasFechaFin]]),c("label",f9,S(n.hasFechaFin?"Definido":"Indefinido"),1)])]),se(c("input",{type:"date","onUpdate:modelValue":e[6]||(e[6]=f=>n.formData.fecha_fin=f),class:j(["form-control",{"is-invalid":s.validationErrors.fecha_fin}]),disabled:!n.hasFechaFin},null,10,h9),[[fe,n.formData.fecha_fin]]),n.hasFechaFin?I("",!0):(p(),y("div",m9,"Contrato indefinido")),s.validationErrors.fecha_fin?(p(),y("div",p9,S(s.validationErrors.fecha_fin),1)):I("",!0)])]),c("div",g9,[c("div",b9,[e[25]||(e[25]=c("label",null,"Fin de período de prueba",-1)),c("div",v9,[se(c("input",{type:"checkbox",id:"toggle-periodo-prueba","onUpdate:modelValue":e[7]||(e[7]=f=>n.hasPeriodoPrueba=f),onChange:e[8]||(e[8]=(...f)=>i.togglePeriodoPrueba&&i.togglePeriodoPrueba(...f))},null,544),[[Sn,n.hasPeriodoPrueba]]),c("label",y9,S(n.hasPeriodoPrueba?"Activado":"Sin período"),1)])]),se(c("input",{type:"date","onUpdate:modelValue":e[9]||(e[9]=f=>n.formData.fin_periodo_prueba=f),class:j(["form-control",{"is-invalid":s.validationErrors.fin_periodo_prueba}]),disabled:!n.hasPeriodoPrueba},null,10,_9),[[fe,n.formData.fin_periodo_prueba]]),s.validationErrors.fin_periodo_prueba?(p(),y("div",E9,S(s.validationErrors.fin_periodo_prueba),1)):I("",!0)]),c("div",w9,[e[27]||(e[27]=c("label",null,"Convenio colectivo",-1)),se(c("select",{"onUpdate:modelValue":e[10]||(e[10]=f=>n.formData.id_convenio=f),class:j(["form-control",{"is-invalid":s.validationErrors.id_convenio}]),onChange:e[11]||(e[11]=(...f)=>i.handleConvenioChange&&i.handleConvenioChange(...f))},[e[26]||(e[26]=c("option",{value:null},"Sin convenio",-1)),(p(!0),y(he,null,De(s.convenios,f=>(p(),y("option",{key:f.id_convenio,value:Number(f.id_convenio)},S(f.nombre),9,C9))),128))],34),[[_t,n.formData.id_convenio]]),s.validationErrors.id_convenio?(p(),y("div",S9,S(s.validationErrors.id_convenio),1)):I("",!0)]),n.formData.id_convenio?(p(),y("div",x9,[e[29]||(e[29]=c("label",null,"Categoría profesional",-1)),se(c("select",{"onUpdate:modelValue":e[12]||(e[12]=f=>n.formData.id_categoria=f),class:j(["form-control",{"is-invalid":s.validationErrors.id_categoria}]),disabled:!s.categorias.length},[e[28]||(e[28]=c("option",{value:null},"Sin categoría",-1)),(p(!0),y(he,null,De(s.categorias,f=>(p(),y("option",{key:f.id_categoria,value:Number(f.id_categoria)},S(f.nombre),9,D9))),128))],10,k9),[[_t,n.formData.id_categoria]]),s.categorias.length?I("",!0):(p(),y("div",A9," No hay categorías disponibles para el convenio seleccionado ")),s.validationErrors.id_categoria?(p(),y("div",T9,S(s.validationErrors.id_categoria),1)):I("",!0)])):I("",!0),c("div",M9,[e[31]||(e[31]=c("label",null,"Documento de contrato",-1)),c("div",P9,[c("div",I9,[c("input",{ref:"fileInput",type:"file",onChange:e[13]||(e[13]=(...f)=>i.handleFileChange&&i.handleFileChange(...f)),class:j(["file-input",{"is-invalid":s.validationErrors.archivo}]),accept:".pdf,.doc,.docx,.jpg,.jpeg,.png"},null,34),c("div",F9,[x(a,{size:"16",class:"file-icon"}),e[30]||(e[30]=V(" Seleccionar archivo "))])]),n.selectedFile||i.isEditing&&n.formData.nombre_original?(p(),y("div",R9,[c("span",O9,S(i.selectedFileName),1),c("button",{type:"button",onClick:e[14]||(e[14]=(...f)=>i.clearSelectedFile&&i.clearSelectedFile(...f)),class:"btn-clear-file"},[x(r,{size:"16"})])])):I("",!0)]),e[32]||(e[32]=c("div",{class:"form-text"}," Formatos permitidos: PDF, DOC, DOCX, JPG, JPEG, PNG (máx. 10MB) ",-1)),s.validationErrors.archivo?(p(),y("div",N9,S(s.validationErrors.archivo),1)):I("",!0)]),c("div",L9,[e[33]||(e[33]=c("label",null,"Observaciones",-1)),se(c("textarea",{"onUpdate:modelValue":e[15]||(e[15]=f=>n.formData.observaciones=f),class:j(["form-control",{"is-invalid":s.validationErrors.observaciones}]),rows:"3",placeholder:"Observaciones adicionales sobre el contrato..."},null,2),[[fe,n.formData.observaciones]]),s.validationErrors.observaciones?(p(),y("div",z9,S(s.validationErrors.observaciones),1)):I("",!0)]),s.validationErrors.general?(p(),y("div",$9,[x(l,{size:"16",class:"alert-icon"}),V(" "+S(s.validationErrors.general),1)])):I("",!0)],544)]),c("div",V9,[c("button",{type:"button",onClick:e[17]||(e[17]=f=>t.$emit("close")),class:"btn btn-secondary",disabled:s.loading}," Cancelar ",8,B9),c("button",{type:"button",onClick:e[18]||(e[18]=(...f)=>i.handleSubmit&&i.handleSubmit(...f)),class:"btn btn-primary",disabled:s.loading||!i.isFormValid},[s.loading?(p(),q(d,{key:0,size:"18",class:"btn-icon animate-spin"})):(p(),q(u,{key:1,size:"18",class:"btn-icon"})),V(" "+S(i.isEditing?"Actualizar":"Guardar"),1)],8,U9)])])])}const H9=de(X7,[["render",j9],["__scopeId","data-v-442ccf27"]]),q9={name:"ContratosTab",components:{PermissionCheck:Zo,ContratoModal:H9,PlusIcon:Ps,EyeIcon:Ko,EditIcon:Tt,DownloadIcon:Za,Trash2Icon:Rt,Loader:At,FileTextIcon:Xt,ChevronLeftIcon:Xa,ChevronRightIcon:Pn,X:Xe,AlertTriangleIcon:Ot,CalendarIcon:li,CalendarCheckIcon:MT,BuildingIcon:Uh,BookOpenIcon:TT},props:{contratos:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},idEmpleado:{type:[Number,String],required:!0}},emits:["refresh"],setup(){const t=lm(),e=vm(),s=ym(),o=Ki(),n=_m(),{empleadoInfo:i,pagination:r}=Wa(t);return{contratosStore:t,tiposContratoStore:e,empresasStore:s,conveniosStore:o,categoriasConvenioStore:n,empleadoInfo:i,paginationInfo:r}},data(){return{showModal:!1,showConfirmDialog:!1,showViewerModal:!1,contratoSeleccionado:null,loadingAction:!1,validationErrors:{},tiposContrato:[],empresas:[],convenios:[],categorias:{},selectedConvenioId:null,estadisticas:null}},computed:{categoriasFiltradas(){return this.selectedConvenioId?this.categorias[this.selectedConvenioId]||[]:[]}},mounted(){this.initializeData()},watch:{contratos:{handler(){this.calcularEstadisticas()},deep:!0,immediate:!0}},methods:{async initializeData(){await this.cargarEntidadesFaltantes(),this.calcularEstadisticas()},calcularEstadisticas(){var s;if(!((s=this.contratos)!=null&&s.length)){this.estadisticas=null;return}const t=this.contratos.length,e=this.contratos.find(o=>o.fecha_fin===null||new Date(o.fecha_fin)>=new Date);this.estadisticas={total:t,vigente:!!e,contratoVigente:e}},openModal(){console.log("Opening modal for new contract"),this.contratoSeleccionado=null,this.validationErrors={},this.selectedConvenioId=null,this.showModal=!0},closeModal(){console.log("Closing modal"),this.showModal=!1,this.contratoSeleccionado=null,this.validationErrors={},this.selectedConvenioId=null},viewContrato(t){this.contratoSeleccionado=t,this.showViewerModal=!0},closeViewerModal(){this.showViewerModal=!1,this.contratoSeleccionado=null},editContrato(t){console.log("Editing contract:",t),this.contratoSeleccionado={...t},this.selectedConvenioId=t.id_convenio,this.validationErrors={},this.showViewerModal&&(this.showViewerModal=!1),t.id_convenio&&!this.categorias[t.id_convenio]&&this.loadCategoriasForConvenio(t.id_convenio),this.showModal=!0},handleValidationError({type:t,message:e}){console.log("Validation error:",t,e),this.validationErrors={...this.validationErrors,[t]:e}},handleConvenioChange(t){console.log("Convenio changed:",t),this.selectedConvenioId=t,t&&this.loadCategoriasForConvenio(t)},async loadCategoriasForConvenio(t){if(!(!t||this.categorias[t]))try{const e=await this.categoriasConvenioStore.fetchCategoriasByConvenio(t);this.categorias={...this.categorias,[t]:e}}catch(e){console.error("Error loading categories:",e)}},async saveContrato(t){var e,s;console.log("saveContrato called with:",t),this.loadingAction=!0,this.validationErrors={};try{if(!t.get("id_empleado"))throw console.error("Missing id_empleado in form data"),new Error("El ID del empleado es requerido");console.log("ID Empleado:",t.get("id_empleado")),console.log("Is editing:",!!((e=this.contratoSeleccionado)!=null&&e.id_contrato));let o;(s=this.contratoSeleccionado)!=null&&s.id_contrato?(console.log("Updating contract:",this.contratoSeleccionado.id_contrato),o=await this.contratosStore.updateContrato(this.contratoSeleccionado.id_contrato,t)):(console.log("Creating new contract"),o=await this.contratosStore.createContrato(t)),console.log("Contract operation result:",o),o&&(this.closeModal(),this.$emit("refresh"),console.log("Contract saved successfully"))}catch(o){console.error("Error saving contract:",o),this.handleSaveError(o)}finally{this.loadingAction=!1}},handleSaveError(t){var e,s,o,n,i,r,a;if(console.log("Handling save error:",t),(o=(s=(e=t.response)==null?void 0:e.data)==null?void 0:s.data)!=null&&o.errors){const l={};t.response.data.data.errors.forEach(d=>{l[d.field]=d.message}),this.validationErrors=l}else(i=(n=t.response)==null?void 0:n.data)!=null&&i.errors?this.validationErrors=t.response.data.errors:this.validationErrors={general:((a=(r=t.response)==null?void 0:r.data)==null?void 0:a.message)||t.message||"Error al guardar el contrato"};console.log("Validation errors set:",this.validationErrors)},confirmDelete(t){this.contratoSeleccionado=t,this.showConfirmDialog=!0},async deleteContrato(){if(this.contratoSeleccionado){this.loadingAction=!0;try{await this.contratosStore.deleteContrato(this.contratoSeleccionado.id_contrato),this.showConfirmDialog=!1,this.contratoSeleccionado=null,this.$emit("refresh")}catch(t){console.error("Error deleting contract:",t)}finally{this.loadingAction=!1}}},async downloadDocumento(t){try{await this.contratosStore.downloadContrato(t)}catch(e){console.error("Error downloading document:",e)}},async previewDocumento(t){try{await this.contratosStore.previewContrato(t)}catch(e){console.error("Error previewing document:",e)}},isContratoVigente(t){return t.fecha_fin===null||new Date(t.fecha_fin)>=new Date},formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return t}},formatFileSize(t){if(!t)return"Desconocido";const e=["B","KB","MB","GB"];let s=t,o=0;for(;s>=1024&&o<e.length-1;)s/=1024,o++;return`${s.toFixed(2)} ${e[o]}`},async cargarEntidadesFaltantes(){try{const t=[];this.tiposContrato.length||t.push(this.tiposContratoStore.fetchTiposContrato().then(s=>{this.tiposContrato=s||[],console.log("Tipos contrato loaded:",this.tiposContrato.length)})),this.empresas.length||t.push(this.empresasStore.fetchEmpresas().then(s=>{this.empresas=s||[],console.log("Empresas loaded:",this.empresas.length)})),this.convenios.length||t.push(this.conveniosStore.fetchConvenios().then(s=>{this.convenios=s||[],console.log("Convenios loaded:",this.convenios.length)})),await Promise.all(t);const e=[...new Set(this.contratos.filter(s=>s.id_convenio).map(s=>s.id_convenio))];for(const s of e)this.categorias[s]||await this.loadCategoriasForConvenio(s);console.log("All entities loaded successfully")}catch(t){console.error("Error loading entities:",t)}},cambiarPagina(t){t>=1&&t<=this.paginationInfo.totalPages&&this.$emit("refresh",{page:t})}}},W9={class:"tab-panel"},K9={class:"card"},G9={class:"card-header"},X9={class:"card-header-content"},Z9={key:0,class:"statistics"},Y9={key:0,class:"status-active"},J9={key:1,class:"status-warning"},Q9={class:"action-buttons"},ej=["disabled"],tj={class:"card-body"},sj={key:0,class:"loading-container"},oj={key:1,class:"empty-state"},nj={key:2,class:"contratos-list"},ij={class:"contrato-header"},rj={class:"contrato-title"},aj={class:"contrato-actions"},lj=["onClick"],cj=["onClick"],dj=["onClick"],uj=["onClick"],fj={class:"contrato-info"},hj={class:"contrato-info-item"},mj={class:"contrato-info-item"},pj={class:"contrato-info-item"},gj={key:0,class:"contrato-info-item"},bj={key:0},vj={key:3,class:"pagination"},yj={class:"pagination-info"},_j={class:"pagination-controls"},Ej=["disabled"],wj=["disabled"],Cj={key:1,class:"modal-overlay"},Sj={class:"modal-container confirm-modal"},xj={class:"modal-header"},kj={class:"modal-body"},Dj={class:"modal-footer"},Aj=["disabled"],Tj={key:2,class:"modal-overlay"},Mj={class:"modal-container viewer-modal"},Pj={class:"modal-header"},Ij={class:"modal-body"},Fj={key:0,class:"detail-content"},Rj={class:"detail-section"},Oj={class:"detail-grid"},Nj={class:"detail-item"},Lj={class:"detail-value"},zj={class:"detail-item"},$j={class:"detail-value"},Vj={class:"detail-item"},Bj={class:"detail-value"},Uj={class:"detail-item"},jj={class:"detail-value"},Hj={class:"detail-section"},qj={class:"detail-grid"},Wj={class:"detail-item"},Kj={class:"detail-value"},Gj={class:"detail-item"},Xj={class:"detail-value"},Zj={class:"detail-item"},Yj={class:"detail-value"},Jj={class:"detail-item"},Qj={class:"detail-value"},eH={key:0,class:"detail-section"},tH={class:"detail-grid"},sH={class:"detail-item"},oH={class:"detail-value"},nH={key:0,class:"detail-item"},iH={class:"detail-value"},rH={key:1,class:"detail-section"},aH={class:"detail-text"},lH={key:2,class:"detail-section"},cH={class:"document-item"},dH={class:"document-info"},uH={class:"document-name"},fH={class:"document-size"},hH={class:"document-actions"},mH={class:"modal-footer"};function pH(t,e,s,o,n,i){var O,P,M,F,L,N;const r=C("PlusIcon"),a=C("permission-check"),l=C("Loader"),d=C("FileTextIcon"),u=C("EyeIcon"),f=C("EditIcon"),h=C("DownloadIcon"),m=C("Trash2Icon"),g=C("BuildingIcon"),b=C("CalendarIcon"),v=C("CalendarCheckIcon"),w=C("BookOpenIcon"),E=C("ChevronLeftIcon"),_=C("ChevronRightIcon"),D=C("ContratoModal"),k=C("X"),T=C("AlertTriangleIcon");return p(),y("div",W9,[c("div",K9,[c("div",G9,[c("div",X9,[c("div",null,[e[11]||(e[11]=c("h2",{class:"section-title"},"Contratos",-1)),n.estadisticas?(p(),y("div",Z9,[c("p",null,"Total: "+S(n.estadisticas.total)+" contrato(s)",1),n.estadisticas.vigente?(p(),y("p",Y9," Contrato vigente: "+S((P=(O=n.estadisticas.contratoVigente)==null?void 0:O.TipoContrato)==null?void 0:P.nombre),1)):(p(),y("p",J9,"Sin contrato vigente"))])):I("",!0)]),c("div",Q9,[x(a,{permiso:{nombre:"Contratos",tipo:"Escritura"}},{default:Ee(()=>[c("button",{onClick:e[0]||(e[0]=(...z)=>i.openModal&&i.openModal(...z)),class:"btn btn-primary",disabled:s.loading},[x(r,{size:"18",class:"btn-icon"}),e[12]||(e[12]=V(" Nuevo Contrato "))],8,ej)]),_:1})])])]),c("div",tj,[s.loading?(p(),y("div",sj,[x(l,{size:"32",class:"animate-spin"}),e[13]||(e[13]=c("p",null,"Cargando contratos...",-1))])):!s.contratos||s.contratos.length===0?(p(),y("div",oj,[x(d,{size:"48",class:"empty-icon"}),e[14]||(e[14]=c("h3",null,"Sin contratos registrados",-1)),e[15]||(e[15]=c("p",null,"Este empleado no tiene contratos registrados.",-1))])):(p(),y("div",nj,[(p(!0),y(he,null,De(s.contratos,z=>{var G,te;return p(),y("div",{key:z.id_contrato,class:"contrato-item"},[c("div",ij,[c("div",rj,[c("h3",null,S(((G=z.TipoContrato)==null?void 0:G.nombre)||"N/A"),1),c("span",{class:j(["contrato-badge",i.isContratoVigente(z)?"badge-success":"badge-inactive"])},S(i.isContratoVigente(z)?"Vigente":"Finalizado"),3)]),c("div",aj,[c("button",{onClick:Z=>i.viewContrato(z),class:"btn-icon-only",title:"Ver detalles"},[x(u,{size:"16"})],8,lj),x(a,{permiso:{nombre:"Contratos",tipo:"Escritura"}},{default:Ee(()=>[c("button",{onClick:Z=>i.editContrato(z),class:"btn-icon-only",title:"Editar"},[x(f,{size:"16"})],8,cj)]),_:2},1024),z.ruta_archivo?(p(),y("button",{key:0,onClick:Z=>i.downloadDocumento(z.id_contrato),class:"btn-icon-only",title:"Descargar"},[x(h,{size:"16"})],8,dj)):I("",!0),x(a,{permiso:{nombre:"Contratos",tipo:"Escritura"}},{default:Ee(()=>[c("button",{onClick:Z=>i.confirmDelete(z),class:"btn-icon-only btn-danger",title:"Eliminar"},[x(m,{size:"16"})],8,uj)]),_:2},1024)])]),c("div",fj,[c("div",hj,[x(g,{size:"14"}),c("span",null,S(((te=z.Empresa)==null?void 0:te.nombre)||"N/A"),1)]),c("div",mj,[x(b,{size:"14"}),c("span",null,"Inicio: "+S(i.formatDate(z.fecha_inicio)),1)]),c("div",pj,[x(v,{size:"14"}),c("span",null,"Fin: "+S(z.fecha_fin?i.formatDate(z.fecha_fin):"Indefinido"),1)]),z.Convenio?(p(),y("div",gj,[x(w,{size:"14"}),c("span",null,S(z.Convenio.nombre),1),z.CategoriaConvenio?(p(),y("span",bj,"("+S(z.CategoriaConvenio.nombre)+")",1)):I("",!0)])):I("",!0)])])}),128))])),o.paginationInfo&&o.paginationInfo.totalPages>1?(p(),y("div",vj,[c("div",yj," Mostrando "+S(o.paginationInfo.page)+" de "+S(o.paginationInfo.totalPages)+" páginas ",1),c("div",_j,[c("button",{onClick:e[1]||(e[1]=z=>i.cambiarPagina(o.paginationInfo.page-1)),class:"btn-icon-only",disabled:o.paginationInfo.page<=1||s.loading},[x(E,{size:"16"})],8,Ej),c("button",{onClick:e[2]||(e[2]=z=>i.cambiarPagina(o.paginationInfo.page+1)),class:"btn-icon-only",disabled:o.paginationInfo.page>=o.paginationInfo.totalPages||s.loading},[x(_,{size:"16"})],8,wj)])])):I("",!0)])]),n.showModal?(p(),q(D,{key:0,contrato:n.contratoSeleccionado,"id-empleado":s.idEmpleado,loading:n.loadingAction,"validation-errors":n.validationErrors,"tipos-contrato":n.tiposContrato,empresas:n.empresas,convenios:n.convenios,categorias:i.categoriasFiltradas,onClose:i.closeModal,onSave:i.saveContrato,onValidationError:i.handleValidationError,onConvenioChange:i.handleConvenioChange},null,8,["contrato","id-empleado","loading","validation-errors","tipos-contrato","empresas","convenios","categorias","onClose","onSave","onValidationError","onConvenioChange"])):I("",!0),n.showConfirmDialog?(p(),y("div",Cj,[c("div",Sj,[c("div",xj,[e[16]||(e[16]=c("h3",null,"Eliminar Contrato",-1)),c("button",{onClick:e[3]||(e[3]=z=>n.showConfirmDialog=!1),class:"btn-close"},[x(k,{size:"18"})])]),c("div",kj,[x(T,{size:"32",class:"confirm-icon"}),e[17]||(e[17]=c("p",null,"¿Está seguro de que desea eliminar este contrato?",-1)),e[18]||(e[18]=c("p",{class:"confirm-warning"},"Esta acción no se puede deshacer.",-1))]),c("div",Dj,[c("button",{onClick:e[4]||(e[4]=z=>n.showConfirmDialog=!1),class:"btn btn-secondary"}," Cancelar "),c("button",{onClick:e[5]||(e[5]=(...z)=>i.deleteContrato&&i.deleteContrato(...z)),class:"btn btn-danger",disabled:n.loadingAction},[n.loadingAction?(p(),q(l,{key:0,size:"18",class:"btn-icon animate-spin"})):(p(),q(m,{key:1,size:"18",class:"btn-icon"})),e[19]||(e[19]=V(" Eliminar "))],8,Aj)])])])):I("",!0),n.showViewerModal?(p(),y("div",Tj,[c("div",Mj,[c("div",Pj,[e[20]||(e[20]=c("h3",null,"Detalles del Contrato",-1)),c("button",{onClick:e[6]||(e[6]=(...z)=>i.closeViewerModal&&i.closeViewerModal(...z)),class:"btn-close"},[x(k,{size:"18"})])]),c("div",Ij,[n.contratoSeleccionado?(p(),y("div",Fj,[c("div",Rj,[e[25]||(e[25]=c("h4",{class:"detail-section-title"},"Información General",-1)),c("div",Oj,[c("div",Nj,[e[21]||(e[21]=c("h5",{class:"detail-label"},"Empleado",-1)),c("p",Lj,S((M=o.empleadoInfo)==null?void 0:M.nombre)+" "+S((F=o.empleadoInfo)==null?void 0:F.apellidos),1)]),c("div",zj,[e[22]||(e[22]=c("h5",{class:"detail-label"},"Tipo de Contrato",-1)),c("p",$j,S(((L=n.contratoSeleccionado.TipoContrato)==null?void 0:L.nombre)||"N/A"),1)]),c("div",Vj,[e[23]||(e[23]=c("h5",{class:"detail-label"},"Empresa",-1)),c("p",Bj,S(((N=n.contratoSeleccionado.Empresa)==null?void 0:N.nombre)||"N/A"),1)]),c("div",Uj,[e[24]||(e[24]=c("h5",{class:"detail-label"},"Estado",-1)),c("p",jj,[c("span",{class:j(["contrato-badge",i.isContratoVigente(n.contratoSeleccionado)?"badge-success":"badge-inactive"])},S(i.isContratoVigente(n.contratoSeleccionado)?"Vigente":"Finalizado"),3)])])])]),c("div",Hj,[e[30]||(e[30]=c("h4",{class:"detail-section-title"},"Fechas",-1)),c("div",qj,[c("div",Wj,[e[26]||(e[26]=c("h5",{class:"detail-label"},"Fecha de Inicio",-1)),c("p",Kj,S(i.formatDate(n.contratoSeleccionado.fecha_inicio)),1)]),c("div",Gj,[e[27]||(e[27]=c("h5",{class:"detail-label"},"Fecha de Fin",-1)),c("p",Xj,S(n.contratoSeleccionado.fecha_fin?i.formatDate(n.contratoSeleccionado.fecha_fin):"Indefinido"),1)]),c("div",Zj,[e[28]||(e[28]=c("h5",{class:"detail-label"},"Fin Periodo de Prueba",-1)),c("p",Yj,S(n.contratoSeleccionado.fin_periodo_prueba?i.formatDate(n.contratoSeleccionado.fin_periodo_prueba):"N/A"),1)]),c("div",Jj,[e[29]||(e[29]=c("h5",{class:"detail-label"},"Antigüedad",-1)),c("p",Qj,S(n.contratoSeleccionado.antiguedad_contrato||0)+" días",1)])])]),n.contratoSeleccionado.Convenio?(p(),y("div",eH,[e[33]||(e[33]=c("h4",{class:"detail-section-title"},"Información del Convenio",-1)),c("div",tH,[c("div",sH,[e[31]||(e[31]=c("h5",{class:"detail-label"},"Convenio",-1)),c("p",oH,S(n.contratoSeleccionado.Convenio.nombre),1)]),n.contratoSeleccionado.CategoriaConvenio?(p(),y("div",nH,[e[32]||(e[32]=c("h5",{class:"detail-label"},"Categoría",-1)),c("p",iH,S(n.contratoSeleccionado.CategoriaConvenio.nombre),1)])):I("",!0)])])):I("",!0),n.contratoSeleccionado.observaciones?(p(),y("div",rH,[e[34]||(e[34]=c("h4",{class:"detail-section-title"},"Observaciones",-1)),c("p",aH,S(n.contratoSeleccionado.observaciones),1)])):I("",!0),n.contratoSeleccionado.ruta_archivo?(p(),y("div",lH,[e[37]||(e[37]=c("h4",{class:"detail-section-title"},"Documento Adjunto",-1)),c("div",cH,[x(d,{size:"24",class:"document-icon"}),c("div",dH,[c("p",uH,S(n.contratoSeleccionado.nombre_original||"Documento de contrato"),1),c("p",fH,S(i.formatFileSize(n.contratoSeleccionado.tamano)),1)]),c("div",hH,[c("button",{onClick:e[7]||(e[7]=z=>i.downloadDocumento(n.contratoSeleccionado.id_contrato)),class:"btn btn-sm btn-primary"},[x(h,{size:"14",class:"btn-icon"}),e[35]||(e[35]=V(" Descargar "))]),c("button",{onClick:e[8]||(e[8]=z=>i.previewDocumento(n.contratoSeleccionado.id_contrato)),class:"btn btn-sm btn-secondary"},[x(u,{size:"14",class:"btn-icon"}),e[36]||(e[36]=V(" Previsualizar "))])])])])):I("",!0)])):I("",!0)]),c("div",mH,[x(a,{permiso:{nombre:"Contratos",tipo:"Escritura"}},{default:Ee(()=>[c("button",{onClick:e[9]||(e[9]=z=>i.editContrato(n.contratoSeleccionado)),class:"btn btn-primary"},[x(f,{size:"18",class:"btn-icon"}),e[38]||(e[38]=V(" Editar "))])]),_:1}),c("button",{onClick:e[10]||(e[10]=(...z)=>i.closeViewerModal&&i.closeViewerModal(...z)),class:"btn btn-secondary"}," Cerrar ")])])])):I("",!0)])}const gH=de(q9,[["render",pH],["__scopeId","data-v-8c276d40"]]),bH={name:"FormacionModal",components:{X:Xe,Save:wo,Loader:At},props:{value:{type:Object,default:()=>({nombre:"",es_interna:!1,fecha_inicio:"",fecha_fin:""})},loading:{type:Boolean,default:!1}},emits:["close","save"],data(){return{formacion:{...this.value},validationErrors:{},today:new Date().toISOString().split("T")[0]}},computed:{isFormValid(){return this.formacion.nombre&&this.formacion.fecha_inicio&&Object.keys(this.validationErrors).length===0}},watch:{value:{handler(t){this.formacion={...t},this.validationErrors={}},deep:!0},"formacion.fecha_inicio"(){this.formacion.fecha_fin&&this.formacion.fecha_inicio>this.formacion.fecha_fin&&(this.formacion.fecha_fin="")}},methods:{async validateField(t){const e=await R6(t,this.formacion[t],this.formacion,!!this.formacion.id_formacion);e.isValid?delete this.validationErrors[t]:this.validationErrors[t]=e.error,this.$forceUpdate()},async handleSave(){const t=await Of(this.formacion,!!this.formacion.id_formacion);if(!t.isValid){this.validationErrors=t.errors;return}this.validationErrors={},this.$emit("save",this.formacion)}}},vH={class:"modal-overlay"},yH={class:"modal-container"},_H={class:"modal-header"},EH={class:"modal-body"},wH={class:"form-group"},CH={key:0,class:"invalid-feedback"},SH={class:"form-group"},xH={class:"toggle-container"},kH={class:"toggle"},DH={class:"form-group"},AH=["max"],TH={key:0,class:"invalid-feedback"},MH={class:"form-group"},PH=["min","max"],IH={key:0,class:"invalid-feedback"},FH={class:"modal-footer"},RH=["disabled"];function OH(t,e,s,o,n,i){const r=C("X"),a=C("Loader"),l=C("Save");return p(),y("div",vH,[c("div",yH,[c("div",_H,[c("h3",null,S(n.formacion.id_formacion?"Editar Formación":"Nueva Formación"),1),c("button",{onClick:e[0]||(e[0]=d=>t.$emit("close")),class:"btn-close"},[x(r,{size:"18"})])]),c("div",EH,[c("div",wH,[e[10]||(e[10]=c("label",null,"Nombre de la Formación *",-1)),se(c("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>n.formacion.nombre=d),type:"text",class:j(["form-control",{"is-invalid":n.validationErrors.nombre}]),onBlur:e[2]||(e[2]=d=>i.validateField("nombre"))},null,34),[[fe,n.formacion.nombre]]),n.validationErrors.nombre?(p(),y("div",CH,S(n.validationErrors.nombre),1)):I("",!0)]),c("div",SH,[e[12]||(e[12]=c("label",null,"Tipo de Formación",-1)),c("div",xH,[c("label",kH,[se(c("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=d=>n.formacion.es_interna=d)},null,512),[[Sn,n.formacion.es_interna]]),e[11]||(e[11]=c("span",{class:"toggle-slider"},null,-1))]),c("span",null,S(n.formacion.es_interna?"Interna":"Externa"),1)])]),c("div",DH,[e[13]||(e[13]=c("label",null,"Fecha de Inicio *",-1)),se(c("input",{"onUpdate:modelValue":e[4]||(e[4]=d=>n.formacion.fecha_inicio=d),type:"date",class:j(["form-control",{"is-invalid":n.validationErrors.fecha_inicio}]),max:n.today,onBlur:e[5]||(e[5]=d=>i.validateField("fecha_inicio"))},null,42,AH),[[fe,n.formacion.fecha_inicio]]),n.validationErrors.fecha_inicio?(p(),y("div",TH,S(n.validationErrors.fecha_inicio),1)):I("",!0),e[14]||(e[14]=c("small",{class:"form-text text-muted"},"La fecha no puede ser futura",-1))]),c("div",MH,[e[15]||(e[15]=c("label",null,"Fecha de Fin",-1)),se(c("input",{"onUpdate:modelValue":e[6]||(e[6]=d=>n.formacion.fecha_fin=d),type:"date",class:j(["form-control",{"is-invalid":n.validationErrors.fecha_fin}]),min:n.formacion.fecha_inicio,max:n.today,onBlur:e[7]||(e[7]=d=>i.validateField("fecha_fin"))},null,42,PH),[[fe,n.formacion.fecha_fin]]),n.validationErrors.fecha_fin?(p(),y("div",IH,S(n.validationErrors.fecha_fin),1)):I("",!0),e[16]||(e[16]=c("small",{class:"form-text text-muted"},"Debe ser posterior a la fecha de inicio y no puede ser futura",-1))])]),c("div",FH,[c("button",{onClick:e[8]||(e[8]=d=>t.$emit("close")),class:"btn btn-secondary"}," Cancelar "),c("button",{onClick:e[9]||(e[9]=(...d)=>i.handleSave&&i.handleSave(...d)),class:"btn btn-primary",disabled:s.loading||!i.isFormValid},[s.loading?(p(),q(a,{key:0,size:"18",class:"btn-icon animate-spin"})):(p(),q(l,{key:1,size:"18",class:"btn-icon"})),e[17]||(e[17]=V(" Guardar "))],8,RH)])])])}const NH=de(bH,[["render",OH],["__scopeId","data-v-6f0a54a2"]]),LH={name:"EmpleadoDetalle",components:{DefaultLayout:Yt,LoadingSpinner:rs,DocumentosEmpleado:NV,ModalDetallesDocumento:yB,EmpleadoHeader:DB,EmpleadoTabs:IB,DatosPersonalesTab:cU,InformacionLaboralTab:IU,FormacionTab:QU,AusenciasTab:G7,ContratosTab:gH,FormacionModal:NH,AusenciaModal:yE,AlertTriangle:Ot,Trash2:Rt,X:Xe,Loader:At,Download:Za,FileText:Xt},props:{id:{type:[String,Number],required:!1}},data(){return{empleadosStore:Fd(),documentosStore:gE(),authStore:ns(),notificationStore:X(),departamentosStore:Rd(),centrosStore:Dn(),formacionesStore:O6(),ausenciasStore:N6(),tiposAusenciaStore:vE(),contratosStore:lm(),tiposContratoStore:vm(),empresasStore:ym(),conveniosStore:Ki(),categoriasConvenioStore:_m(),activeTab:"personal",showDeleteModal:!1,editMode:!1,validationErrors:{},originalEmpleado:null,selectedCentroId:null,showDocumentModal:!1,documentoSeleccionado:null,documentoPreview:null,urlPreview:null,cargandoPreview:!1,errorPreview:null,showFormacionModal:!1,formacionForm:{nombre:"",es_interna:!1,fecha_inicio:"",fecha_fin:""},formacionValidationErrors:{},savingFormacion:!1,showDeleteFormacionModal:!1,formacionToDelete:null,deletingFormacion:!1,showAusenciaModal:!1,ausenciaForm:{id_tipo_ausencia:null,fecha_inicio:"",fecha_fin:"",id_empleado:null},ausenciaValidationErrors:{},savingAusencia:!1,showDeleteAusenciaModal:!1,ausenciaToDelete:null,deletingAusencia:!1,tipoAusenciaEnCarga:{}}},computed:{empleado(){return this.empleadosStore.currentEmpleado},empleadoId(){return this.id||this.$route.params.id},canEdit(){return this.authStore.hasPermission({nombre:"Empleados",tipo:"Escritura"})},canViewDocuments(){return this.authStore.hasPermission({nombre:"Documentos",tipo:"Lectura"})},canEditDocuments(){return this.authStore.hasPermission({nombre:"Documentos",tipo:"Escritura"})},canViewFormacion(){return this.authStore.hasPermission({nombre:"Empleados",tipo:"Lectura"})},canEditFormacion(){return this.authStore.hasPermission({nombre:"Empleados",tipo:"Escritura"})},canViewAusencias(){return this.authStore.hasPermission({nombre:"Ausencias",tipo:"Lectura"})},canEditAusencias(){return this.authStore.hasPermission({nombre:"Ausencias",tipo:"Escritura"})},canViewContratos(){return this.authStore.hasPermission({nombre:"Contratos",tipo:"Lectura"})},canEditContratos(){return this.authStore.hasPermission({nombre:"Contratos",tipo:"Escritura"})},esPDF(){var e;return this.documentoPreview?this.documentoPreview.mimetype==="application/pdf"?!0:(((e=this.documentoPreview.nombre_original)==null?void 0:e.toLowerCase())||"").endsWith(".pdf"):!1},esImagen(){var s;if(!this.documentoPreview)return!1;const t=["image/jpeg","image/png","image/gif","image/jpg","image/webp"];if(this.documentoPreview.mimetype&&t.includes(this.documentoPreview.mimetype))return!0;const e=((s=this.documentoPreview.nombre_original)==null?void 0:s.toLowerCase())||"";return/\.(jpg|jpeg|png|gif|bmp|webp)$/.test(e)}},watch:{empleadoId:{handler(){this.loadEmpleado(),this.initializeTabData()},immediate:!0},activeTab(t){this.loadTabData(t)}},async created(){await this.initializeStores()},methods:{async initializeStores(){try{await Promise.all([this.departamentosStore.fetchDepartamentos(),this.centrosStore.fetchCentros()]),this.canViewAusencias&&await this.loadTiposAusencia(),this.canViewContratos&&await Promise.all([this.loadTiposContrato(),this.loadEmpresas(),this.loadConvenios()])}catch{}},initializeTabData(){this.canViewFormacion&&this.loadFormaciones(),this.canViewAusencias&&this.loadAusencias(),this.canViewContratos&&this.loadContratos()},loadTabData(t){switch(t){case"formacion":this.canViewFormacion&&this.loadFormaciones();break;case"ausencias":this.canViewAusencias&&this.loadAusencias();break;case"contratos":this.canViewContratos&&this.loadContratos();break}},async loadEmpleado(){if(this.empleadoId)try{await this.empleadosStore.fetchEmpleadoById(this.empleadoId),this.empleadosStore.currentEmpleado&&(this.originalEmpleado=JSON.parse(JSON.stringify(this.empleadosStore.currentEmpleado)),this.selectedCentroId=this.empleadosStore.currentEmpleado.id_centro)}catch{}},handleCentroChange(t){if(this.selectedCentroId=t,this.empleadosStore.currentEmpleado.id_departamento){const e=this.departamentosStore.departamentos.find(s=>s.id_departamento===this.empleadosStore.currentEmpleado.id_departamento);e&&e.id_centro!==this.selectedCentroId&&(this.empleadosStore.currentEmpleado.id_departamento=null)}},goBack(){this.$router.push("/empleados")},cancelEdit(){this.originalEmpleado&&(this.empleadosStore.currentEmpleado=JSON.parse(JSON.stringify(this.originalEmpleado)),this.selectedCentroId=this.empleadosStore.currentEmpleado.id_centro),this.editMode=!1,this.validationErrors={}},async saveEmpleado(){try{const{isValid:t,errors:e}=await Rf(this.empleadosStore.currentEmpleado);if(!t){this.validationErrors=e;const o=Object.values(e)[0];this.notificationStore.error(o,"Error de validación");return}this.validationErrors={};const s=await this.empleadosStore.updateEmpleado(this.empleadoId,this.empleadosStore.currentEmpleado);s&&(this.originalEmpleado=JSON.parse(JSON.stringify(s)),this.editMode=!1,this.notificationStore.success(`¡Empleado modificado correctamente! Los datos de ${s.nombre} ${s.apellidos} han sido actualizados.`,"Empleado actualizado"))}catch(t){this.notificationStore.error(t.message||"Ha ocurrido un error al guardar los cambios. Por favor, inténtelo de nuevo.","Error al actualizar")}},mostrarDetallesDocumento(t){this.documentoSeleccionado=t,this.showDocumentModal=!0},cerrarModalDocumento(){this.showDocumentModal=!1,this.documentoSeleccionado=null},editarDocumento(t){this.cerrarModalDocumento()},async previsualizarDocumento(t){if(!this.canViewDocuments){this.notificationStore.error("No tiene permisos para ver documentos","Error de permisos");return}if(t){this.documentoPreview=t,this.cargandoPreview=!0,this.errorPreview=null,this.urlPreview=null;try{const e=await this.documentosStore.previewDocumento(t.id_documento);if(!e)throw new Error("No se pudo generar la URL de previsualización");this.urlPreview=e}catch(e){let s=e.message||"No se pudo cargar la vista previa del documento";if(e.response){const o=e.response.status;o===404?s="El documento solicitado no existe o no está disponible":o===403?s="No tiene permisos para ver este documento":s=`Error del servidor (${o}): ${e.response.statusText}`}this.errorPreview=s,this.notificationStore.warning(this.errorPreview,"Error de previsualización")}finally{this.cargandoPreview=!1}}},cerrarPreview(){this.urlPreview&&URL.revokeObjectURL(this.urlPreview),this.documentoPreview=null,this.urlPreview=null,this.errorPreview=null},async descargarDocumento(t){if(!this.canViewDocuments){this.notificationStore.error("No tiene permisos para descargar documentos","Error de permisos");return}if(t)try{await this.documentosStore.downloadDocumento(t.id_documento)}catch(e){this.notificationStore.error(e.message||"Ha ocurrido un error al descargar el documento","Error al descargar")}},async confirmDeleteEmpleado(){try{await this.empleadosStore.deleteEmpleado(this.empleadoId)?(this.showDeleteModal=!1,this.notificationStore.success("El empleado ha sido eliminado correctamente.","Empleado eliminado"),this.$router.push("/empleados")):this.notificationStore.error("Ha ocurrido un error al eliminar el empleado. Por favor, inténtelo de nuevo.","Error al eliminar")}catch(t){this.notificationStore.error(t.message||"Ha ocurrido un error al eliminar el empleado. Por favor, inténtelo de nuevo.","Error al eliminar")}},async toggleEmpleadoStatus(){try{const t=!this.empleadosStore.currentEmpleado.activo;await this.empleadosStore.changeEmpleadoStatus(this.empleadoId,t)?(this.empleadosStore.currentEmpleado.activo=t,this.originalEmpleado=JSON.parse(JSON.stringify(this.empleadosStore.currentEmpleado)),this.notificationStore.success(`El empleado ha sido ${t?"activado":"desactivado"} correctamente.`,`Empleado ${t?"activado":"desactivado"}`)):this.notificationStore.error(`Ha ocurrido un error al ${t?"activar":"desactivar"} el empleado. Por favor, inténtelo de nuevo.`,"Error al cambiar estado")}catch(t){this.notificationStore.error(t.message||"Ha ocurrido un error al cambiar el estado del empleado. Por favor, inténtelo de nuevo.","Error al cambiar estado")}},async loadFormaciones(){if(!(!this.empleadoId||!this.canViewFormacion))try{await this.formacionesStore.fetchFormacionesByEmpleado(this.empleadoId)}catch{}},closeFormacionModal(){this.showFormacionModal=!1,this.formacionForm={nombre:"",es_interna:!1,fecha_inicio:"",fecha_fin:""},this.formacionValidationErrors={}},editFormacion(t){this.formacionForm={id_formacion:t.id_formacion,nombre:t.nombre,es_interna:t.es_interna,fecha_inicio:t.fecha_inicio,fecha_fin:t.fecha_fin||""},this.showFormacionModal=!0},async saveFormacion(t){var e,s;if(!this.canEditFormacion){this.notificationStore.error("No tiene permisos para editar formaciones","Error de permisos");return}this.savingFormacion=!0,this.formacionValidationErrors={};try{const o={...t,id_empleado:this.empleadoId};let n;o.id_formacion?n=await this.formacionesStore.updateFormacion(o.id_formacion,o):n=await this.formacionesStore.createFormacion(o),n&&(await this.loadFormaciones(),this.closeFormacionModal(),this.notificationStore.success("La formación ha sido guardada correctamente.","Formación guardada"))}catch(o){(s=(e=o.response)==null?void 0:e.data)!=null&&s.errors?this.formacionValidationErrors=o.response.data.errors:this.notificationStore.error(o.message||"Ha ocurrido un error al guardar la formación","Error")}finally{this.savingFormacion=!1}},deleteFormacion(t){this.formacionToDelete=t,this.showDeleteFormacionModal=!0},async confirmDeleteFormacion(){if(!this.canEditFormacion){this.notificationStore.error("No tiene permisos para eliminar formaciones","Error de permisos");return}this.deletingFormacion=!0;try{await this.formacionesStore.deleteFormacion(this.formacionToDelete.id_formacion)&&(await this.loadFormaciones(),this.showDeleteFormacionModal=!1,this.formacionToDelete=null,this.notificationStore.success("La formación ha sido eliminada correctamente.","Formación eliminada"))}catch(t){this.notificationStore.error(t.message||"Ha ocurrido un error al eliminar la formación","Error")}finally{this.deletingFormacion=!1}},async loadAusencias(){if(!(!this.empleadoId||!this.canViewAusencias))try{await this.ausenciasStore.fetchAusenciasByEmpleado(this.empleadoId)}catch{}},async loadTiposAusencia(){if(this.canViewAusencias)try{await this.tiposAusenciaStore.fetchTiposAusencia()}catch{}},closeAusenciaModal(){this.showAusenciaModal=!1,this.ausenciaForm={id_tipo_ausencia:null,fecha_inicio:"",fecha_fin:"",id_empleado:null},this.ausenciaValidationErrors={}},editAusencia(t){this.ausenciaForm={id_ausencia:t.id_ausencia,id_tipo_ausencia:t.id_tipo_ausencia,fecha_inicio:t.fecha_inicio,fecha_fin:t.fecha_fin,id_empleado:this.empleadoId},this.showAusenciaModal=!0},async saveAusencia(t){var e,s;if(!this.canEditAusencias){this.notificationStore.error("No tiene permisos para editar ausencias","Error de permisos");return}this.savingAusencia=!0,this.ausenciaValidationErrors={};try{const o={...t,id_empleado:this.empleadoId};let n;o.id_ausencia?n=await this.ausenciasStore.updateAusencia(o.id_ausencia,o):n=await this.ausenciasStore.createAusencia(o),n&&(await this.loadAusencias(),this.closeAusenciaModal(),this.notificationStore.success("La ausencia ha sido guardada correctamente.","Ausencia guardada"))}catch(o){(s=(e=o.response)==null?void 0:e.data)!=null&&s.errors?this.ausenciaValidationErrors=o.response.data.errors:this.notificationStore.error(o.message||"Ha ocurrido un error al guardar la ausencia","Error")}finally{this.savingAusencia=!1}},handleAusenciaValidationError(t){t.type==="solapamiento"?this.ausenciaValidationErrors={general:`Error: ${t.message}`}:t.type==="fecha"?this.ausenciaValidationErrors={fecha_fin:t.message}:this.ausenciaValidationErrors={general:t.message}},deleteAusencia(t){this.ausenciaToDelete=t,this.showDeleteAusenciaModal=!0},async confirmDeleteAusencia(){if(!this.canEditAusencias){this.notificationStore.error("No tiene permisos para eliminar ausencias","Error de permisos");return}this.deletingAusencia=!0;try{await this.ausenciasStore.deleteAusencia(this.ausenciaToDelete.id_ausencia)&&(await this.loadAusencias(),this.showDeleteAusenciaModal=!1,this.ausenciaToDelete=null,this.notificationStore.success("La ausencia ha sido eliminada correctamente.","Ausencia eliminada"))}catch(t){this.notificationStore.error(t.message||"Ha ocurrido un error al eliminar la ausencia","Error")}finally{this.deletingAusencia=!1}},getTipoAusenciaNombre(t){if(!t)return"Sin especificar";const e=parseInt(t),s=this.tiposAusenciaStore.getTipoAusenciaById(e);return s?s.nombre:(this.tipoAusenciaEnCarga[e]||(this.tipoAusenciaEnCarga[e]=!0,this.cargarTipoAusencia(e)),"Cargando...")},async cargarTipoAusencia(t){if(t)try{await this.tiposAusenciaStore.getTipoAusencia(t)}catch{}finally{this.tipoAusenciaEnCarga[t]=!1}},async loadContratos(){if(!(!this.empleadoId||!this.canViewContratos))try{await this.contratosStore.fetchContratosByEmpleado(this.empleadoId)}catch{}},async loadTiposContrato(){if(this.canViewContratos)try{await this.tiposContratoStore.fetchTiposContrato()}catch{}},async loadEmpresas(){if(this.canViewContratos)try{await this.empresasStore.fetchEmpresas()}catch{}},async loadConvenios(){if(this.canViewContratos)try{await this.conveniosStore.fetchConvenios()}catch{}},async handleContratosRefresh(t={}){try{await this.contratosStore.fetchContratosByEmpleado(this.empleadoId,t)}catch{}}}},zH={class:"empleado-detalle"},$H={key:1,class:"loading-container"},VH={key:2,class:"error-container"},BH={class:"error-message"},UH={key:3,class:"error-container"},jH={class:"error-message"},HH={key:4,class:"empleado-content"},qH={class:"tab-content"},WH={key:2,class:"tab-panel"},KH={class:"card"},GH={class:"card-body"},XH={key:6,class:"modal-overlay"},ZH={class:"modal-container"},YH={class:"modal-header"},JH={class:"modal-body"},QH={class:"modal-footer"},eq=["disabled"],tq={key:7,class:"modal-overlay"},sq={class:"modal-container modal-lg"},oq={class:"modal-header"},nq={class:"modal-header-actions"},iq={class:"modal-body preview-container"},rq={key:0,class:"preview-loading"},aq={key:1,class:"preview-error"},lq={key:0,class:"error-details"},cq=["src"],dq=["src"],uq={key:2,class:"preview-no-disponible"},fq={key:3,class:"preview-no-disponible"},hq={key:10,class:"modal-overlay"},mq={class:"modal-container"},pq={class:"modal-header"},gq={class:"modal-body"},bq={class:"modal-footer"},vq=["disabled"],yq={key:11,class:"modal-overlay"},_q={class:"modal-container"},Eq={class:"modal-header"},wq={class:"modal-body"},Cq={key:0},Sq={key:1},xq={key:2},kq={class:"modal-footer"},Dq=["disabled"];function Aq(t,e,s,o,n,i){const r=C("EmpleadoHeader"),a=C("LoadingSpinner"),l=C("AlertTriangle"),d=C("EmpleadoTabs"),u=C("DatosPersonalesTab"),f=C("InformacionLaboralTab"),h=C("DocumentosEmpleado"),m=C("FormacionTab"),g=C("AusenciasTab"),b=C("ContratosTab"),v=C("ModalDetallesDocumento"),w=C("X"),E=C("Trash2"),_=C("Loader"),D=C("Download"),k=C("FileText"),T=C("FormacionModal"),O=C("AusenciaModal"),P=C("DefaultLayout");return p(),q(P,null,{default:Ee(()=>{var M,F,L,N,z;return[c("div",zH,[i.empleado?(p(),q(r,{key:0,empleado:i.empleado,canEdit:i.canEdit,editMode:n.editMode,onEdit:e[0]||(e[0]=G=>n.editMode=!0),onSave:i.saveEmpleado,onCancel:i.cancelEdit,onDelete:e[1]||(e[1]=G=>n.showDeleteModal=!0),onToggleStatus:i.toggleEmpleadoStatus},null,8,["empleado","canEdit","editMode","onSave","onCancel","onToggleStatus"])):I("",!0),n.empleadosStore.loading?(p(),y("div",$H,[x(a,{message:"Cargando datos del empleado..."})])):n.empleadosStore.error?(p(),y("div",VH,[c("div",BH,[x(l,{size:"24"}),c("p",null,S(n.empleadosStore.error),1)]),c("button",{onClick:e[2]||(e[2]=(...G)=>i.loadEmpleado&&i.loadEmpleado(...G)),class:"btn btn-primary"}," Reintentar ")])):i.empleado?(p(),y("div",HH,[x(d,{activeTab:n.activeTab,canViewDocuments:i.canViewDocuments,canViewFormacion:i.canViewFormacion,canViewAusencias:i.canViewAusencias,canViewContratos:i.canViewContratos,onChangeTab:e[4]||(e[4]=G=>n.activeTab=G)},null,8,["activeTab","canViewDocuments","canViewFormacion","canViewAusencias","canViewContratos"]),c("div",qH,[n.activeTab==="personal"?(p(),q(u,{key:0,empleado:i.empleado,editMode:n.editMode,validationErrors:n.validationErrors},null,8,["empleado","editMode","validationErrors"])):I("",!0),n.activeTab==="laboral"?(p(),q(f,{key:1,empleado:i.empleado,editMode:n.editMode,validationErrors:n.validationErrors,centros:n.centrosStore.centros,departamentos:n.departamentosStore.departamentos,selectedCentroId:n.selectedCentroId,onCentroChange:i.handleCentroChange},null,8,["empleado","editMode","validationErrors","centros","departamentos","selectedCentroId","onCentroChange"])):I("",!0),n.activeTab==="documentos"&&i.canViewDocuments?(p(),y("div",WH,[c("div",KH,[c("div",GH,[i.empleado?(p(),q(h,{key:0,idEmpleado:i.empleadoId,onVerDetalles:i.mostrarDetallesDocumento,onPrevisualizar:i.previsualizarDocumento},null,8,["idEmpleado","onVerDetalles","onPrevisualizar"])):I("",!0)])])])):I("",!0),n.activeTab==="formacion"&&i.canViewFormacion?(p(),q(m,{key:3,formaciones:n.formacionesStore.formaciones,loading:n.formacionesStore.loading,error:n.formacionesStore.error,canEdit:i.canEditFormacion,onAddFormacion:e[5]||(e[5]=G=>n.showFormacionModal=!0),onEditFormacion:i.editFormacion,onDeleteFormacion:i.deleteFormacion,onReload:i.loadFormaciones},null,8,["formaciones","loading","error","canEdit","onEditFormacion","onDeleteFormacion","onReload"])):I("",!0),n.activeTab==="ausencias"&&i.canViewAusencias?(p(),q(g,{key:4,ausencias:n.ausenciasStore.ausencias,loading:n.ausenciasStore.loading,error:n.ausenciasStore.error,canEdit:i.canEditAusencias,id_empleado:i.empleadoId,onAddAusencia:e[6]||(e[6]=G=>n.showAusenciaModal=!0),onEditAusencia:i.editAusencia,onDeleteAusencia:i.deleteAusencia,onReload:i.loadAusencias,onSaveAusencia:i.saveAusencia},null,8,["ausencias","loading","error","canEdit","id_empleado","onEditAusencia","onDeleteAusencia","onReload","onSaveAusencia"])):I("",!0),n.activeTab==="contratos"&&i.canViewContratos?(p(),q(b,{key:5,contratos:n.contratosStore.contratos,loading:n.contratosStore.loading,"id-empleado":i.empleadoId,onRefresh:i.handleContratosRefresh},null,8,["contratos","loading","id-empleado","onRefresh"])):I("",!0)])])):(p(),y("div",UH,[c("div",jH,[x(l,{size:"24"}),e[19]||(e[19]=c("p",null,"No se encontró el empleado solicitado.",-1))]),c("button",{onClick:e[3]||(e[3]=(...G)=>i.goBack&&i.goBack(...G)),class:"btn btn-primary"}," Volver a la lista ")])),n.showDocumentModal&&n.documentoSeleccionado?(p(),q(v,{key:5,documento:n.documentoSeleccionado,onCerrar:i.cerrarModalDocumento,onDescargar:i.descargarDocumento,onPrevisualizar:i.previsualizarDocumento,onEditar:i.editarDocumento},null,8,["documento","onCerrar","onDescargar","onPrevisualizar","onEditar"])):I("",!0),n.showDeleteModal?(p(),y("div",XH,[c("div",ZH,[c("div",YH,[e[20]||(e[20]=c("h3",null,"Confirmar eliminación",-1)),c("button",{onClick:e[7]||(e[7]=G=>n.showDeleteModal=!1),class:"btn-close"},[x(w,{size:"18"})])]),c("div",JH,[c("p",null,[e[21]||(e[21]=V("¿Está seguro de que desea eliminar a ")),c("strong",null,S(i.empleado.nombre)+" "+S(i.empleado.apellidos),1),e[22]||(e[22]=V("?"))]),e[23]||(e[23]=c("p",{class:"warning-text"},[V("⚠️ "),c("strong",null,"ATENCIÓN:"),V(" Al eliminar este empleado también se eliminarán automáticamente todos sus documentos y contratos asociados.")],-1)),e[24]||(e[24]=c("p",null,"Esta acción no se puede deshacer.",-1))]),c("div",QH,[c("button",{onClick:e[8]||(e[8]=G=>n.showDeleteModal=!1),class:"btn btn-secondary"}," Cancelar "),c("button",{onClick:e[9]||(e[9]=(...G)=>i.confirmDeleteEmpleado&&i.confirmDeleteEmpleado(...G)),class:"btn btn-danger",disabled:n.empleadosStore.loading},[n.empleadosStore.loading?(p(),q(_,{key:1,size:"18",class:"btn-icon animate-spin"})):(p(),q(E,{key:0,size:"18",class:"btn-icon"})),e[25]||(e[25]=V(" Eliminar "))],8,eq)])])])):I("",!0),n.documentoPreview&&i.canViewDocuments?(p(),y("div",tq,[c("div",sq,[c("div",oq,[c("h3",null,S(n.documentoPreview.nombre_original||n.documentoPreview.nombre),1),c("div",nq,[c("button",{onClick:e[10]||(e[10]=G=>i.descargarDocumento(n.documentoPreview)),class:"btn-icon-only",title:"Descargar"},[x(D,{size:"18"})]),c("button",{onClick:e[11]||(e[11]=(...G)=>i.cerrarPreview&&i.cerrarPreview(...G)),class:"btn-close"},[x(w,{size:"18"})])])]),c("div",iq,[n.cargandoPreview?(p(),y("div",rq,[x(_,{size:"32",class:"animate-spin"}),e[26]||(e[26]=c("p",null,"Cargando vista previa...",-1))])):n.errorPreview?(p(),y("div",aq,[x(l,{size:"32"}),c("p",null,S(n.errorPreview),1),n.documentoPreview?(p(),y("p",lq," Documento: "+S(n.documentoPreview.nombre)+" ("+S(n.documentoPreview.tipo_documento)+") ",1)):I("",!0)])):n.urlPreview?(p(),y(he,{key:2},[i.esPDF?(p(),y("iframe",{key:0,src:n.urlPreview,class:"documento-preview",frameborder:"0",title:"Vista previa del documento"},null,8,cq)):i.esImagen?(p(),y("img",{key:1,src:n.urlPreview,class:"imagen-preview",alt:"Vista previa del documento"},null,8,dq)):(p(),y("div",uq,[x(k,{size:"48",class:"empty-icon"}),e[28]||(e[28]=c("p",null,"Este tipo de documento no se puede previsualizar.",-1)),e[29]||(e[29]=c("p",null,"Puede descargar el documento para verlo.",-1)),c("button",{onClick:e[12]||(e[12]=G=>i.descargarDocumento(n.documentoPreview)),class:"btn btn-primary"},[x(D,{size:"16",class:"btn-icon"}),e[27]||(e[27]=V(" Descargar archivo "))])]))],64)):(p(),y("div",fq,[x(l,{size:"32"}),e[30]||(e[30]=c("p",null,"No se pudo generar la vista previa del documento.",-1))]))])])])):I("",!0),n.showFormacionModal?(p(),q(T,{key:8,value:n.formacionForm,validationErrors:n.formacionValidationErrors,loading:n.savingFormacion,onClose:i.closeFormacionModal,onSave:i.saveFormacion},null,8,["value","validationErrors","loading","onClose","onSave"])):I("",!0),n.showAusenciaModal?(p(),q(O,{key:9,value:n.ausenciaForm,tiposAusencia:n.tiposAusenciaStore.tiposAusencia,validationErrors:n.ausenciaValidationErrors,loading:n.savingAusencia,id_empleado:i.empleadoId,"ausencias-existentes":n.ausenciasStore.ausencias,onClose:i.closeAusenciaModal,onSave:i.saveAusencia,onValidationError:i.handleAusenciaValidationError},null,8,["value","tiposAusencia","validationErrors","loading","id_empleado","ausencias-existentes","onClose","onSave","onValidationError"])):I("",!0),n.showDeleteFormacionModal?(p(),y("div",hq,[c("div",mq,[c("div",pq,[e[31]||(e[31]=c("h3",null,"Confirmar eliminación",-1)),c("button",{onClick:e[13]||(e[13]=G=>n.showDeleteFormacionModal=!1),class:"btn-close"},[x(w,{size:"18"})])]),c("div",gq,[c("p",null,[e[32]||(e[32]=V("¿Está seguro de que desea eliminar la formación ")),c("strong",null,S((M=n.formacionToDelete)==null?void 0:M.nombre),1),e[33]||(e[33]=V("?"))]),e[34]||(e[34]=c("p",null,"Esta acción no se puede deshacer.",-1))]),c("div",bq,[c("button",{onClick:e[14]||(e[14]=G=>n.showDeleteFormacionModal=!1),class:"btn btn-secondary"}," Cancelar "),c("button",{onClick:e[15]||(e[15]=(...G)=>i.confirmDeleteFormacion&&i.confirmDeleteFormacion(...G)),class:"btn btn-danger",disabled:n.deletingFormacion},[n.deletingFormacion?(p(),q(_,{key:1,size:"18",class:"btn-icon animate-spin"})):(p(),q(E,{key:0,size:"18",class:"btn-icon"})),e[35]||(e[35]=V(" Eliminar "))],8,vq)])])])):I("",!0),n.showDeleteAusenciaModal?(p(),y("div",yq,[c("div",_q,[c("div",Eq,[e[36]||(e[36]=c("h3",null,"Confirmar eliminación",-1)),c("button",{onClick:e[16]||(e[16]=G=>n.showDeleteAusenciaModal=!1),class:"btn-close"},[x(w,{size:"18"})])]),c("div",wq,[c("p",null,[e[37]||(e[37]=V("¿Está seguro de que desea eliminar la ausencia del tipo ")),(L=(F=n.ausenciaToDelete)==null?void 0:F.TipoAusencia)!=null&&L.nombre?(p(),y("strong",Cq,S(n.ausenciaToDelete.TipoAusencia.nombre),1)):i.getTipoAusenciaNombre((N=n.ausenciaToDelete)==null?void 0:N.id_tipo_ausencia)?(p(),y("strong",Sq,S(i.getTipoAusenciaNombre((z=n.ausenciaToDelete)==null?void 0:z.id_tipo_ausencia)),1)):(p(),y("strong",xq," seleccionada ")),e[38]||(e[38]=V("? "))]),e[39]||(e[39]=c("p",null,"Esta acción no se puede deshacer.",-1))]),c("div",kq,[c("button",{onClick:e[17]||(e[17]=G=>n.showDeleteAusenciaModal=!1),class:"btn btn-secondary"}," Cancelar "),c("button",{onClick:e[18]||(e[18]=(...G)=>i.confirmDeleteAusencia&&i.confirmDeleteAusencia(...G)),class:"btn btn-danger",disabled:n.deletingAusencia},[n.deletingAusencia?(p(),q(_,{key:1,size:"18",class:"btn-icon animate-spin"})):(p(),q(E,{key:0,size:"18",class:"btn-icon"})),e[40]||(e[40]=V(" Eliminar "))],8,Dq)])])])):I("",!0)])]}),_:1})}const Tq=de(LH,[["render",Aq],["__scopeId","data-v-c01a7b4b"]]),Mq={name:"RolesFilters",components:{Search:In,X:Xe,RefreshCw:Ft},props:{search:{type:String,default:""}},emits:["update:search","reset"],methods:{clearSearch(){this.$emit("update:search","")}}},Pq={class:"filters-container"},Iq={class:"search-container"},Fq=["value"];function Rq(t,e,s,o,n,i){const r=C("Search"),a=C("X");return p(),y("div",Pq,[c("div",Iq,[x(r,{size:"18",class:"search-icon"}),c("input",{type:"text",value:s.search,onInput:e[0]||(e[0]=l=>t.$emit("update:search",l.target.value)),placeholder:"Buscar roles...",class:"search-input"},null,40,Fq),s.search?(p(),y("button",{key:0,onClick:e[1]||(e[1]=(...l)=>i.clearSearch&&i.clearSearch(...l)),class:"clear-button"},[x(a,{size:"16"})])):I("",!0)])])}const Oq=de(Mq,[["render",Rq],["__scopeId","data-v-002aa0ee"]]),Nq={name:"RolesList",components:{Shield:wr,Edit:Tt,Trash2:Rt},props:{roles:{type:Array,required:!0}},emits:["edit","delete","manage-permissions"],data(){return{permisosMap:{1:"Usuarios Lectura",2:"Usuarios Escritura",3:"Empleados Lectura",4:"Empleados Escritura",5:"Contratos Lectura",6:"Contratos Escritura",7:"Documentos Lectura",8:"Documentos Escritura",9:"Ausencias Lectura",10:"Ausencias Escritura"},currentUserRole:null}},computed:{isCurrentUserAdmin(){return this.currentUserRole&&this.currentUserRole.nombre==="ADMIN"}},methods:{async fetchCurrentUser(){try{const t=await qi.getProfile();t.data&&t.data.data&&t.data.data.usuario&&(this.currentUserRole=t.data.data.usuario.Rol)}catch(t){console.error("Error al obtener perfil de usuario:",t)}},isAdminRole(t){return t.nombre==="ADMIN"},getVisiblePermisos(t){return t.permisos.slice(0,3).map(e=>this.permisosMap[e]||`Permiso ${e}`)},editRole(t){this.isAdminRole(t)&&!this.isCurrentUserAdmin||this.$emit("edit",t)},deleteRole(t){this.isAdminRole(t)||this.$emit("delete",t)},managePermissions(t){this.isAdminRole(t)&&!this.isCurrentUserAdmin||this.$emit("manage-permissions",t)}},mounted(){this.fetchCurrentUser()}},Lq={class:"roles-list"},zq={class:"role-info"},$q={class:"role-header"},Vq={class:"role-name"},Bq={key:0,class:"admin-badge"},Uq={class:"role-description"},jq={class:"permissions-preview"},Hq={class:"permissions-title"},qq={class:"permissions-badges"},Wq={key:0,class:"more-badge"},Kq={class:"role-actions"},Gq=["onClick","disabled"],Xq=["onClick","disabled"],Zq=["onClick","disabled"];function Yq(t,e,s,o,n,i){const r=C("Shield"),a=C("Edit"),l=C("Trash2");return p(),y("div",Lq,[(p(!0),y(he,null,De(s.roles,d=>(p(),y("div",{key:d.id_rol,class:j(["role-card",{"admin-role":i.isAdminRole(d)}])},[c("div",zq,[c("div",$q,[c("h3",Vq,S(d.nombre),1),i.isAdminRole(d)?(p(),y("span",Bq,"Admin")):I("",!0)]),c("p",Uq,S(d.descripcion),1),c("div",jq,[c("h4",Hq,"Permisos ("+S(d.permisos.length)+")",1),c("div",qq,[(p(!0),y(he,null,De(i.getVisiblePermisos(d),(u,f)=>(p(),y("span",{key:f,class:"permission-badge"},S(u),1))),128)),d.permisos.length>3?(p(),y("span",Wq," +"+S(d.permisos.length-3)+" más ",1)):I("",!0)])])]),c("div",Kq,[c("button",{onClick:u=>i.managePermissions(d),class:"btn-permissions",title:"Gestionar permisos",disabled:i.isAdminRole(d)&&!i.isCurrentUserAdmin},[x(r,{size:"18"}),e[0]||(e[0]=c("span",{class:"action-text"},"Permisos",-1))],8,Gq),c("button",{onClick:u=>i.editRole(d),class:"btn-edit",title:"Editar rol",disabled:i.isAdminRole(d)&&!i.isCurrentUserAdmin},[x(a,{size:"18"}),e[1]||(e[1]=c("span",{class:"action-text"},"Editar",-1))],8,Xq),c("button",{onClick:u=>i.deleteRole(d),class:"btn-delete",title:"Eliminar rol",disabled:i.isAdminRole(d)},[x(l,{size:"18"}),e[2]||(e[2]=c("span",{class:"action-text"},"Eliminar",-1))],8,Zq)])],2))),128))])}const Jq=de(Nq,[["render",Yq],["__scopeId","data-v-f61d651b"]]),Qq={name:"RolesStates",components:{AlertTriangle:Ot,FolderX:Z1,RefreshCw:Ft},props:{loading:{type:Boolean,default:!1},error:{type:[String,null],default:null},empty:{type:Boolean,default:!1}},emits:["retry"],methods:{retryFetch(){this.$emit("retry")}}},eW={key:0,class:"state-container loading"},tW={key:1,class:"state-container error"},sW={class:"error-icon"},oW={key:2,class:"state-container empty"},nW={class:"empty-icon"};function iW(t,e,s,o,n,i){const r=C("AlertTriangle"),a=C("RefreshCw"),l=C("FolderX");return s.loading?(p(),y("div",eW,e[1]||(e[1]=[c("div",{class:"loading-animation"},[c("div",{class:"loading-circle"}),c("div",{class:"loading-circle"}),c("div",{class:"loading-circle"})],-1),c("p",null,"Cargando roles...",-1)]))):s.error?(p(),y("div",tW,[c("div",sW,[x(r,{size:"48"})]),e[3]||(e[3]=c("h3",null,"Error al cargar los roles",-1)),c("p",null,S(s.error),1),c("button",{onClick:e[0]||(e[0]=(...d)=>i.retryFetch&&i.retryFetch(...d)),class:"retry-btn"},[x(a,{size:"16",class:"btn-icon"}),e[2]||(e[2]=V(" Reintentar "))])])):s.empty?(p(),y("div",oW,[c("div",nW,[x(l,{size:"64"})]),e[4]||(e[4]=c("h3",null,"No se encontraron roles",-1)),e[5]||(e[5]=c("p",{class:"empty-description"},"Intente con otros criterios de búsqueda o cree un nuevo rol",-1))])):I("",!0)}const rW=de(Qq,[["render",iW],["__scopeId","data-v-d876c4fd"]]),aW={name:"RolesModals",components:{Save:wo,X:Xe,Loader:At,Trash2:Rt,AlertTriangle:Ot,Shield:wr,Search:In,FolderX:Z1},props:{showCreateModal:Boolean,showEditModal:Boolean,showPermisosModal:Boolean,showDeleteModal:Boolean,rolForm:{type:Object,default:()=>({nombre:"",descripcion:""})},validationErrors:{type:Object,default:()=>({})},currentRol:{type:Object,default:null},rolToDelete:{type:Object,default:null},selectedPermisos:{type:Array,default:()=>[]},savingRol:Boolean,savingPermisos:Boolean,deletingRol:Boolean,loadingPermisos:Boolean,permisosAgrupados:{type:Object,default:()=>({})}},emits:["close","save-rol","save-permisos","delete-rol","update:selected-permisos","update-rol-form"],data(){return{localRolForm:{nombre:"",descripcion:""},activeModule:"",searchPermission:""}},computed:{isFormValid(){return this.localRolForm.nombre&&this.localRolForm.nombre.trim().length>0},isAllSelected(){const t=Object.values(this.permisosAgrupados).flat();return t.length>0&&t.every(e=>this.isPermisoSelected(e.id_permiso))},filteredActiveModulePermissions(){const t=this.permisosAgrupados[this.activeModule]||[];if(!this.searchPermission)return t;const e=this.searchPermission.toLowerCase();return t.filter(s=>s.nombre.toLowerCase().includes(e)||s.tipo.toLowerCase().includes(e))}},watch:{rolForm:{handler(t){this.localRolForm={...t}},immediate:!0,deep:!0},permisosAgrupados:{handler(t){t&&Object.keys(t).length>0&&!this.activeModule&&(this.activeModule=Object.keys(t)[0])},immediate:!0}},methods:{closeModal(){this.$emit("close")},updateParentForm(){this.$emit("update-rol-form",this.localRolForm)},saveRol(){!this.localRolForm.nombre||!this.localRolForm.nombre.trim()||this.$emit("save-rol")},savePermisos(){this.$emit("save-permisos")},deleteRol(){this.$emit("delete-rol")},isPermisoSelected(t){return this.selectedPermisos.includes(t)},togglePermiso(t,e){let s=[...this.selectedPermisos];e?s.includes(t)||s.push(t):s=s.filter(o=>o!==t),this.$emit("update:selected-permisos",s)},setActiveModule(t){this.activeModule=t},getSelectedCount(t){return t.filter(e=>this.isPermisoSelected(e.id_permiso)).length},getProgressPercentage(t){return t.length===0?0:this.getSelectedCount(t)/t.length*100},isModuleFullySelected(t){const e=this.permisosAgrupados[t]||[];return e.length>0&&this.getSelectedCount(e)===e.length},toggleModuleSelection(t){const e=this.permisosAgrupados[t]||[],s=this.isModuleFullySelected(t);let o=[...this.selectedPermisos];s?o=o.filter(n=>!e.some(i=>i.id_permiso===n)):e.forEach(n=>{o.includes(n.id_permiso)||o.push(n.id_permiso)}),this.$emit("update:selected-permisos",o)},toggleSelectAll(){const t=Object.values(this.permisosAgrupados).flat();this.isAllSelected?this.$emit("update:selected-permisos",[]):this.$emit("update:selected-permisos",t.map(e=>e.id_permiso))},getTotalPermissions(){return Object.values(this.permisosAgrupados).flat().length},getPermissionDescription(t){const s={Usuarios:"Acceso a la gestión de usuarios del sistema",Roles:"Acceso a la gestión de roles y permisos",Empleados:"Acceso a la información de empleados",Departamentos:"Acceso a la gestión de departamentos",Reportes:"Acceso a la generación de reportes",Configuración:"Acceso a la configuración del sistema"}[t.nombre.split(" ")[0]]||"Permiso del sistema";return t.tipo==="Lectura"?`${s} (solo visualización)`:`${s} (creación, edición y eliminación)`}}},lW={key:0,class:"modal-overlay"},cW={class:"modal-container"},dW={class:"modal-header"},uW={class:"modal-body"},fW={class:"form-group"},hW={key:0,class:"invalid-feedback"},mW={class:"form-group"},pW={class:"character-count"},gW={class:"modal-footer"},bW=["disabled"],vW={key:1,class:"modal-overlay"},yW={class:"modal-container modal-xl"},_W={class:"modal-header"},EW={class:"modal-title"},wW={class:"role-badge"},CW={class:"modal-body permissions-body"},SW={key:0,class:"loading-container"},xW={key:1,class:"permissions-container"},kW={class:"permissions-sidebar"},DW={class:"sidebar-header"},AW={class:"sidebar-content"},TW={class:"module-list"},MW=["onClick"],PW={class:"module-name"},IW={class:"module-stats"},FW={class:"module-count"},RW={class:"progress-bar"},OW={class:"sidebar-footer"},NW={class:"permissions-summary"},LW={class:"summary-item"},zW={class:"summary-value"},$W={class:"summary-item"},VW={class:"summary-value"},BW={class:"permissions-main"},UW={class:"main-header"},jW={class:"header-actions"},HW={class:"search-permissions"},qW={class:"main-content"},WW={class:"permissions-grid"},KW=["onClick"],GW={class:"permission-header"},XW={class:"permission-checkbox"},ZW=["checked","onChange"],YW={class:"permission-name"},JW={class:"permission-description"},QW={key:0,class:"no-permissions"},eK={class:"modal-footer permissions-footer"},tK={class:"footer-info"},sK={class:"footer-actions"},oK=["disabled"],nK={key:2,class:"modal-overlay"},iK={class:"modal-container"},rK={class:"modal-header delete-header"},aK={class:"modal-body"},lK={class:"delete-confirmation"},cK={class:"delete-icon"},dK={class:"warning-box"},uK={class:"warning-header"},fK={class:"modal-footer"},hK=["disabled"];function mK(t,e,s,o,n,i){var g,b;const r=C("X"),a=C("Loader"),l=C("Save"),d=C("Search"),u=C("FolderX"),f=C("Shield"),h=C("AlertTriangle"),m=C("Trash2");return p(),y(he,null,[s.showCreateModal||s.showEditModal?(p(),y("div",lW,[c("div",cW,[c("div",dW,[c("h3",null,S(s.showEditModal?"Editar Rol":"Nuevo Rol"),1),c("button",{onClick:e[0]||(e[0]=(...v)=>i.closeModal&&i.closeModal(...v)),class:"btn-close"},[x(r,{size:"18"})])]),c("div",uW,[c("div",fW,[e[17]||(e[17]=c("label",{for:"nombre"},"Nombre del Rol *",-1)),se(c("input",{id:"nombre","onUpdate:modelValue":e[1]||(e[1]=v=>n.localRolForm.nombre=v),type:"text",class:j(["form-control",{"is-invalid":s.validationErrors.nombre}]),placeholder:"Ej: Administrador, Usuario, Supervisor",maxlength:"50",onInput:e[2]||(e[2]=(...v)=>i.updateParentForm&&i.updateParentForm(...v))},null,34),[[fe,n.localRolForm.nombre]]),s.validationErrors.nombre?(p(),y("div",hW,S(s.validationErrors.nombre),1)):I("",!0),e[18]||(e[18]=c("div",{class:"form-hint"}," El nombre debe ser único y descriptivo ",-1))]),c("div",mW,[e[19]||(e[19]=c("label",{for:"descripcion"},"Descripción",-1)),se(c("textarea",{id:"descripcion","onUpdate:modelValue":e[3]||(e[3]=v=>n.localRolForm.descripcion=v),class:"form-control",placeholder:"Describe las responsabilidades y alcance de este rol",rows:"3",maxlength:"255",onInput:e[4]||(e[4]=(...v)=>i.updateParentForm&&i.updateParentForm(...v))},null,544),[[fe,n.localRolForm.descripcion]]),c("div",pW,S(n.localRolForm.descripcion.length)+"/255 caracteres ",1)])]),c("div",gW,[c("button",{onClick:e[5]||(e[5]=(...v)=>i.closeModal&&i.closeModal(...v)),class:"btn-cancel"},[x(r,{size:"16",class:"btn-icon"}),e[20]||(e[20]=V(" Cancelar "))]),c("button",{onClick:e[6]||(e[6]=(...v)=>i.saveRol&&i.saveRol(...v)),class:"btn-save",disabled:s.savingRol||!i.isFormValid},[s.savingRol?(p(),q(a,{key:0,size:"16",class:"btn-icon spinner"})):(p(),q(l,{key:1,size:"16",class:"btn-icon"})),V(" "+S(s.showEditModal?"Actualizar":"Crear Rol"),1)],8,bW)])])])):I("",!0),s.showPermisosModal?(p(),y("div",vW,[c("div",yW,[c("div",_W,[c("div",EW,[e[21]||(e[21]=c("h3",null,"Gestionar Permisos",-1)),c("span",wW,S((g=s.currentRol)==null?void 0:g.nombre),1)]),c("button",{onClick:e[7]||(e[7]=(...v)=>i.closeModal&&i.closeModal(...v)),class:"btn-close"},[x(r,{size:"18"})])]),c("div",CW,[s.loadingPermisos?(p(),y("div",SW,e[22]||(e[22]=[c("div",{class:"loading-spinner"},null,-1),c("p",null,"Cargando permisos...",-1)]))):(p(),y("div",xW,[c("div",kW,[c("div",DW,[e[23]||(e[23]=c("h4",null,"Módulos",-1)),c("button",{class:"btn-select-all",onClick:e[8]||(e[8]=(...v)=>i.toggleSelectAll&&i.toggleSelectAll(...v))},S(i.isAllSelected?"Deseleccionar todo":"Seleccionar todo"),1)]),c("div",AW,[c("ul",TW,[(p(!0),y(he,null,De(s.permisosAgrupados,(v,w)=>(p(),y("li",{key:w,class:j({active:n.activeModule===w}),onClick:E=>i.setActiveModule(w)},[c("span",PW,S(w),1),c("div",IW,[c("span",FW,S(i.getSelectedCount(v))+"/"+S(v.length),1),c("div",RW,[c("div",{class:"progress",style:Tn({width:`${i.getProgressPercentage(v)}%`})},null,4)])])],10,MW))),128))])]),c("div",OW,[c("div",NW,[c("div",LW,[e[24]||(e[24]=c("span",{class:"summary-label"},"Total seleccionados:",-1)),c("span",zW,S(s.selectedPermisos.length),1)]),c("div",$W,[e[25]||(e[25]=c("span",{class:"summary-label"},"Total disponibles:",-1)),c("span",VW,S(i.getTotalPermissions()),1)])])])]),c("div",BW,[c("div",UW,[c("h4",null,S(n.activeModule),1),c("div",jW,[c("div",HW,[se(c("input",{"onUpdate:modelValue":e[9]||(e[9]=v=>n.searchPermission=v),type:"text",placeholder:"Buscar permisos...",class:"search-input"},null,512),[[fe,n.searchPermission]]),x(d,{size:"16",class:"search-icon"})]),c("button",{class:"btn-module-select",onClick:e[10]||(e[10]=v=>i.toggleModuleSelection(n.activeModule))},S(i.isModuleFullySelected(n.activeModule)?"Deseleccionar módulo":"Seleccionar módulo"),1)])]),c("div",qW,[c("div",WW,[(p(!0),y(he,null,De(i.filteredActiveModulePermissions,v=>(p(),y("div",{key:v.id_permiso,class:j(["permission-card",{selected:i.isPermisoSelected(v.id_permiso)}]),onClick:w=>i.togglePermiso(v.id_permiso,!i.isPermisoSelected(v.id_permiso))},[c("div",GW,[c("div",XW,[c("input",{type:"checkbox",checked:i.isPermisoSelected(v.id_permiso),onClick:e[11]||(e[11]=Ve(()=>{},["stop"])),onChange:w=>i.togglePermiso(v.id_permiso,w.target.checked)},null,40,ZW),e[26]||(e[26]=c("span",{class:"checkmark"},null,-1))]),c("span",YW,S(v.nombre),1),c("span",{class:j(["permission-type",v.tipo==="Lectura"?"type-read":"type-write"])},S(v.tipo),3)]),c("div",JW,S(i.getPermissionDescription(v)),1)],10,KW))),128))]),i.filteredActiveModulePermissions.length===0?(p(),y("div",QW,[x(u,{size:"32"}),e[27]||(e[27]=c("p",null,"No se encontraron permisos que coincidan con la búsqueda",-1))])):I("",!0)])])]))]),c("div",eK,[c("div",tK,[x(f,{size:"16"}),e[28]||(e[28]=c("span",null,"Los cambios en los permisos se aplicarán inmediatamente",-1))]),c("div",sK,[c("button",{onClick:e[12]||(e[12]=(...v)=>i.closeModal&&i.closeModal(...v)),class:"btn-cancel"},[x(r,{size:"16",class:"btn-icon"}),e[29]||(e[29]=V(" Cancelar "))]),c("button",{onClick:e[13]||(e[13]=(...v)=>i.savePermisos&&i.savePermisos(...v)),class:"btn-save",disabled:s.savingPermisos},[s.savingPermisos?(p(),q(a,{key:0,size:"16",class:"btn-icon spinner"})):(p(),q(l,{key:1,size:"16",class:"btn-icon"})),e[30]||(e[30]=V(" Guardar Permisos "))],8,oK)])])])])):I("",!0),s.showDeleteModal?(p(),y("div",nK,[c("div",iK,[c("div",rK,[e[31]||(e[31]=c("h3",null,"Confirmar eliminación",-1)),c("button",{onClick:e[14]||(e[14]=(...v)=>i.closeModal&&i.closeModal(...v)),class:"btn-close"},[x(r,{size:"18"})])]),c("div",aK,[c("div",lK,[c("div",cK,[x(h,{size:"48"})]),c("p",null,[e[32]||(e[32]=V("¿Está seguro de que desea eliminar el rol ")),c("strong",null,S((b=s.rolToDelete)==null?void 0:b.nombre),1),e[33]||(e[33]=V("?"))]),e[36]||(e[36]=c("p",{class:"text-danger"},"Esta acción no se puede deshacer y puede afectar a los usuarios asignados a este rol.",-1)),c("div",dK,[c("div",uK,[x(h,{size:"16"}),e[34]||(e[34]=c("span",null,"Advertencia",-1))]),e[35]||(e[35]=c("ul",{class:"warning-list"},[c("li",null,"Los usuarios con este rol perderán sus permisos asociados"),c("li",null,"Se recomienda reasignar usuarios antes de eliminar"),c("li",null,"Esta acción es irreversible")],-1))])])]),c("div",fK,[c("button",{onClick:e[15]||(e[15]=(...v)=>i.closeModal&&i.closeModal(...v)),class:"btn-cancel"},[x(r,{size:"16",class:"btn-icon"}),e[37]||(e[37]=V(" Cancelar "))]),c("button",{onClick:e[16]||(e[16]=(...v)=>i.deleteRol&&i.deleteRol(...v)),class:"btn-delete",disabled:s.deletingRol},[s.deletingRol?(p(),q(a,{key:0,size:"16",class:"btn-icon spinner"})):(p(),q(m,{key:1,size:"16",class:"btn-icon"})),e[38]||(e[38]=V(" Eliminar Definitivamente "))],8,hK)])])])):I("",!0)],64)}const pK=de(aW,[["render",mK],["__scopeId","data-v-ff54d465"]]),gK={getAllPermisos(t){return $.get("/permisos",{params:t})},getPermisoById(t){return $.get(`/permisos/${t}`)}},bK={name:"RolesGestion",components:{UserPlus:n0,DefaultLayout:Yt,RolesFilters:Oq,RolesList:Jq,RolesStates:rW,RolesModals:pK},data(){return{roles:[],permisosAgrupados:{},currentUserRole:null,adminRoles:[],loading:!1,error:null,filters:{search:""},showCreateModal:!1,showEditModal:!1,showPermisosModal:!1,showDeleteModal:!1,rolForm:{nombre:"",descripcion:""},validationErrors:{},currentRol:null,rolToDelete:null,selectedPermisos:[],savingRol:!1,savingPermisos:!1,deletingRol:!1,loadingPermisos:!1}},computed:{filteredRoles(){if(!this.filters.search)return this.roles;const t=this.filters.search.toLowerCase();return this.roles.filter(e=>e.nombre.toLowerCase().includes(t)||e.descripcion.toLowerCase().includes(t))},isCurrentUserAdmin(){return this.currentUserRole&&this.currentUserRole.nombre==="ADMIN"}},methods:{async fetchCurrentUser(){try{const t=await qi.getProfile();t.data&&t.data.data&&t.data.data.usuario&&(this.currentUserRole=t.data.data.usuario.Rol)}catch(t){console.error("Error al obtener perfil de usuario:",t)}},async fetchRoles(){this.loading=!0,this.error=null;try{const t=await hs.getAllRoles();if(t.data&&t.data.data&&t.data.data.roles)this.roles=t.data.data.roles.map(e=>({...e,id:e.id_rol,permisos:e.Permisos?e.Permisos.map(s=>s.id_permiso):[]})),this.adminRoles=this.roles.filter(e=>e.nombre==="ADMIN"||e.Permisos&&e.Permisos.length>=10);else throw new Error("Formato de respuesta inesperado")}catch(t){console.error("Error al cargar roles:",t),this.error="Error al cargar los roles. Por favor, inténtelo de nuevo."}finally{this.loading=!1}},async fetchPermisos(){try{const t=await gK.getAllPermisos();if(t.data&&t.data.data&&t.data.data.permisos){const e=t.data.data.permisos,s={};e.forEach(o=>{const n=o.nombre;s[n]||(s[n]=[]),s[n].push({id_permiso:o.id_permiso,nombre:`${o.nombre} ${o.tipo}`,tipo:o.tipo,descripcion:o.descripcion})}),this.permisosAgrupados=s}else this.setDefaultPermisos()}catch(t){console.error("Error al cargar permisos:",t),this.setDefaultPermisos()}},setDefaultPermisos(){this.permisosAgrupados={Usuarios:[{id_permiso:1,nombre:"Usuarios Lectura",tipo:"Lectura"},{id_permiso:2,nombre:"Usuarios Escritura",tipo:"Escritura"}],Empleados:[{id_permiso:3,nombre:"Empleados Lectura",tipo:"Lectura"},{id_permiso:4,nombre:"Empleados Escritura",tipo:"Escritura"}],Contratos:[{id_permiso:5,nombre:"Contratos Lectura",tipo:"Lectura"},{id_permiso:6,nombre:"Contratos Escritura",tipo:"Escritura"}],Documentos:[{id_permiso:7,nombre:"Documentos Lectura",tipo:"Lectura"},{id_permiso:8,nombre:"Documentos Escritura",tipo:"Escritura"}],Ausencias:[{id_permiso:9,nombre:"Ausencias Lectura",tipo:"Lectura"},{id_permiso:10,nombre:"Ausencias Escritura",tipo:"Escritura"}],Master:[{id_permiso:13,nombre:"Master Escritura",tipo:"Escritura"}]}},resetFilters(){this.filters.search=""},closeAllModals(){this.showCreateModal=!1,this.showEditModal=!1,this.showPermisosModal=!1,this.showDeleteModal=!1,this.rolForm={nombre:"",descripcion:""},this.validationErrors={},this.currentRol=null,this.rolToDelete=null},handleCreateRole(){this.rolForm={nombre:"",descripcion:""},this.validationErrors={},this.showCreateModal=!0},handleEditRole(t){if(this.isAdminRole(t)&&!this.isCurrentUserAdmin){this.$emit("show-notification",{type:"error",message:"No tienes permisos para editar un rol de administrador"});return}this.rolForm={nombre:t.nombre,descripcion:t.descripcion},this.validationErrors={},this.currentRol=t,this.showEditModal=!0},handleDeleteRole(t){if(this.isAdminRole(t)){this.$emit("show-notification",{type:"error",message:"No se puede eliminar un rol de administrador"});return}if(this.isLastAdminRole(t)){this.$emit("show-notification",{type:"error",message:"No se puede eliminar el último rol de administrador"});return}this.rolToDelete=t,this.showDeleteModal=!0},isAdminRole(t){return t.nombre==="ADMIN"},isLastAdminRole(t){return this.isAdminRole(t)&&this.adminRoles.length<=1},async handleManagePermissions(t){if(this.isAdminRole(t)&&!this.isCurrentUserAdmin){this.$emit("show-notification",{type:"error",message:"No tienes permisos para modificar los permisos de un rol de administrador"});return}this.currentRol=t,this.loadingPermisos=!0,this.showPermisosModal=!0;try{const e=await hs.getRoleById(t.id_rol);if(e.data&&e.data.data&&e.data.data.rol){const s=e.data.data.rol;this.selectedPermisos=s.Permisos?s.Permisos.map(o=>o.id_permiso):[]}else this.selectedPermisos=t.permisos||[]}catch(e){console.error("Error al cargar permisos del rol:",e),this.selectedPermisos=t.permisos||[]}finally{this.loadingPermisos=!1}},updateRolForm(t){this.rolForm={...t},t.nombre&&t.nombre.trim()&&(this.validationErrors={...this.validationErrors},delete this.validationErrors.nombre)},async saveRol(){if(this.validationErrors={},!this.rolForm.nombre||!this.rolForm.nombre.trim()){this.validationErrors.nombre="El nombre del rol es obligatorio";return}this.savingRol=!0;try{this.showEditModal?await hs.updateRole(this.currentRol.id_rol,this.rolForm):await hs.createRole(this.rolForm),await this.fetchRoles(),this.closeAllModals(),this.$emit("show-notification",{type:"success",message:this.showEditModal?"Rol actualizado correctamente":"Rol creado correctamente"})}catch(t){console.error("Error al guardar rol:",t),t.response&&t.response.data&&t.response.data.errors?this.validationErrors=t.response.data.errors:this.validationErrors.general="Error al guardar el rol. Inténtelo de nuevo."}finally{this.savingRol=!1}},async savePermisos(){this.savingPermisos=!0;try{await hs.updateRolePermissions(this.currentRol.id_rol,this.selectedPermisos),await this.fetchRoles(),this.closeAllModals(),this.$emit("show-notification",{type:"success",message:"Permisos actualizados correctamente"})}catch(t){console.error("Error al guardar permisos:",t),this.$emit("show-notification",{type:"error",message:"Error al guardar los permisos. Inténtelo de nuevo."})}finally{this.savingPermisos=!1}},async deleteRol(){this.deletingRol=!0;try{await hs.deleteRole(this.rolToDelete.id_rol),await this.fetchRoles(),this.closeAllModals(),this.$emit("show-notification",{type:"success",message:"Rol eliminado correctamente"})}catch(t){console.error("Error al eliminar rol:",t),this.$emit("show-notification",{type:"error",message:"Error al eliminar el rol. Inténtelo de nuevo."})}finally{this.deletingRol=!1}}},async mounted(){await this.fetchCurrentUser(),await this.fetchPermisos(),await this.fetchRoles()}},vK={class:"roles-gestion"},yK={class:"roles-header"};function _K(t,e,s,o,n,i){const r=C("UserPlus"),a=C("RolesFilters"),l=C("RolesStates"),d=C("RolesList"),u=C("RolesModals"),f=C("DefaultLayout");return p(),q(f,null,{default:Ee(()=>[c("div",vK,[c("div",yK,[e[4]||(e[4]=c("h1",{class:"roles-title"},"Gestión de Roles",-1)),c("button",{onClick:e[0]||(e[0]=(...h)=>i.handleCreateRole&&i.handleCreateRole(...h)),class:"btn-create"},[x(r,{size:"18",class:"btn-icon"}),e[3]||(e[3]=V(" Nuevo Rol "))])]),x(a,{search:n.filters.search,"onUpdate:search":e[1]||(e[1]=h=>n.filters.search=h),onReset:i.resetFilters},null,8,["search","onReset"]),x(l,{loading:n.loading,error:n.error,empty:!n.loading&&!n.error&&n.roles.length===0,onRetry:i.fetchRoles},null,8,["loading","error","empty","onRetry"]),!n.loading&&!n.error&&n.roles.length>0?(p(),q(d,{key:0,roles:i.filteredRoles,onEdit:i.handleEditRole,onDelete:i.handleDeleteRole,onManagePermissions:i.handleManagePermissions},null,8,["roles","onEdit","onDelete","onManagePermissions"])):I("",!0),x(u,{"show-create-modal":n.showCreateModal,"show-edit-modal":n.showEditModal,"show-permisos-modal":n.showPermisosModal,"show-delete-modal":n.showDeleteModal,"rol-form":n.rolForm,"validation-errors":n.validationErrors,"current-rol":n.currentRol,"rol-to-delete":n.rolToDelete,"selected-permisos":n.selectedPermisos,"saving-rol":n.savingRol,"saving-permisos":n.savingPermisos,"deleting-rol":n.deletingRol,"loading-permisos":n.loadingPermisos,"permisos-agrupados":n.permisosAgrupados,"onUpdate:selectedPermisos":e[2]||(e[2]=h=>n.selectedPermisos=h),onClose:i.closeAllModals,onSaveRol:i.saveRol,onSavePermisos:i.savePermisos,onDeleteRol:i.deleteRol,onUpdateRolForm:i.updateRolForm},null,8,["show-create-modal","show-edit-modal","show-permisos-modal","show-delete-modal","rol-form","validation-errors","current-rol","rol-to-delete","selected-permisos","saving-rol","saving-permisos","deleting-rol","loading-permisos","permisos-agrupados","onClose","onSaveRol","onSavePermisos","onDeleteRol","onUpdateRolForm"])])]),_:1})}const EK=de(bK,[["render",_K],["__scopeId","data-v-40e26cad"]]),Nf=wt("zonas",{state:()=>({zonas:[],currentZona:null,loading:!1,error:null,filters:{search:""},pagination:{page:1,limit:10,total:0,totalPages:1}}),getters:{getZonas:t=>t.zonas,getCurrentZona:t=>t.currentZona,getLoading:t=>t.loading,getError:t=>t.error,getFilters:t=>t.filters,getPagination:t=>t.pagination},actions:{async fetchZonas(t={}){var s,o;this.loading=!0,this.error=null;const e=X();try{const n={...this.filters,page:this.pagination.page,limit:this.pagination.limit,...t},r=(await $.get("/zonas",{params:n})).data;if(r.success){this.zonas=r.data.zonas||[];const a=r.data.pagination||{};return this.pagination={page:a.page||1,limit:a.limit||10,total:a.total||0,totalPages:a.totalPages||1},this.zonas}else throw new Error(r.message||"Error al cargar zonas")}catch(n){const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al cargar zonas";return this.error=i,e.error(i),[]}finally{this.loading=!1}},async fetchZonaById(t){var s,o;this.loading=!0,this.error=null,this.currentZona=null;const e=X();try{const i=(await $.get(`/zonas/${t}`)).data;if(i.success)return this.currentZona=i.data.zona,i.data.zona;throw new Error(i.message||"Error al cargar la zona")}catch(n){const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al cargar la zona";return this.error=i,e.error(i),null}finally{this.loading=!1}},async createZona(t){var s,o;this.loading=!0,this.error=null;const e=X();try{const i=(await $.post("/zonas",t)).data;if(i.success)return e.success(`¡Zona "${t.nombre}" creada correctamente!`,"Zona creada"),await this.fetchZonas(),i.data.zona;throw new Error(i.message||"Error al crear la zona")}catch(n){const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al crear la zona";return this.error=i,e.error(i,"Error al crear"),null}finally{this.loading=!1}},async updateZona(t,e){var o,n;this.loading=!0,this.error=null;const s=X();try{const r=(await $.put(`/zonas/${t}`,e)).data;if(r.success){s.success(`¡Zona "${e.nombre}" actualizada correctamente!`,"Zona actualizada"),this.currentZona&&this.currentZona.id_zona===t&&(this.currentZona=r.data.zona);const a=this.zonas.findIndex(l=>l.id_zona===t);return a!==-1&&(this.zonas[a]=r.data.zona),r.data.zona}else throw new Error(r.message||"Error al actualizar la zona")}catch(i){const r=((n=(o=i.response)==null?void 0:o.data)==null?void 0:n.message)||i.message||"Error al actualizar la zona";return this.error=r,s.error(r,"Error al actualizar"),null}finally{this.loading=!1}},async deleteZona(t){var s,o;this.loading=!0,this.error=null;const e=X();try{const i=(await $.delete(`/zonas/${t}`)).data;if(i.success){const r=this.zonas.find(l=>l.id_zona===t),a=r?r.nombre:"Zona";return e.success(`¡${a} eliminada correctamente!`,"Zona eliminada"),this.zonas=this.zonas.filter(l=>l.id_zona!==t),this.currentZona&&this.currentZona.id_zona===t&&(this.currentZona=null),!0}else throw new Error(i.message||"Error al eliminar la zona")}catch(n){const i=((o=(s=n.response)==null?void 0:s.data)==null?void 0:o.message)||n.message||"Error al eliminar la zona";return this.error=i,e.error(i,"Error al eliminar"),!1}finally{this.loading=!1}},updateFilters(t){this.filters={...this.filters,...t},this.pagination.page=1},resetFilters(){this.filters={search:""},this.pagination.page=1},setPage(t){this.pagination.page=t}}}),wK={name:"CentrosGestion",components:{DefaultLayout:Yt,PermissionCheck:Zo,LoadingSpinner:rs,Plus:Ps,Edit:Tt,Trash2:Rt,Building2:Us,X:Xe,FolderClosed:Cd,ChevronRight:Pn},data(){return{loading:!1,loadingZonas:!1,error:null,showModal:!1,showDeleteModal:!1,isEditing:!1,saving:!1,deleting:!1,centroToDelete:null,validationErrors:{},centroForm:{nombre:"",direccion:"",telefono:"",email:"",id_zona:""},zonas:[]}},computed:{...Nh(Dn,["centros"]),isFormValid(){return this.centroForm.nombre&&Object.keys(this.validationErrors).length===0}},methods:{...ka(Dn,["fetchCentros","createCentro","updateCentro","deleteCentro"]),...ka(Nf,["fetchZonas"]),async validateField(t){const e=await O5(t,this.centroForm[t],this.centroForm,this.isEditing);e.isValid?delete this.validationErrors[t]:this.validationErrors[t]=e.error,this.$forceUpdate()},async loadCentros(){this.loading=!0,this.error=null;try{await this.fetchCentros()}catch(t){this.error="Error al cargar los centros. Por favor, intente nuevamente.",console.error(t)}finally{this.loading=!1}},async loadZonas(){this.loadingZonas=!0;try{this.zonas=await this.fetchZonas()}catch(t){console.error("Error al cargar las zonas:",t)}finally{this.loadingZonas=!1}},showCreateModal(){this.isEditing=!1,this.validationErrors={},this.centroForm={nombre:"",direccion:"",telefono:"",email:"",id_zona:""},this.showModal=!0},editCentro(t){this.isEditing=!0,this.validationErrors={},this.centroForm={id_centro:t.id_centro,nombre:t.nombre||"",direccion:t.direccion||"",telefono:t.telefono||"",email:t.email||"",id_zona:t.id_zona||""},this.showModal=!0},closeModal(){this.showModal=!1,this.validationErrors={}},async saveCentro(){const t=X(),e=await Ff(this.centroForm,this.isEditing);if(!e.isValid){this.validationErrors=e.errors;return}this.saving=!0;try{if(this.isEditing)await this.updateCentro(this.centroForm.id_centro,this.centroForm),t.success(`¡Centro "${this.centroForm.nombre}" actualizado correctamente!`,"Centro actualizado");else{const s=await this.createCentro(this.centroForm);t.success(`¡Centro "${s.nombre}" creado correctamente!`,"Centro creado")}this.closeModal(),await this.loadCentros()}catch{}finally{this.saving=!1}},confirmDelete(t){this.centroToDelete=t,this.showDeleteModal=!0},closeDeleteModal(){this.showDeleteModal=!1,this.centroToDelete=null},async handleDeleteCentro(){if(this.centroToDelete){this.deleting=!0;try{await this.deleteCentro(this.centroToDelete.id_centro),this.closeDeleteModal(),await this.loadCentros()}catch{}finally{this.deleting=!1}}},closeModals(){this.closeModal(),this.closeDeleteModal()}},mounted(){this.loadCentros(),this.loadZonas()},beforeUnmount(){this.closeModals()}},CK={class:"centros-page"},SK={class:"page-header"},xK={class:"card"},kK={class:"card-body"},DK={key:0,class:"loading-container"},AK={key:1,class:"error-message"},TK={key:2,class:"empty-state"},MK={key:3,class:"table-container"},PK={class:"data-table"},IK={class:"action-buttons"},FK=["onClick"],RK=["onClick"],OK={key:0,class:"modal-overlay"},NK={class:"modal-container"},LK={class:"modal-header"},zK={class:"modal-body"},$K={class:"form-group"},VK={key:0,class:"invalid-feedback"},BK={class:"form-group"},UK={key:0,class:"invalid-feedback"},jK={class:"form-group"},HK={key:0,class:"invalid-feedback"},qK={class:"form-group"},WK={key:0,class:"invalid-feedback"},KK={class:"form-group"},GK=["value"],XK={key:0,class:"invalid-feedback"},ZK={class:"modal-footer"},YK=["disabled"],JK={key:1,class:"modal-overlay"},QK={class:"modal-container"},eG={class:"modal-header"},tG={class:"modal-body"},sG={class:"modal-footer"},oG=["disabled"];function nG(t,e,s,o,n,i){const r=C("Plus"),a=C("permission-check"),l=C("loading-spinner"),d=C("Building2"),u=C("FolderClosed"),f=C("ChevronRight"),h=C("router-link"),m=C("Edit"),g=C("Trash2"),b=C("X"),v=C("DefaultLayout");return p(),q(v,null,{default:Ee(()=>{var w;return[c("div",CK,[c("div",SK,[e[19]||(e[19]=c("div",{class:"header-title"},[c("h1",null,"Gestión de Centros"),c("p",{class:"text-muted"},"Administración de centros de trabajo y sus departamentos")],-1)),x(a,{permiso:{nombre:"Master",tipo:"Escritura"}},{default:Ee(()=>[c("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...E)=>i.showCreateModal&&i.showCreateModal(...E))},[x(r,{size:"16",class:"btn-icon"}),e[18]||(e[18]=V(" Nuevo Centro "))])]),_:1})]),c("div",xK,[c("div",kK,[n.loading?(p(),y("div",DK,[x(l,{message:"Cargando centros..."})])):n.error?(p(),y("div",AK,S(n.error),1)):t.centros.length===0?(p(),y("div",TK,[x(d,{size:"48",class:"empty-icon"}),e[20]||(e[20]=c("h3",null,"No hay centros registrados",-1)),e[21]||(e[21]=c("p",null,"Comienza creando un nuevo centro",-1))])):(p(),y("div",MK,[c("table",PK,[e[22]||(e[22]=c("thead",null,[c("tr",null,[c("th",null,"ID"),c("th",null,"Nombre"),c("th",null,"Dirección"),c("th",null,"Teléfono"),c("th",null,"Email"),c("th",null,"Zona"),c("th",null,"Departamentos"),c("th",null,"Acciones")])],-1)),c("tbody",null,[(p(!0),y(he,null,De(t.centros,E=>{var _;return p(),y("tr",{key:E.id_centro},[c("td",null,S(E.id_centro),1),c("td",null,S(E.nombre),1),c("td",null,S(E.direccion||"N/A"),1),c("td",null,S(E.telefono||"N/A"),1),c("td",null,S(E.email||"N/A"),1),c("td",null,S(((_=E.Zona)==null?void 0:_.nombre)||"N/A"),1),c("td",null,[x(h,{to:{name:"departamentos",params:{idCentro:E.id_centro}},class:"btn-departamentos"},{default:Ee(()=>{var D;return[x(u,{class:"btn-icon-folder",size:"16"}),c("span",null,"Departamentos ("+S(((D=E.Departamentos)==null?void 0:D.length)||0)+")",1),x(f,{class:"btn-icon-right",size:"14"})]}),_:2},1032,["to"])]),c("td",null,[c("div",IK,[x(a,{permiso:{nombre:"Master",tipo:"Escritura"}},{default:Ee(()=>[c("button",{onClick:D=>i.editCentro(E),class:"btn-icon-only",title:"Editar"},[x(m,{size:"16"})],8,FK),c("button",{onClick:D=>i.confirmDelete(E),class:"btn-icon btn-danger",title:"Eliminar"},[x(g,{size:"16"})],8,RK)]),_:2},1024)])])])}),128))])])]))])]),n.showModal?(p(),y("div",OK,[c("div",NK,[c("div",LK,[c("h2",null,S(n.isEditing?"Editar Centro":"Nuevo Centro"),1),c("button",{onClick:e[1]||(e[1]=(...E)=>i.closeModal&&i.closeModal(...E)),class:"modal-close"},[x(b,{size:"18"})])]),c("div",zK,[c("form",{onSubmit:e[12]||(e[12]=Ve((...E)=>i.saveCentro&&i.saveCentro(...E),["prevent"])),class:"form"},[c("div",$K,[e[23]||(e[23]=c("label",{for:"nombre",class:"form-label"},"Nombre *",-1)),se(c("input",{id:"nombre","onUpdate:modelValue":e[2]||(e[2]=E=>n.centroForm.nombre=E),type:"text",class:j(["form-input",{"is-invalid":n.validationErrors.nombre}]),onBlur:e[3]||(e[3]=E=>i.validateField("nombre")),required:""},null,34),[[fe,n.centroForm.nombre]]),n.validationErrors.nombre?(p(),y("div",VK,S(n.validationErrors.nombre),1)):I("",!0)]),c("div",BK,[e[24]||(e[24]=c("label",{for:"direccion",class:"form-label"},"Dirección",-1)),se(c("input",{id:"direccion","onUpdate:modelValue":e[4]||(e[4]=E=>n.centroForm.direccion=E),type:"text",class:j(["form-input",{"is-invalid":n.validationErrors.direccion}]),onBlur:e[5]||(e[5]=E=>i.validateField("direccion"))},null,34),[[fe,n.centroForm.direccion]]),n.validationErrors.direccion?(p(),y("div",UK,S(n.validationErrors.direccion),1)):I("",!0)]),c("div",jK,[e[25]||(e[25]=c("label",{for:"telefono",class:"form-label"},"Teléfono",-1)),se(c("input",{id:"telefono","onUpdate:modelValue":e[6]||(e[6]=E=>n.centroForm.telefono=E),type:"text",class:j(["form-input",{"is-invalid":n.validationErrors.telefono}]),onBlur:e[7]||(e[7]=E=>i.validateField("telefono"))},null,34),[[fe,n.centroForm.telefono]]),n.validationErrors.telefono?(p(),y("div",HK,S(n.validationErrors.telefono),1)):I("",!0)]),c("div",qK,[e[26]||(e[26]=c("label",{for:"email",class:"form-label"},"Email",-1)),se(c("input",{id:"email","onUpdate:modelValue":e[8]||(e[8]=E=>n.centroForm.email=E),type:"email",class:j(["form-input",{"is-invalid":n.validationErrors.email}]),onBlur:e[9]||(e[9]=E=>i.validateField("email"))},null,34),[[fe,n.centroForm.email]]),n.validationErrors.email?(p(),y("div",WK,S(n.validationErrors.email),1)):I("",!0)]),c("div",KK,[e[28]||(e[28]=c("label",{for:"id_zona",class:"form-label"},"Zona",-1)),se(c("select",{id:"id_zona","onUpdate:modelValue":e[10]||(e[10]=E=>n.centroForm.id_zona=E),class:j(["form-input",{"is-invalid":n.validationErrors.id_zona}]),onBlur:e[11]||(e[11]=E=>i.validateField("id_zona"))},[e[27]||(e[27]=c("option",{value:""},"Seleccione una zona",-1)),(p(!0),y(he,null,De(n.zonas,E=>(p(),y("option",{key:E.id_zona,value:E.id_zona},S(E.nombre),9,GK))),128))],34),[[_t,n.centroForm.id_zona]]),n.validationErrors.id_zona?(p(),y("div",XK,S(n.validationErrors.id_zona),1)):I("",!0)])],32)]),c("div",ZK,[c("button",{onClick:e[13]||(e[13]=(...E)=>i.closeModal&&i.closeModal(...E)),class:"btn-secondary"},"Cancelar"),c("button",{onClick:e[14]||(e[14]=(...E)=>i.saveCentro&&i.saveCentro(...E)),class:"btn-primary",disabled:n.saving||!i.isFormValid},S(n.saving?"Guardando...":"Guardar"),9,YK)])])])):I("",!0),n.showDeleteModal?(p(),y("div",JK,[c("div",QK,[c("div",eG,[e[29]||(e[29]=c("h2",null,"Confirmar eliminación",-1)),c("button",{onClick:e[15]||(e[15]=(...E)=>i.closeDeleteModal&&i.closeDeleteModal(...E)),class:"modal-close"},[x(b,{size:"18"})])]),c("div",tG,[c("p",null,[e[30]||(e[30]=V("¿Está seguro que desea eliminar el centro ")),c("strong",null,S(((w=n.centroToDelete)==null?void 0:w.nombre)||"seleccionado"),1),e[31]||(e[31]=V("?"))])]),c("div",sG,[c("button",{onClick:e[16]||(e[16]=(...E)=>i.closeDeleteModal&&i.closeDeleteModal(...E)),class:"btn-secondary"},"Cancelar"),c("button",{onClick:e[17]||(e[17]=(...E)=>i.handleDeleteCentro&&i.handleDeleteCentro(...E)),class:"btn-danger",disabled:n.deleting},S(n.deleting?"Eliminando...":"Eliminar"),9,oG)])])])):I("",!0)])]}),_:1})}const iG=de(wK,[["render",nG],["__scopeId","data-v-988e052e"]]),rG={name:"DepartamentosGestion",components:{DefaultLayout:Yt,PermissionCheck:Zo,LoadingSpinner:rs,PlusCircle:K1,Edit:Tt,Trash2:Rt,FolderClosed:Cd,ArrowLeft:Er,X:Xe},props:{idCentro:{type:[Number,String],required:!0}},data(){return{departamentos:[],loadingCentro:!1,loadingDepartamentos:!1,error:null,showModal:!1,showDeleteModal:!1,isEditing:!1,saving:!1,deleting:!1,departamentoToDelete:null,departamentoForm:{nombre:"",descripcion:"",id_centro:null}}},computed:{...Nh(Dn,["currentCentro"]),centroId(){return Number(this.idCentro)}},methods:{...ka(Dn,["fetchCentroById"]),...ka(Rd,["fetchDepartamentosByCentro","createDepartamento","updateDepartamento","deleteDepartamento"]),async loadCentro(){if(this.centroId){this.loadingCentro=!0,this.error=null;try{await this.fetchCentroById(this.centroId),this.currentCentro||(this.error="Centro no encontrado")}catch(t){this.error="Error al cargar el centro. Por favor, intente nuevamente.",console.error(t)}finally{this.loadingCentro=!1}}},async loadDepartamentos(){if(this.centroId){this.loadingDepartamentos=!0,this.error=null;try{this.departamentos=await this.fetchDepartamentosByCentro(this.centroId)}catch(t){this.error="Error al cargar los departamentos. Por favor, intente nuevamente.",console.error(t)}finally{this.loadingDepartamentos=!1}}},goBack(){this.$router.push("/centros")},showCreateModal(){this.isEditing=!1,this.departamentoForm={nombre:"",descripcion:"",id_centro:this.centroId},this.showModal=!0},editDepartamento(t){this.isEditing=!0,this.departamentoForm={...t},this.showModal=!0},closeModal(){this.showModal=!1},async saveDepartamento(){const t=X();if(!this.departamentoForm.nombre){t.error("El nombre del departamento es obligatorio","Error de validación");return}this.saving=!0;try{if(this.isEditing)await this.updateDepartamento(this.departamentoForm.id_departamento,this.departamentoForm),t.success(`¡Departamento "${this.departamentoForm.nombre}" actualizado correctamente!`,"Departamento actualizado");else{const e=await this.createDepartamento(this.departamentoForm);t.success(`¡Departamento "${e.nombre}" creado correctamente!`,"Departamento creado")}this.closeModal(),await this.loadDepartamentos()}catch{}finally{this.saving=!1}},confirmDelete(t){this.departamentoToDelete=t,this.showDeleteModal=!0},closeDeleteModal(){this.showDeleteModal=!1,this.departamentoToDelete=null},async handleDeleteDepartamento(){const t=X();if(this.departamentoToDelete){this.deleting=!0;try{await this.deleteDepartamento(this.departamentoToDelete.id_departamento),t.success(`Departamento "${this.departamentoToDelete.nombre}" eliminado correctamente`,"Departamento eliminado"),this.closeDeleteModal(),await this.loadDepartamentos()}catch{}finally{this.deleting=!1}}},closeModals(){this.closeModal(),this.closeDeleteModal()}},mounted(){this.loadCentro(),this.loadDepartamentos()},beforeUnmount(){this.closeModals()}},aG={class:"departamentos-page"},lG={class:"page-header"},cG={class:"page-header-left"},dG={class:"page-title"},uG={class:"page-actions"},fG={class:"card"},hG={class:"card-body"},mG={key:0,class:"loading-container"},pG={key:1,class:"error-message"},gG={key:2,class:"error-message"},bG={key:3,class:"empty-state"},vG={key:4,class:"table-container"},yG={class:"data-table"},_G={class:"action-buttons"},EG=["onClick"],wG=["onClick"],CG={key:0,class:"modal-overlay"},SG={class:"modal-container"},xG={class:"modal-header"},kG={class:"modal-body"},DG={class:"form-group"},AG={class:"form-group"},TG={class:"modal-footer"},MG=["disabled"],PG={key:1,class:"modal-overlay"},IG={class:"modal-container"},FG={class:"modal-header"},RG={class:"modal-body"},OG={class:"modal-footer"},NG=["disabled"];function LG(t,e,s,o,n,i){const r=C("ArrowLeft"),a=C("PlusCircle"),l=C("permission-check"),d=C("loading-spinner"),u=C("FolderClosed"),f=C("Edit"),h=C("Trash2"),m=C("X"),g=C("DefaultLayout");return p(),q(g,null,{default:Ee(()=>{var b;return[c("div",aG,[c("div",lG,[c("div",cG,[c("button",{onClick:e[0]||(e[0]=(...v)=>i.goBack&&i.goBack(...v)),class:"btn-back"},[x(r,{size:"18"})]),c("h1",dG," Departamentos de "+S(t.currentCentro?t.currentCentro.nombre:"Centro"),1)]),c("div",uG,[x(l,{permiso:{nombre:"Master",tipo:"Escritura"}},{default:Ee(()=>[c("button",{onClick:e[1]||(e[1]=(...v)=>i.showCreateModal&&i.showCreateModal(...v)),class:"btn-primary"},[x(a,{size:"18",class:"btn-icon-primary"}),e[11]||(e[11]=V(" Nuevo Departamento "))])]),_:1})])]),c("div",fG,[c("div",hG,[n.loadingCentro||n.loadingDepartamentos?(p(),y("div",mG,[x(d,{message:n.loadingCentro?"Cargando centro...":"Cargando departamentos..."},null,8,["message"])])):n.error?(p(),y("div",pG,S(n.error),1)):t.currentCentro?n.departamentos.length===0?(p(),y("div",bG,[x(u,{size:"48",class:"empty-icon"}),e[12]||(e[12]=c("h3",null,"No hay departamentos registrados en este centro",-1)),e[13]||(e[13]=c("p",null,"Comienza creando un nuevo departamento",-1))])):(p(),y("div",vG,[c("table",yG,[e[14]||(e[14]=c("thead",null,[c("tr",null,[c("th",null,"ID"),c("th",null,"Nombre"),c("th",null,"Descripción"),c("th",null,"Acciones")])],-1)),c("tbody",null,[(p(!0),y(he,null,De(n.departamentos,v=>(p(),y("tr",{key:v.id_departamento},[c("td",null,S(v.id_departamento),1),c("td",null,S(v.nombre),1),c("td",null,S(v.descripcion||"N/A"),1),c("td",null,[c("div",_G,[x(l,{permiso:{nombre:"Master",tipo:"Escritura"}},{default:Ee(()=>[c("button",{onClick:w=>i.editDepartamento(v),class:"btn-icon-only",title:"Editar"},[x(f,{size:"16"})],8,EG),c("button",{onClick:w=>i.confirmDelete(v),class:"btn-icon btn-danger",title:"Eliminar"},[x(h,{size:"16"})],8,wG)]),_:2},1024)])])]))),128))])])])):(p(),y("div",gG," Centro no encontrado "))])]),n.showModal?(p(),y("div",CG,[c("div",SG,[c("div",xG,[c("h2",null,S(n.isEditing?"Editar Departamento":"Nuevo Departamento"),1),c("button",{onClick:e[2]||(e[2]=(...v)=>i.closeModal&&i.closeModal(...v)),class:"modal-close"},[x(m,{size:"18"})])]),c("div",kG,[c("form",{onSubmit:e[5]||(e[5]=Ve((...v)=>i.saveDepartamento&&i.saveDepartamento(...v),["prevent"])),class:"form"},[c("div",DG,[e[15]||(e[15]=c("label",{for:"nombre",class:"form-label"},"Nombre",-1)),se(c("input",{id:"nombre","onUpdate:modelValue":e[3]||(e[3]=v=>n.departamentoForm.nombre=v),type:"text",class:"form-input",required:""},null,512),[[fe,n.departamentoForm.nombre]])]),c("div",AG,[e[16]||(e[16]=c("label",{for:"descripcion",class:"form-label"},"Descripción",-1)),se(c("textarea",{id:"descripcion","onUpdate:modelValue":e[4]||(e[4]=v=>n.departamentoForm.descripcion=v),class:"form-textarea",rows:"3"},null,512),[[fe,n.departamentoForm.descripcion]])])],32)]),c("div",TG,[c("button",{onClick:e[6]||(e[6]=(...v)=>i.closeModal&&i.closeModal(...v)),class:"btn-secondary"},"Cancelar"),c("button",{onClick:e[7]||(e[7]=(...v)=>i.saveDepartamento&&i.saveDepartamento(...v)),class:"btn-primary",disabled:n.saving},S(n.saving?"Guardando...":"Guardar"),9,MG)])])])):I("",!0),n.showDeleteModal?(p(),y("div",PG,[c("div",IG,[c("div",FG,[e[17]||(e[17]=c("h2",null,"Confirmar eliminación",-1)),c("button",{onClick:e[8]||(e[8]=(...v)=>i.closeDeleteModal&&i.closeDeleteModal(...v)),class:"modal-close"},[x(m,{size:"18"})])]),c("div",RG,[c("p",null,[e[18]||(e[18]=V("¿Está seguro que desea eliminar el departamento ")),c("strong",null,S(((b=n.departamentoToDelete)==null?void 0:b.nombre)||"seleccionado"),1),e[19]||(e[19]=V("?"))]),e[20]||(e[20]=c("p",{class:"text-danger"},"Esta acción no se puede deshacer.",-1))]),c("div",OG,[c("button",{onClick:e[9]||(e[9]=(...v)=>i.closeDeleteModal&&i.closeDeleteModal(...v)),class:"btn-secondary"},"Cancelar"),c("button",{onClick:e[10]||(e[10]=(...v)=>i.handleDeleteDepartamento&&i.handleDeleteDepartamento(...v)),class:"btn-danger",disabled:n.deleting},S(n.deleting?"Eliminando...":"Eliminar"),9,NG)])])])):I("",!0)])]}),_:1})}const zG=de(rG,[["render",LG],["__scopeId","data-v-7c2d1b3d"]]),$G={name:"ZonasGestion",components:{DefaultLayout:Yt,PermissionCheck:Zo,LoadingSpinner:rs,Plus:Ps,Edit:Tt,Trash2:Rt,MapPin:Cs,X:Xe},data(){return{loading:!1,error:null,showModal:!1,showDeleteModal:!1,isEditing:!1,saving:!1,deleting:!1,zonaToDelete:null,zonaForm:{nombre:"",descripcion:""}}},computed:{...Nh(Nf,["zonas"])},methods:{...ka(Nf,["fetchZonas","createZona","updateZona","deleteZona"]),async loadZonas(){this.loading=!0,this.error=null;try{await this.fetchZonas()}catch(t){this.error="Error al cargar las zonas. Por favor, intente nuevamente.",console.error(t)}finally{this.loading=!1}},showCreateModal(){this.isEditing=!1,this.zonaForm={nombre:"",descripcion:""},this.showModal=!0},editZona(t){this.isEditing=!0,this.zonaForm={...t},this.showModal=!0},closeModal(){this.showModal=!1},async saveZona(){const t=X();if(!this.zonaForm.nombre){t.error("El nombre de la zona es obligatorio","Error de validación");return}this.saving=!0;try{if(this.isEditing)await this.updateZona(this.zonaForm.id_zona,this.zonaForm),t.success(`¡Zona "${this.zonaForm.nombre}" actualizada correctamente!`,"Zona actualizada");else{const e=await this.createZona(this.zonaForm);t.success(`¡Zona "${e.nombre}" creada correctamente!`,"Zona creada")}this.closeModal(),await this.loadZonas()}catch(e){t.error(e.message||"Error al guardar la zona. Por favor, intente nuevamente.","Error al guardar")}finally{this.saving=!1}},confirmDelete(t){this.zonaToDelete=t,this.showDeleteModal=!0},closeDeleteModal(){this.showDeleteModal=!1,this.zonaToDelete=null},async deleteZona(){const t=X();if(this.zonaToDelete){this.deleting=!0;try{await this.deleteZona(this.zonaToDelete.id_zona),t.success(`Zona "${this.zonaToDelete.nombre}" eliminada correctamente`,"Zona eliminada"),this.closeDeleteModal(),await this.loadZonas()}catch(e){t.error(e.message||"Error al eliminar la zona. Por favor, intente nuevamente.","Error al eliminar")}finally{this.deleting=!1}}},closeModals(){this.closeModal(),this.closeDeleteModal()}},mounted(){this.loadZonas()},beforeUnmount(){this.closeModals()}},VG={class:"zonas-page"},BG={class:"page-header"},UG={class:"card"},jG={class:"card-body"},HG={key:0,class:"loading-container"},qG={key:1,class:"error-message"},WG={key:2,class:"empty-state"},KG={key:3,class:"table-container"},GG={class:"data-table"},XG={class:"badge"},ZG={class:"action-buttons"},YG=["onClick"],JG=["onClick"],QG={key:0,class:"modal-overlay"},eX={class:"modal-container"},tX={class:"modal-header"},sX={class:"modal-body"},oX={class:"form-group"},nX={class:"form-group"},iX={class:"modal-footer"},rX=["disabled"],aX={key:1,class:"modal-overlay"},lX={class:"modal-container"},cX={class:"modal-header"},dX={class:"modal-body"},uX={key:0,class:"text-danger"},fX={class:"modal-footer"},hX=["disabled"];function mX(t,e,s,o,n,i){const r=C("Plus"),a=C("permission-check"),l=C("loading-spinner"),d=C("MapPin"),u=C("Edit"),f=C("Trash2"),h=C("X"),m=C("DefaultLayout");return p(),q(m,null,{default:Ee(()=>{var g,b,v;return[c("div",VG,[c("div",BG,[e[11]||(e[11]=c("div",{class:"header-title"},[c("h1",null,"Gestión de Zonas"),c("p",{class:"text-muted"},"Administración de zonas geográficas y sus centros asociados")],-1)),x(a,{permiso:{nombre:"Master",tipo:"Escritura"}},{default:Ee(()=>[c("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...w)=>i.showCreateModal&&i.showCreateModal(...w))},[x(r,{size:"16",class:"btn-icon"}),e[10]||(e[10]=V(" Nueva Zona "))])]),_:1})]),c("div",UG,[c("div",jG,[n.loading?(p(),y("div",HG,[x(l,{message:"Cargando zonas..."})])):n.error?(p(),y("div",qG,S(n.error),1)):t.zonas.length===0?(p(),y("div",WG,[x(d,{size:"48",class:"empty-icon"}),e[12]||(e[12]=c("h3",null,"No hay zonas registradas",-1)),e[13]||(e[13]=c("p",null,"Comienza creando una nueva zona",-1))])):(p(),y("div",KG,[c("table",GG,[e[14]||(e[14]=c("thead",null,[c("tr",null,[c("th",null,"ID"),c("th",null,"Nombre"),c("th",null,"Descripción"),c("th",null,"Centros"),c("th",null,"Acciones")])],-1)),c("tbody",null,[(p(!0),y(he,null,De(t.zonas,w=>(p(),y("tr",{key:w.id_zona},[c("td",null,S(w.id_zona),1),c("td",null,S(w.nombre),1),c("td",null,S(w.descripcion||"N/A"),1),c("td",null,[c("span",XG,S(w.Centros?w.Centros.length:0),1)]),c("td",null,[c("div",ZG,[x(a,{permiso:{nombre:"Master",tipo:"Escritura"}},{default:Ee(()=>[c("button",{onClick:E=>i.editZona(w),class:"btn-icon-only",title:"Editar"},[x(u,{size:"16"})],8,YG),c("button",{onClick:E=>i.confirmDelete(w),class:"btn-icon btn-danger",title:"Eliminar"},[x(f,{size:"16"})],8,JG)]),_:2},1024)])])]))),128))])])]))])]),n.showModal?(p(),y("div",QG,[c("div",eX,[c("div",tX,[c("h2",null,S(n.isEditing?"Editar Zona":"Nueva Zona"),1),c("button",{onClick:e[1]||(e[1]=(...w)=>i.closeModal&&i.closeModal(...w)),class:"modal-close"},[x(h,{size:"18"})])]),c("div",sX,[c("form",{onSubmit:e[4]||(e[4]=Ve((...w)=>i.saveZona&&i.saveZona(...w),["prevent"])),class:"form"},[c("div",oX,[e[15]||(e[15]=c("label",{for:"nombre",class:"form-label"},"Nombre",-1)),se(c("input",{id:"nombre","onUpdate:modelValue":e[2]||(e[2]=w=>n.zonaForm.nombre=w),type:"text",class:"form-input",required:""},null,512),[[fe,n.zonaForm.nombre]])]),c("div",nX,[e[16]||(e[16]=c("label",{for:"descripcion",class:"form-label"},"Descripción",-1)),se(c("textarea",{id:"descripcion","onUpdate:modelValue":e[3]||(e[3]=w=>n.zonaForm.descripcion=w),class:"form-textarea",rows:"3"},null,512),[[fe,n.zonaForm.descripcion]])])],32)]),c("div",iX,[c("button",{onClick:e[5]||(e[5]=(...w)=>i.closeModal&&i.closeModal(...w)),class:"btn-secondary"},"Cancelar"),c("button",{onClick:e[6]||(e[6]=(...w)=>i.saveZona&&i.saveZona(...w)),class:"btn-primary",disabled:n.saving},S(n.saving?"Guardando...":"Guardar"),9,rX)])])])):I("",!0),n.showDeleteModal?(p(),y("div",aX,[c("div",lX,[c("div",cX,[e[17]||(e[17]=c("h2",null,"Confirmar eliminación",-1)),c("button",{onClick:e[7]||(e[7]=(...w)=>i.closeDeleteModal&&i.closeDeleteModal(...w)),class:"modal-close"},[x(h,{size:"18"})])]),c("div",dX,[c("p",null,[e[18]||(e[18]=V("¿Está seguro que desea eliminar la zona ")),c("strong",null,S((g=n.zonaToDelete)==null?void 0:g.nombre),1),e[19]||(e[19]=V("?"))]),e[21]||(e[21]=c("p",{class:"text-danger"},"Esta acción no se puede deshacer.",-1)),(b=n.zonaToDelete)!=null&&b.Centros&&n.zonaToDelete.Centros.length>0?(p(),y("p",uX,e[20]||(e[20]=[c("strong",null,"Advertencia:",-1),V(" Esta zona tiene centros asociados. No podrá eliminarla hasta que reasigne o elimine estos centros. ")]))):I("",!0)]),c("div",fX,[c("button",{onClick:e[8]||(e[8]=(...w)=>i.closeDeleteModal&&i.closeDeleteModal(...w)),class:"btn-secondary"},"Cancelar"),c("button",{onClick:e[9]||(e[9]=(...w)=>i.deleteZona&&i.deleteZona(...w)),class:"btn-danger",disabled:n.deleting||((v=n.zonaToDelete)==null?void 0:v.Centros)&&n.zonaToDelete.Centros.length>0},S(n.deleting?"Eliminando...":"Eliminar"),9,hX)])])])):I("",!0)])]}),_:1})}const pX=de($G,[["render",mX],["__scopeId","data-v-37adf470"]]),gX={name:"TiposContratoHeader",components:{PermissionCheck:Zo,Plus:Ps},emits:["nuevo-tipo"]},bX={class:"page-header"};function vX(t,e,s,o,n,i){const r=C("Plus"),a=C("permission-check");return p(),y("div",bX,[e[2]||(e[2]=c("div",{class:"header-title"},[c("h1",null,"Tipos de Contrato"),c("p",{class:"text-muted"},"Gestión de los tipos de contrato de la empresa")],-1)),x(a,{permiso:{nombre:"TiposContrato",tipo:"Escritura"}},{default:Ee(()=>[c("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=l=>t.$emit("nuevo-tipo"))},[x(r,{size:"16",class:"btn-icon"}),e[1]||(e[1]=V(" Nuevo Tipo de Contrato "))])]),_:1})])}const yX=de(gX,[["render",vX],["__scopeId","data-v-41022458"]]),_X={name:"TiposContratoFiltros",components:{Search:In,RefreshCw:Ft},props:{search:{type:String,default:""},filters:{type:Object,required:!0}},emits:["update:search","search"],methods:{}},EX={class:"card-header"},wX={class:"filters"},CX={class:"filter-group search-group"},SX=["value"];function xX(t,e,s,o,n,i){const r=C("Search");return p(),y("div",EX,[c("div",wX,[c("div",CX,[x(r,{size:"16",class:"search-icon"}),c("input",{type:"text",value:s.search,onInput:e[0]||(e[0]=a=>{t.$emit("update:search",a.target.value),t.$emit("search")}),class:"form-control search-input",placeholder:"Buscar por nombre o descripción..."},null,40,SX)])])])}const kX=de(_X,[["render",xX],["__scopeId","data-v-bae85c48"]]),DX={name:"TiposContratoTabla",components:{AlertTriangle:Ot,RefreshCw:Ft,FileSearch:wd,FilterX:Sd,FileX:X1,Plus:Ps,Edit:Tt,Copy:OT,Trash2:Rt},props:{tiposContrato:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},error:{type:String,default:null},filters:{type:Object,default:()=>({})}},emits:["retry","reset-filters","view-tipo","edit-tipo","copy-tipo","delete-tipo","add-tipo"],computed:{hasFilters(){return this.filters?Object.values(this.filters).some(t=>t==null?!1:typeof t=="string"?t.trim()!=="":!0):!1}}},AX={class:"tipos-contrato-tabla"},TX={key:0,class:"loading-container"},MX={key:1,class:"error-container"},PX={class:"error-icon"},IX={key:2,class:"empty-container"},FX={key:0,class:"empty-with-filters"},RX={class:"empty-icon"},OX={key:1,class:"empty-no-data"},NX={class:"empty-icon"},LX={key:3,class:"table-responsive"},zX={class:"table"},$X={class:"codigo-column"},VX={class:"nombre-column"},BX={class:"descripcion-column"},UX={class:"descripcion-text"},jX={class:"actions-column"},HX={class:"actions-buttons"},qX=["onClick"],WX=["onClick"],KX=["onClick"];function GX(t,e,s,o,n,i){const r=C("AlertTriangle"),a=C("RefreshCw"),l=C("FileSearch"),d=C("FilterX"),u=C("FileX"),f=C("Plus"),h=C("Edit"),m=C("Copy"),g=C("Trash2");return p(),y("div",AX,[s.loading?(p(),y("div",TX,e[3]||(e[3]=[c("div",{class:"spinner"},null,-1),c("p",null,"Cargando tipos de contrato...",-1)]))):s.error?(p(),y("div",MX,[c("div",PX,[x(r,{size:"24"})]),c("p",null,S(s.error),1),c("button",{onClick:e[0]||(e[0]=b=>t.$emit("retry")),class:"btn btn-primary"},[x(a,{size:"16",class:"btn-icon"}),e[4]||(e[4]=V(" Reintentar "))])])):s.tiposContrato.length===0?(p(),y("div",IX,[i.hasFilters?(p(),y("div",FX,[c("div",RX,[x(l,{size:"48"})]),e[6]||(e[6]=c("h3",null,"No se encontraron resultados",-1)),e[7]||(e[7]=c("p",null,"No hay tipos de contrato que coincidan con los filtros aplicados.",-1)),c("button",{onClick:e[1]||(e[1]=b=>t.$emit("reset-filters")),class:"btn btn-secondary"},[x(d,{size:"16",class:"btn-icon"}),e[5]||(e[5]=V(" Limpiar filtros "))])])):(p(),y("div",OX,[c("div",NX,[x(u,{size:"48"})]),e[9]||(e[9]=c("h3",null,"No hay tipos de contrato",-1)),e[10]||(e[10]=c("p",null,"Aún no se han creado tipos de contrato en el sistema.",-1)),c("button",{onClick:e[2]||(e[2]=b=>t.$emit("add-tipo")),class:"btn btn-primary"},[x(f,{size:"16",class:"btn-icon"}),e[8]||(e[8]=V(" Crear tipo de contrato "))])]))])):(p(),y("div",LX,[c("table",zX,[e[11]||(e[11]=c("thead",null,[c("tr",null,[c("th",{class:"codigo-column"},"Código"),c("th",{class:"nombre-column"},"Nombre"),c("th",{class:"descripcion-column"},"Descripción"),c("th",{class:"actions-column"},"Acciones")])],-1)),c("tbody",null,[(p(!0),y(he,null,De(s.tiposContrato,b=>(p(),y("tr",{key:b.id_tipo_contrato,class:"table-row"},[c("td",$X,S(b.codigo),1),c("td",VX,S(b.nombre),1),c("td",BX,[c("div",UX,S(b.descripcion||"Sin descripción"),1)]),c("td",jX,[c("div",HX,[c("button",{onClick:v=>t.$emit("edit-tipo",b),class:"btn-icon-only",title:"Editar"},[x(h,{size:"18"})],8,qX),c("button",{onClick:v=>t.$emit("copy-tipo",b),class:"btn-icon-only",title:"Duplicar"},[x(m,{size:"18"})],8,WX),c("button",{onClick:v=>t.$emit("delete-tipo",b),class:"btn-icon-only btn-danger",title:"Eliminar"},[x(g,{size:"18"})],8,KX)])])]))),128))])])]))])}const XX=de(DX,[["render",GX],["__scopeId","data-v-2a5fc922"]]),ZX={name:"TiposContratoPaginacion",components:{ChevronLeft:Xa,ChevronRight:Pn,ChevronsLeft:H1,ChevronsRight:q1},props:{pagination:{type:Object,required:!0},loading:{type:Boolean,default:!1}},emits:["cambiar-pagina"],computed:{startItem(){return(this.pagination.page-1)*this.pagination.limit+1},endItem(){const t=this.pagination.page*this.pagination.limit;return t>this.pagination.total?this.pagination.total:t},paginationRange(){const t=this.pagination.page,e=this.pagination.totalPages;if(e<=7)return Array.from({length:e},(i,r)=>r+1);let s=[1];t>3&&s.push("...");const o=Math.max(2,t-1),n=Math.min(e-1,t+1);for(let i=o;i<=n;i++)s.push(i);return t<e-2&&s.push("..."),e>1&&s.push(e),s}}},YX={class:"pagination-container"},JX={class:"pagination-info"},QX={class:"pagination-controls"},eZ=["disabled"],tZ=["disabled"],sZ={class:"pagination-pages"},oZ=["onClick","disabled"],nZ={key:1,class:"pagination-ellipsis"},iZ=["disabled"],rZ=["disabled"];function aZ(t,e,s,o,n,i){const r=C("ChevronsLeft"),a=C("ChevronLeft"),l=C("ChevronRight"),d=C("ChevronsRight");return p(),y("div",YX,[c("div",JX,[c("span",null,"Mostrando "+S(i.startItem)+" - "+S(i.endItem)+" de "+S(s.pagination.total)+" resultados",1)]),c("div",QX,[c("button",{onClick:e[0]||(e[0]=u=>t.$emit("cambiar-pagina",1)),class:"pagination-button",disabled:s.pagination.page===1||s.loading,title:"Primera página"},[x(r,{size:"16"})],8,eZ),c("button",{onClick:e[1]||(e[1]=u=>t.$emit("cambiar-pagina",s.pagination.page-1)),class:"pagination-button",disabled:s.pagination.page===1||s.loading,title:"Página anterior"},[x(a,{size:"16"})],8,tZ),c("div",sZ,[(p(!0),y(he,null,De(i.paginationRange,(u,f)=>(p(),y(he,{key:f},[u!=="..."?(p(),y("button",{key:0,onClick:h=>t.$emit("cambiar-pagina",u),class:j(["pagination-page",{active:u===s.pagination.page}]),disabled:s.loading},S(u),11,oZ)):(p(),y("span",nZ,"..."))],64))),128))]),c("button",{onClick:e[2]||(e[2]=u=>t.$emit("cambiar-pagina",s.pagination.page+1)),class:"pagination-button",disabled:s.pagination.page===s.pagination.totalPages||s.loading,title:"Página siguiente"},[x(l,{size:"16"})],8,iZ),c("button",{onClick:e[3]||(e[3]=u=>t.$emit("cambiar-pagina",s.pagination.totalPages)),class:"pagination-button",disabled:s.pagination.page===s.pagination.totalPages||s.loading,title:"Última página"},[x(d,{size:"16"})],8,rZ)])])}const lZ=de(ZX,[["render",aZ],["__scopeId","data-v-6b76bb81"]]);function Em(){const t=ns(),e=()=>t.hasPermission({nombre:"Master",tipo:"Escritura"}),s=i=>{if(t.isAdmin||e())return!0;if(i.tipo==="Escritura")return t.hasPermission(i);if(i.tipo==="Lectura"){const r=t.hasPermission(i),a=t.hasPermission({...i,tipo:"Escritura"});return r||a}return!1};return{hasPermission:s,canWrite:i=>s({nombre:i,tipo:"Escritura"}),canRead:i=>s({nombre:i,tipo:"Lectura"})||s({nombre:i,tipo:"Escritura"}),isMaster:e}}const cZ={name:"TipoContratoModal",components:{X:Xe,Save:wo,Edit:Tt,Loader:At},props:{tipo:{type:Object,default:()=>({codigo:"",nombre:"",descripcion:""})},isEdit:{type:Boolean,default:!1},viewMode:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["close","save","edit"],data(){return{form:{id_tipo_contrato:this.tipo.id_tipo_contrato||null,codigo:this.tipo.codigo||"",nombre:this.tipo.nombre||"",descripcion:this.tipo.descripcion||""},validationErrors:{}}},computed:{isFormValid(){return this.form.codigo.trim()!==""&&this.form.nombre.trim()!==""&&Object.keys(this.validationErrors).length===0},canEdit(){const{canWrite:t}=Em();return t("TiposContrato")||t("Master")}},watch:{tipo:{handler(t){this.form={id_tipo_contrato:t.id_tipo_contrato||null,codigo:t.codigo||"",nombre:t.nombre||"",descripcion:t.descripcion||""}},deep:!0,immediate:!0},"form.codigo":function(t){this.validateCodigo(t)},"form.nombre":function(t){this.validateNombre(t)}},methods:{validateCodigo(t){t.trim()?/^\d+$/.test(t)?delete this.validationErrors.codigo:this.validationErrors.codigo="El código debe contener solo números":this.validationErrors.codigo="El código es obligatorio"},validateNombre(t){t.trim()?t.length<3?this.validationErrors.nombre="El nombre debe tener al menos 3 caracteres":delete this.validationErrors.nombre:this.validationErrors.nombre="El nombre es obligatorio"},handleSubmit(){if(this.validateCodigo(this.form.codigo),this.validateNombre(this.form.nombre),!this.isFormValid)return;console.log("Enviando formulario:",this.form);const t={...this.form};this.$emit("save",t)}}},dZ={class:"modal-backdrop"},uZ={class:"modal-container"},fZ={class:"modal-header"},hZ={key:0},mZ={key:1},pZ={key:2},gZ={class:"modal-body"},bZ={key:0,class:"form-group"},vZ={class:"form-group"},yZ=["disabled"],_Z={key:0,class:"error-message"},EZ={class:"form-group"},wZ=["disabled"],CZ={key:0,class:"error-message"},SZ={class:"form-group"},xZ=["disabled"],kZ={key:0,class:"error-message"},DZ={class:"modal-footer"},AZ=["disabled"];function TZ(t,e,s,o,n,i){const r=C("X"),a=C("Loader"),l=C("Save"),d=C("Edit");return p(),y("div",dZ,[c("div",uZ,[c("div",fZ,[s.isEdit?s.viewMode?(p(),y("h3",mZ,"Detalles del tipo de contrato")):(p(),y("h3",pZ,"Editar tipo de contrato")):(p(),y("h3",hZ,"Nuevo tipo de contrato")),c("button",{onClick:e[0]||(e[0]=u=>t.$emit("close")),class:"btn-close"},[x(r,{size:"20"})])]),c("div",gZ,[c("form",{onSubmit:e[7]||(e[7]=Ve((...u)=>i.handleSubmit&&i.handleSubmit(...u),["prevent"]))},[s.isEdit?(p(),y("div",bZ,[e[8]||(e[8]=c("label",{for:"id_tipo_contrato"},"ID",-1)),se(c("input",{type:"text",id:"id_tipo_contrato","onUpdate:modelValue":e[1]||(e[1]=u=>n.form.id_tipo_contrato=u),disabled:"",class:"form-control"},null,512),[[fe,n.form.id_tipo_contrato]])])):I("",!0),c("div",vZ,[e[9]||(e[9]=c("label",{for:"codigo"},"Código",-1)),se(c("input",{type:"text",id:"codigo","onUpdate:modelValue":e[2]||(e[2]=u=>n.form.codigo=u),disabled:s.viewMode,class:"form-control",placeholder:"Ej: 100, 200, 401...",maxlength:"10"},null,8,yZ),[[fe,n.form.codigo]]),n.validationErrors.codigo?(p(),y("div",_Z,S(n.validationErrors.codigo),1)):I("",!0)]),c("div",EZ,[e[10]||(e[10]=c("label",{for:"nombre"},"Nombre",-1)),se(c("input",{type:"text",id:"nombre","onUpdate:modelValue":e[3]||(e[3]=u=>n.form.nombre=u),disabled:s.viewMode,class:"form-control",placeholder:"Nombre del tipo de contrato",maxlength:"100"},null,8,wZ),[[fe,n.form.nombre]]),n.validationErrors.nombre?(p(),y("div",CZ,S(n.validationErrors.nombre),1)):I("",!0)]),c("div",SZ,[e[11]||(e[11]=c("label",{for:"descripcion"},"Descripción",-1)),se(c("textarea",{id:"descripcion","onUpdate:modelValue":e[4]||(e[4]=u=>n.form.descripcion=u),disabled:s.viewMode,class:"form-control",placeholder:"Descripción detallada del tipo de contrato",rows:"3",maxlength:"255"},null,8,xZ),[[fe,n.form.descripcion]]),n.validationErrors.descripcion?(p(),y("div",kZ,S(n.validationErrors.descripcion),1)):I("",!0)]),c("div",DZ,[c("button",{type:"button",onClick:e[5]||(e[5]=u=>t.$emit("close")),class:"btn btn-secondary"},S(s.viewMode?"Cerrar":"Cancelar"),1),s.viewMode?I("",!0):(p(),y("button",{key:0,type:"submit",class:"btn btn-primary",disabled:!i.isFormValid||s.loading},[s.loading?(p(),q(a,{key:0,size:"16",class:"spinner"})):(p(),q(l,{key:1,size:"16",class:"btn-icon"})),V(" "+S(s.isEdit?"Actualizar":"Guardar"),1)],8,AZ)),s.viewMode&&i.canEdit?(p(),y("button",{key:1,type:"button",onClick:e[6]||(e[6]=u=>t.$emit("edit")),class:"btn btn-primary"},[x(d,{size:"16",class:"btn-icon"}),e[12]||(e[12]=V(" Editar "))])):I("",!0)])],32)])])])}const MZ=de(cZ,[["render",TZ],["__scopeId","data-v-4603b8d2"]]),PZ={name:"ConfirmDialog",components:{X:Xe,Loader:At},props:{title:{type:String,required:!0},message:{type:String,required:!0},confirmText:{type:String,default:"Confirmar"},confirmButtonClass:{type:String,default:"btn-primary"},processing:{type:Boolean,default:!1}},emits:["close","confirm"]},IZ={class:"confirm-dialog-backdrop"},FZ={class:"confirm-dialog"},RZ={class:"confirm-dialog-header"},OZ={class:"confirm-dialog-body"},NZ=["innerHTML"],LZ={class:"confirm-dialog-footer"},zZ=["disabled"],$Z=["disabled"],VZ={key:1};function BZ(t,e,s,o,n,i){const r=C("X"),a=C("Loader");return p(),y("div",IZ,[c("div",FZ,[c("div",RZ,[c("h3",null,S(s.title),1),c("button",{onClick:e[0]||(e[0]=l=>t.$emit("close")),class:"btn-close"},[x(r,{size:"20"})])]),c("div",OZ,[c("div",{innerHTML:s.message,class:"confirm-message"},null,8,NZ)]),c("div",LZ,[c("button",{onClick:e[1]||(e[1]=l=>t.$emit("close")),class:"btn btn-secondary",disabled:s.processing}," Cancelar ",8,zZ),c("button",{onClick:e[2]||(e[2]=l=>t.$emit("confirm")),class:j(["btn",s.confirmButtonClass||"btn-primary"]),disabled:s.processing},[s.processing?(p(),q(a,{key:0,size:"16",class:"spinner"})):(p(),y("span",VZ,S(s.confirmText||"Confirmar"),1))],10,$Z)])])])}const UZ=de(PZ,[["render",BZ],["__scopeId","data-v-28e7f25e"]]),jZ={name:"TiposContratoView",components:{DefaultLayout:Yt,TiposContratoHeader:yX,TiposContratoFiltros:kX,TiposContratoTabla:XX,TiposContratoPaginacion:lZ,TipoContratoModal:MZ,ConfirmDialog:UZ},data(){return{tiposContrato:[],loading:!1,processingForm:!1,error:null,search:"",filters:{codigo:""},pagination:{total:0,page:1,limit:10,totalPages:0,hasMore:!1},showModal:!1,isEdit:!1,viewMode:!1,selectedTipo:null,showConfirm:!1,confirmTitle:"",confirmMessage:"",confirmButtonText:"",confirmButtonClass:"",confirmCallback:null,processing:!1,tiposContratoStore:null,notificationStore:null}},created(){this.tiposContratoStore=vm(),this.notificationStore=X()},mounted(){this.fetchTiposContrato()},methods:{updateSearch(t){this.search=t},updateFilters(t){this.filters=t},async fetchTiposContrato(){this.loading=!0,this.error=null;try{const t={page:this.pagination.page,limit:this.pagination.limit,search:this.search,...this.filters};await this.tiposContratoStore.fetchTiposContrato(t),this.tiposContrato=this.tiposContratoStore.tiposContrato,this.pagination=this.tiposContratoStore.pagination,this.pagination.page>this.pagination.totalPages&&this.pagination.totalPages>0&&(this.pagination.page=1,this.fetchTiposContrato())}catch(t){console.error("Error al cargar tipos de contrato:",t),this.error="Error al cargar los tipos de contrato. Por favor, inténtelo de nuevo."}finally{this.loading=!1}},resetFilters(){this.search="",this.filters={codigo:""},this.pagination.page=1,this.fetchTiposContrato()},changePage(t){this.pagination.page=t,this.fetchTiposContrato()},openModal(t=null){this.selectedTipo=t?{...t}:{nombre:"",codigo:"",descripcion:""},this.isEdit=!!t,this.viewMode=!1,this.showModal=!0,console.log("Abriendo modal con tipo:",this.selectedTipo)},viewTipo(t){this.selectedTipo={...t},this.isEdit=!0,this.viewMode=!0,this.showModal=!0,console.log("Viendo tipo:",this.selectedTipo)},editTipo(t){this.selectedTipo=JSON.parse(JSON.stringify(t)),this.isEdit=!0,this.viewMode=!1,this.showModal=!0,console.log("Editando tipo:",this.selectedTipo)},copyTipo(t){const e=JSON.parse(JSON.stringify(t));delete e.id_tipo_contrato,e.codigo=`${e.codigo}_copia`,e.nombre=`${e.nombre} (Copia)`,this.selectedTipo=e,this.isEdit=!1,this.viewMode=!1,this.showModal=!0,console.log("Copiando tipo:",this.selectedTipo)},editMode(){this.viewMode=!1},closeModal(){this.showModal=!1,this.selectedTipo=null},async saveTipo(t){this.processingForm=!0;try{console.log("Guardando tipo:",t),this.isEdit?await this.tiposContratoStore.updateTipoContrato(t.id_tipo_contrato,t):await this.tiposContratoStore.createTipoContrato(t),this.closeModal(),await this.fetchTiposContrato()}catch(e){console.error("Error al guardar tipo de contrato:",e)}finally{this.processingForm=!1}},confirmDeleteTipo(t){console.log("Confirmando eliminación de tipo:",t),this.confirmTitle="Eliminar tipo de contrato",this.confirmMessage=`¿Está seguro de que desea eliminar el tipo de contrato <strong>${t.nombre}</strong> (${t.codigo})? Esta acción no se puede deshacer.`,this.confirmButtonText="Eliminar",this.confirmButtonClass="btn-danger",this.confirmCallback=async()=>{var e,s,o,n;try{this.processing=!0,console.log(`Eliminando tipo de contrato con ID ${t.id_tipo_contrato}`),await this.tiposContratoStore.deleteTipoContrato(t.id_tipo_contrato),await this.fetchTiposContrato()}catch(i){((o=(s=(e=i.response)==null?void 0:e.data)==null?void 0:s.message)!=null&&o.includes("tiene contratos asociados")||(n=i.message)!=null&&n.includes("tiene contratos asociados"))&&console.error("El tipo de contrato tiene contratos asociados y no puede ser eliminado")}finally{this.processing=!1,this.closeConfirm()}},this.showConfirm=!0},confirmAction(){this.confirmCallback?this.confirmCallback():console.error("No hay callback de confirmación definido")},closeConfirm(){this.showConfirm=!1,this.confirmCallback=null}}},HZ={class:"tipos-contrato-view"},qZ={class:"card"},WZ={key:0,class:"pagination-container"};function KZ(t,e,s,o,n,i){const r=C("TiposContratoHeader"),a=C("TiposContratoFiltros"),l=C("TiposContratoTabla"),d=C("TiposContratoPaginacion"),u=C("TipoContratoModal"),f=C("ConfirmDialog"),h=C("DefaultLayout");return p(),q(h,null,{default:Ee(()=>[c("div",HZ,[x(r,{onNuevoTipo:e[0]||(e[0]=m=>i.openModal())}),c("div",qZ,[x(a,{search:n.search,filters:n.filters,"onUpdate:search":i.updateSearch,"onUpdate:filters":i.updateFilters,onSearch:i.fetchTiposContrato,onApplyFilters:i.fetchTiposContrato,onResetFilters:i.resetFilters},null,8,["search","filters","onUpdate:search","onUpdate:filters","onSearch","onApplyFilters","onResetFilters"]),x(l,{loading:n.loading,error:n.error,tiposContrato:n.tiposContrato,filters:n.filters,onRetry:i.fetchTiposContrato,onResetFilters:i.resetFilters,onViewTipo:i.viewTipo,onEditTipo:i.editTipo,onCopyTipo:i.copyTipo,onDeleteTipo:i.confirmDeleteTipo,onAddTipo:e[1]||(e[1]=m=>i.openModal())},null,8,["loading","error","tiposContrato","filters","onRetry","onResetFilters","onViewTipo","onEditTipo","onCopyTipo","onDeleteTipo"]),n.tiposContrato.length>0&&n.pagination.totalPages>1?(p(),y("div",WZ,[x(d,{pagination:n.pagination,loading:n.loading,onCambiarPagina:i.changePage},null,8,["pagination","loading","onCambiarPagina"])])):I("",!0)]),n.showModal?(p(),q(u,{key:0,tipo:n.selectedTipo,isEdit:n.isEdit,viewMode:n.viewMode,loading:n.processingForm,onClose:i.closeModal,onSave:i.saveTipo,onEdit:i.editMode},null,8,["tipo","isEdit","viewMode","loading","onClose","onSave","onEdit"])):I("",!0),n.showConfirm?(p(),q(f,{key:1,title:n.confirmTitle,message:n.confirmMessage,confirmText:n.confirmButtonText,confirmButtonClass:n.confirmButtonClass,processing:n.processing,onClose:i.closeConfirm,onConfirm:i.confirmAction},null,8,["title","message","confirmText","confirmButtonClass","processing","onClose","onConfirm"])):I("",!0)])]),_:1})}const GZ=de(jZ,[["render",KZ],["__scopeId","data-v-6ec0572f"]]),XZ={name:"EmpresasHeader",components:{PermissionCheck:Zo,Plus:Ps},emits:["nueva-empresa"]},ZZ={class:"page-header"};function YZ(t,e,s,o,n,i){const r=C("Plus"),a=C("permission-check");return p(),y("div",ZZ,[e[2]||(e[2]=c("div",{class:"header-title"},[c("h1",null,"Empresas"),c("p",{class:"text-muted"},"Gestión de empresas del sistema")],-1)),x(a,{permiso:{nombre:"Master",tipo:"Escritura"}},{default:Ee(()=>[c("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=l=>t.$emit("nueva-empresa"))},[x(r,{size:"16",class:"btn-icon"}),e[1]||(e[1]=V(" Nueva Empresa "))])]),_:1})])}const JZ=de(XZ,[["render",YZ],["__scopeId","data-v-624bcf81"]]),QZ={name:"EmpresasFiltros",components:{Search:In,RefreshCw:Ft},props:{search:{type:String,default:""},filters:{type:Object,required:!0}},emits:["update:search","search"],methods:{}},eY={class:"card-header"},tY={class:"filters"},sY={class:"filter-group search-group"},oY=["value"];function nY(t,e,s,o,n,i){const r=C("Search");return p(),y("div",eY,[c("div",tY,[c("div",sY,[x(r,{size:"16",class:"search-icon"}),c("input",{type:"text",value:s.search,onInput:e[0]||(e[0]=a=>{t.$emit("update:search",a.target.value),t.$emit("search")}),class:"form-control search-input",placeholder:"Buscar por nombre, CIF o email..."},null,40,oY)])])])}const iY=de(QZ,[["render",nY],["__scopeId","data-v-f1d40142"]]),rY={name:"EmpresasTabla",components:{AlertTriangle:Ot,RefreshCw:Ft,FileSearch:wd,FilterX:Sd,Building:Uh,Plus:Ps,Eye:Ko,Edit:Tt,Trash2:Rt},props:{empresas:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},error:{type:String,default:null},filters:{type:Object,default:()=>({})}},emits:["retry","reset-filters","view-empresa","edit-empresa","delete-empresa","add-empresa"],computed:{hasFilters(){return this.filters?Object.values(this.filters).some(t=>t==null?!1:typeof t=="string"?t.trim()!=="":!0):!1}}},aY={class:"empresas-tabla"},lY={key:0,class:"loading-container"},cY={key:1,class:"error-container"},dY={class:"error-icon"},uY={key:2,class:"empty-container"},fY={key:0,class:"empty-with-filters"},hY={class:"empty-icon"},mY={key:1,class:"empty-no-data"},pY={class:"empty-icon"},gY={key:3,class:"table-responsive"},bY={class:"table"},vY={class:"nombre-column"},yY={class:"cif-column"},_Y={class:"telefono-column"},EY={class:"email-column"},wY={class:"email-text"},CY={class:"actions-column"},SY={class:"actions-buttons"},xY=["onClick"],kY=["onClick"],DY=["onClick"];function AY(t,e,s,o,n,i){const r=C("AlertTriangle"),a=C("RefreshCw"),l=C("FileSearch"),d=C("FilterX"),u=C("Building"),f=C("Plus"),h=C("Eye"),m=C("Edit"),g=C("Trash2");return p(),y("div",aY,[s.loading?(p(),y("div",lY,e[3]||(e[3]=[c("div",{class:"spinner"},null,-1),c("p",null,"Cargando empresas...",-1)]))):s.error?(p(),y("div",cY,[c("div",dY,[x(r,{size:"24"})]),c("p",null,S(s.error),1),c("button",{onClick:e[0]||(e[0]=b=>t.$emit("retry")),class:"btn btn-primary"},[x(a,{size:"16",class:"btn-icon"}),e[4]||(e[4]=V(" Reintentar "))])])):s.empresas.length===0?(p(),y("div",uY,[i.hasFilters?(p(),y("div",fY,[c("div",hY,[x(l,{size:"48"})]),e[6]||(e[6]=c("h3",null,"No se encontraron resultados",-1)),e[7]||(e[7]=c("p",null,"No hay empresas que coincidan con los filtros aplicados.",-1)),c("button",{onClick:e[1]||(e[1]=b=>t.$emit("reset-filters")),class:"btn btn-secondary"},[x(d,{size:"16",class:"btn-icon"}),e[5]||(e[5]=V(" Limpiar filtros "))])])):(p(),y("div",mY,[c("div",pY,[x(u,{size:"48"})]),e[9]||(e[9]=c("h3",null,"No hay empresas",-1)),e[10]||(e[10]=c("p",null,"Aún no se han creado empresas en el sistema.",-1)),c("button",{onClick:e[2]||(e[2]=b=>t.$emit("add-empresa")),class:"btn btn-primary"},[x(f,{size:"16",class:"btn-icon"}),e[8]||(e[8]=V(" Crear empresa "))])]))])):(p(),y("div",gY,[c("table",bY,[e[11]||(e[11]=c("thead",null,[c("tr",null,[c("th",{class:"nombre-column"},"Nombre"),c("th",{class:"cif-column"},"CIF/NIF"),c("th",{class:"telefono-column"},"Teléfono"),c("th",{class:"email-column"},"Email"),c("th",{class:"actions-column"},"Acciones")])],-1)),c("tbody",null,[(p(!0),y(he,null,De(s.empresas,b=>(p(),y("tr",{key:b.id_empresa,class:"table-row"},[c("td",vY,S(b.nombre),1),c("td",yY,S(b.cif||"N/A"),1),c("td",_Y,S(b.telefono||"N/A"),1),c("td",EY,[c("div",wY,S(b.email||"N/A"),1)]),c("td",CY,[c("div",SY,[c("button",{onClick:v=>t.$emit("view-empresa",b),class:"btn-icon-only",title:"Ver detalles"},[x(h,{size:"18"})],8,xY),c("button",{onClick:v=>t.$emit("edit-empresa",b),class:"btn-icon-only",title:"Editar"},[x(m,{size:"18"})],8,kY),c("button",{onClick:v=>t.$emit("delete-empresa",b),class:"btn-icon-only btn-danger",title:"Eliminar"},[x(g,{size:"18"})],8,DY)])])]))),128))])])]))])}const TY=de(rY,[["render",AY],["__scopeId","data-v-58024d90"]]),MY={name:"EmpresaModal",components:{X:Xe,Save:wo,Edit:Tt,Loader:At},props:{empresa:{type:Object,default:()=>({nombre:"",cif:"",direccion:"",telefono:"",email:"",activo:!0})},isEdit:{type:Boolean,default:!1},viewMode:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["close","save","edit"],data(){return{form:{id_empresa:this.empresa.id_empresa||null,nombre:this.empresa.nombre||"",cif:this.empresa.cif||"",direccion:this.empresa.direccion||"",telefono:this.empresa.telefono||"",email:this.empresa.email||"",activo:this.empresa.activo!==void 0?this.empresa.activo:!0},validationErrors:{}}},computed:{isFormValid(){return this.form.nombre.trim()!==""&&this.form.cif.trim()!==""&&Object.keys(this.validationErrors).length===0},canEdit(){const{canWrite:t}=Em();return t("Empresas")||t("Master")}},watch:{empresa:{handler(t){this.form={id_empresa:t.id_empresa||null,nombre:t.nombre||"",cif:t.cif||"",direccion:t.direccion||"",telefono:t.telefono||"",email:t.email||"",activo:t.activo!==void 0?t.activo:!0},console.log("Empresa actualizada en modal:",t),console.log("Formulario actualizado:",this.form)},deep:!0,immediate:!0},"form.nombre":function(t){this.validateNombre(t)},"form.cif":function(t){this.validateCif(t)},"form.email":function(t){this.validateEmail(t)},"form.telefono":function(t){this.validateTelefono(t)}},methods:{validateNombre(t){t.trim()?t.length<3?this.validationErrors.nombre="El nombre debe tener al menos 3 caracteres":delete this.validationErrors.nombre:this.validationErrors.nombre="El nombre es obligatorio"},validateCif(t){t.trim()?/^[A-Z0-9]{9}$/i.test(t.trim())?delete this.validationErrors.cif:this.validationErrors.cif="El CIF/NIF debe tener 9 caracteres alfanuméricos":this.validationErrors.cif="El CIF/NIF es obligatorio"},validateEmail(t){t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?this.validationErrors.email="El email no es válido":delete this.validationErrors.email},validateTelefono(t){t&&!/^\d{9}$/.test(t.replace(/\s/g,""))?this.validationErrors.telefono="El teléfono debe tener 9 dígitos":delete this.validationErrors.telefono},handleSubmit(){if(this.validateNombre(this.form.nombre),this.validateCif(this.form.cif),this.validateEmail(this.form.email),this.validateTelefono(this.form.telefono),!this.isFormValid)return;console.log("Enviando formulario:",this.form);const t={...this.form};console.log("Datos finales a enviar:",t),this.$emit("save",t)}}},PY={class:"modal-backdrop"},IY={class:"modal-container"},FY={class:"modal-header"},RY={key:0},OY={key:1},NY={key:2},LY={class:"modal-body"},zY={key:0,class:"form-group"},$Y={class:"form-group"},VY=["disabled"],BY={key:0,class:"error-message"},UY={class:"form-group"},jY=["disabled"],HY={key:0,class:"error-message"},qY={class:"form-group"},WY=["disabled"],KY={key:0,class:"error-message"},GY={class:"form-group"},XY=["disabled"],ZY={key:0,class:"error-message"},YY={class:"form-group"},JY=["disabled"],QY={key:0,class:"error-message"},eJ={class:"modal-footer"},tJ=["disabled"];function sJ(t,e,s,o,n,i){const r=C("X"),a=C("Loader"),l=C("Save"),d=C("Edit");return p(),y("div",PY,[c("div",IY,[c("div",FY,[s.isEdit?s.viewMode?(p(),y("h3",OY,"Detalles de la empresa")):(p(),y("h3",NY,"Editar empresa")):(p(),y("h3",RY,"Nueva empresa")),c("button",{onClick:e[0]||(e[0]=u=>t.$emit("close")),class:"btn-close"},[x(r,{size:"20"})])]),c("div",LY,[c("form",{onSubmit:e[9]||(e[9]=Ve((...u)=>i.handleSubmit&&i.handleSubmit(...u),["prevent"]))},[s.isEdit?(p(),y("div",zY,[e[10]||(e[10]=c("label",{for:"id_empresa"},"ID",-1)),se(c("input",{type:"text",id:"id_empresa","onUpdate:modelValue":e[1]||(e[1]=u=>n.form.id_empresa=u),disabled:"",class:"form-control"},null,512),[[fe,n.form.id_empresa]])])):I("",!0),c("div",$Y,[e[11]||(e[11]=c("label",{for:"nombre"},"Nombre *",-1)),se(c("input",{type:"text",id:"nombre","onUpdate:modelValue":e[2]||(e[2]=u=>n.form.nombre=u),disabled:s.viewMode,class:"form-control",placeholder:"Nombre de la empresa",maxlength:"100"},null,8,VY),[[fe,n.form.nombre]]),n.validationErrors.nombre?(p(),y("div",BY,S(n.validationErrors.nombre),1)):I("",!0)]),c("div",UY,[e[12]||(e[12]=c("label",{for:"cif"},"CIF/NIF *",-1)),se(c("input",{type:"text",id:"cif","onUpdate:modelValue":e[3]||(e[3]=u=>n.form.cif=u),disabled:s.viewMode,class:"form-control",placeholder:"Ej: A12345678",maxlength:"9"},null,8,jY),[[fe,n.form.cif]]),n.validationErrors.cif?(p(),y("div",HY,S(n.validationErrors.cif),1)):I("",!0)]),c("div",qY,[e[13]||(e[13]=c("label",{for:"direccion"},"Dirección",-1)),se(c("textarea",{id:"direccion","onUpdate:modelValue":e[4]||(e[4]=u=>n.form.direccion=u),disabled:s.viewMode,class:"form-control",placeholder:"Dirección completa de la empresa",rows:"2",maxlength:"255"},null,8,WY),[[fe,n.form.direccion]]),n.validationErrors.direccion?(p(),y("div",KY,S(n.validationErrors.direccion),1)):I("",!0)]),c("div",GY,[e[14]||(e[14]=c("label",{for:"telefono"},"Teléfono",-1)),se(c("input",{type:"tel",id:"telefono","onUpdate:modelValue":e[5]||(e[5]=u=>n.form.telefono=u),disabled:s.viewMode,class:"form-control",placeholder:"Ej: 912345678",maxlength:"15"},null,8,XY),[[fe,n.form.telefono]]),n.validationErrors.telefono?(p(),y("div",ZY,S(n.validationErrors.telefono),1)):I("",!0)]),c("div",YY,[e[15]||(e[15]=c("label",{for:"email"},"Email",-1)),se(c("input",{type:"email",id:"email","onUpdate:modelValue":e[6]||(e[6]=u=>n.form.email=u),disabled:s.viewMode,class:"form-control",placeholder:"Ej: contacto@empresa.com",maxlength:"100"},null,8,JY),[[fe,n.form.email]]),n.validationErrors.email?(p(),y("div",QY,S(n.validationErrors.email),1)):I("",!0)]),c("div",eJ,[c("button",{type:"button",onClick:e[7]||(e[7]=u=>t.$emit("close")),class:"btn btn-secondary"},S(s.viewMode?"Cerrar":"Cancelar"),1),s.viewMode?I("",!0):(p(),y("button",{key:0,type:"submit",class:"btn btn-primary",disabled:!i.isFormValid||s.loading},[s.loading?(p(),q(a,{key:0,size:"16",class:"spinner"})):(p(),q(l,{key:1,size:"16",class:"btn-icon"})),V(" "+S(s.isEdit?"Actualizar":"Guardar"),1)],8,tJ)),s.viewMode&&i.canEdit?(p(),y("button",{key:1,type:"button",onClick:e[8]||(e[8]=u=>t.$emit("edit")),class:"btn btn-primary"},[x(d,{size:"16",class:"btn-icon"}),e[16]||(e[16]=V(" Editar "))])):I("",!0)])],32)])])])}const oJ=de(MY,[["render",sJ],["__scopeId","data-v-cee267d4"]]),nJ={name:"ConfirmDialog",components:{X:Xe,Loader:At},props:{title:{type:String,required:!0},message:{type:String,required:!0},confirmText:{type:String,default:"Confirmar"},confirmButtonClass:{type:String,default:"btn-primary"},processing:{type:Boolean,default:!1}},emits:["close","confirm"]},iJ={class:"confirm-dialog-backdrop"},rJ={class:"confirm-dialog"},aJ={class:"confirm-dialog-header"},lJ={class:"confirm-dialog-body"},cJ=["innerHTML"],dJ={class:"confirm-dialog-footer"},uJ=["disabled"],fJ=["disabled"],hJ={key:1};function mJ(t,e,s,o,n,i){const r=C("X"),a=C("Loader");return p(),y("div",iJ,[c("div",rJ,[c("div",aJ,[c("h3",null,S(s.title),1),c("button",{onClick:e[0]||(e[0]=l=>t.$emit("close")),class:"btn-close"},[x(r,{size:"20"})])]),c("div",lJ,[c("div",{innerHTML:s.message,class:"confirm-message"},null,8,cJ)]),c("div",dJ,[c("button",{onClick:e[1]||(e[1]=l=>t.$emit("close")),class:"btn btn-secondary",disabled:s.processing}," Cancelar ",8,uJ),c("button",{onClick:e[2]||(e[2]=l=>t.$emit("confirm")),class:j(["btn",s.confirmButtonClass||"btn-primary"]),disabled:s.processing},[s.processing?(p(),q(a,{key:0,size:"16",class:"spinner"})):(p(),y("span",hJ,S(s.confirmText||"Confirmar"),1))],10,fJ)])])])}const pJ=de(nJ,[["render",mJ],["__scopeId","data-v-67274e21"]]),gJ={name:"EmpresasView",components:{DefaultLayout:Yt,EmpresasHeader:JZ,EmpresasFiltros:iY,EmpresasTabla:TY,EmpresaModal:oJ,ConfirmDialog:pJ},data(){return{empresas:[],loading:!1,processingForm:!1,error:null,search:"",filters:{},pagination:{total:0,page:1,limit:10,totalPages:0,hasMore:!1},showModal:!1,isEdit:!1,viewMode:!1,selectedEmpresa:null,showConfirm:!1,confirmTitle:"",confirmMessage:"",confirmButtonText:"",confirmButtonClass:"",confirmCallback:null,processing:!1,empresasStore:null,notificationStore:null}},created(){this.empresasStore=ym(),this.notificationStore=X()},mounted(){this.fetchEmpresas()},methods:{updateSearch(t){this.search=t},updateFilters(t){this.filters=t},async fetchEmpresas(){this.loading=!0,this.error=null;try{const t={page:this.pagination.page,limit:this.pagination.limit,search:this.search,...this.filters};await this.empresasStore.fetchEmpresas(t),this.empresas=this.empresasStore.empresas,this.pagination=this.empresasStore.pagination,this.pagination.page>this.pagination.totalPages&&this.pagination.totalPages>0&&(this.pagination.page=1,this.fetchEmpresas())}catch(t){console.error("Error al cargar empresas:",t),this.error="Error al cargar las empresas. Por favor, inténtelo de nuevo."}finally{this.loading=!1}},resetFilters(){this.search="",this.filters={},this.pagination.page=1,this.fetchEmpresas()},changePage(t){this.pagination.page=t,this.fetchEmpresas()},openModal(t=null){this.selectedEmpresa=t?{...t}:{nombre:"",cif:"",direccion:"",telefono:"",email:"",activo:!0},this.isEdit=!!t,this.viewMode=!1,this.showModal=!0},viewEmpresa(t){this.selectedEmpresa={...t},this.isEdit=!0,this.viewMode=!0,this.showModal=!0},editEmpresa(t){this.selectedEmpresa=JSON.parse(JSON.stringify(t)),this.isEdit=!0,this.viewMode=!1,this.showModal=!0,console.log("Editando empresa:",this.selectedEmpresa)},editMode(){this.viewMode=!1},closeModal(){this.showModal=!1,this.selectedEmpresa=null},async saveEmpresa(t){this.processingForm=!0;try{console.log("Guardando empresa:",t),this.isEdit?await this.empresasStore.updateEmpresa(t.id_empresa,t):await this.empresasStore.createEmpresa(t),this.closeModal(),await this.fetchEmpresas()}catch(e){console.error("Error al guardar empresa:",e)}finally{this.processingForm=!1}},confirmDeleteEmpresa(t){console.log("Confirmando eliminación de empresa:",t),this.confirmTitle="Eliminar empresa",this.confirmMessage=`¿Está seguro de que desea eliminar la empresa <strong>${t.nombre}</strong>? Esta acción no se puede deshacer.`,this.confirmButtonText="Eliminar",this.confirmButtonClass="btn-danger",this.confirmCallback=async()=>{var e,s,o,n;try{this.processing=!0,console.log(`Eliminando empresa con ID ${t.id_empresa}`),await this.empresasStore.deleteEmpresa(t.id_empresa),console.log("Empresa eliminada correctamente"),await this.fetchEmpresas()}catch(i){console.error("Error al eliminar empresa:",i),((o=(s=(e=i.response)==null?void 0:e.data)==null?void 0:s.message)!=null&&o.includes("tiene empleados asociados")||(n=i.message)!=null&&n.includes("tiene empleados asociados"))&&console.error("La empresa tiene empleados asociados y no puede ser eliminada")}finally{this.processing=!1,this.closeConfirm()}},this.showConfirm=!0},confirmAction(){console.log("Confirmando acción"),this.confirmCallback?this.confirmCallback():console.error("No hay callback de confirmación definido")},closeConfirm(){this.showConfirm=!1,this.confirmCallback=null}}},bJ={class:"empresas-view"},vJ={class:"card"},yJ={key:0,class:"pagination-container"};function _J(t,e,s,o,n,i){const r=C("EmpresasHeader"),a=C("EmpresasFiltros"),l=C("EmpresasTabla"),d=C("EmpresasPaginacion"),u=C("EmpresaModal"),f=C("ConfirmDialog"),h=C("DefaultLayout");return p(),q(h,null,{default:Ee(()=>[c("div",bJ,[x(r,{onNuevaEmpresa:e[0]||(e[0]=m=>i.openModal())}),c("div",vJ,[x(a,{search:n.search,filters:n.filters,"onUpdate:search":i.updateSearch,"onUpdate:filters":i.updateFilters,onSearch:i.fetchEmpresas,onApplyFilters:i.fetchEmpresas,onResetFilters:i.resetFilters},null,8,["search","filters","onUpdate:search","onUpdate:filters","onSearch","onApplyFilters","onResetFilters"]),x(l,{loading:n.loading,error:n.error,empresas:n.empresas,filters:n.filters,onRetry:i.fetchEmpresas,onResetFilters:i.resetFilters,onViewEmpresa:i.viewEmpresa,onEditEmpresa:i.editEmpresa,onDeleteEmpresa:i.confirmDeleteEmpresa,onAddEmpresa:e[1]||(e[1]=m=>i.openModal())},null,8,["loading","error","empresas","filters","onRetry","onResetFilters","onViewEmpresa","onEditEmpresa","onDeleteEmpresa"]),n.empresas.length>0&&n.pagination.totalPages>1?(p(),y("div",yJ,[x(d,{pagination:n.pagination,loading:n.loading,onCambiarPagina:i.changePage},null,8,["pagination","loading","onCambiarPagina"])])):I("",!0)]),n.showModal?(p(),q(u,{key:0,empresa:n.selectedEmpresa,isEdit:n.isEdit,viewMode:n.viewMode,loading:n.processingForm,onClose:i.closeModal,onSave:i.saveEmpresa,onEdit:i.editMode},null,8,["empresa","isEdit","viewMode","loading","onClose","onSave","onEdit"])):I("",!0),n.showConfirm?(p(),q(f,{key:1,title:n.confirmTitle,message:n.confirmMessage,confirmText:n.confirmButtonText,confirmButtonClass:n.confirmButtonClass,processing:n.processing,onClose:i.closeConfirm,onConfirm:i.confirmAction},null,8,["title","message","confirmText","confirmButtonClass","processing","onClose","onConfirm"])):I("",!0)])]),_:1})}const EJ=de(gJ,[["render",_J],["__scopeId","data-v-4aba6725"]]),wJ={name:"ConveniosHeader",components:{PermissionCheck:Zo,Plus:Ps},emits:["nuevo-convenio"]},CJ={class:"page-header"};function SJ(t,e,s,o,n,i){const r=C("Plus"),a=C("permission-check");return p(),y("div",CJ,[e[2]||(e[2]=c("div",{class:"header-title"},[c("h1",null,"Convenios Colectivos"),c("p",{class:"text-muted"},"Gestión de convenios colectivos y sus categorías profesionales")],-1)),x(a,{permiso:{nombre:"Master",tipo:"Escritura"}},{default:Ee(()=>[c("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=l=>t.$emit("nuevo-convenio"))},[x(r,{size:"16",class:"btn-icon"}),e[1]||(e[1]=V(" Nuevo Convenio "))])]),_:1})])}const xJ=de(wJ,[["render",SJ],["__scopeId","data-v-b2f3ba07"]]),kJ={name:"ConveniosFiltros",components:{Search:In,RefreshCw:Ft},props:{search:{type:String,default:""},filters:{type:Object,required:!0}},emits:["update:search","search"],methods:{}},DJ={class:"card-header"},AJ={class:"filters"},TJ={class:"filter-group search-group"},MJ=["value"];function PJ(t,e,s,o,n,i){const r=C("Search");return p(),y("div",DJ,[c("div",AJ,[c("div",TJ,[x(r,{size:"16",class:"search-icon"}),c("input",{type:"text",value:s.search,onInput:e[0]||(e[0]=a=>{t.$emit("update:search",a.target.value),t.$emit("search")}),class:"form-control search-input",placeholder:"Buscar por nombre o código..."},null,40,MJ)])])])}const IJ=de(kJ,[["render",PJ],["__scopeId","data-v-de9a99fd"]]),FJ={name:"ConveniosTabla",components:{AlertTriangle:Ot,RefreshCw:Ft,FileSearch:wd,FilterX:Sd,FileX:X1,Plus:Ps,Eye:Ko,Edit:Tt,Trash2:Rt,FolderClosed:Cd,ChevronRight:Pn},props:{convenios:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},error:{type:String,default:null},filters:{type:Object,default:()=>({})}},emits:["retry","reset-filters","view-convenio","edit-convenio","delete-convenio","add-convenio"],computed:{hasFilters(){return this.filters?Object.values(this.filters).some(t=>t==null?!1:typeof t=="string"?t.trim()!=="":!0):!1}},methods:{getCategoriaCount(t){return t.CategoriaConvenios&&Array.isArray(t.CategoriaConvenios)?t.CategoriaConvenios.length:t.categorias_count!==void 0&&t.categorias_count!==null?typeof t.categorias_count=="number"?t.categorias_count:parseInt(t.categorias_count,10)||0:0}}},RJ={class:"convenios-tabla"},OJ={key:0,class:"loading-container"},NJ={key:1,class:"error-container"},LJ={class:"error-icon"},zJ={key:2,class:"empty-container"},$J={key:0,class:"empty-with-filters"},VJ={class:"empty-icon"},BJ={key:1,class:"empty-no-data"},UJ={class:"empty-icon"},jJ={key:3,class:"table-responsive"},HJ={class:"table"},qJ={class:"codigo-column"},WJ={class:"nombre-column"},KJ={class:"descripcion-column"},GJ={class:"descripcion-text"},XJ={class:"categorias-column"},ZJ={class:"actions-column"},YJ={class:"actions-buttons"},JJ=["onClick"],QJ=["onClick"],eQ=["onClick"];function tQ(t,e,s,o,n,i){const r=C("AlertTriangle"),a=C("RefreshCw"),l=C("FileSearch"),d=C("FilterX"),u=C("FileX"),f=C("Plus"),h=C("FolderClosed"),m=C("ChevronRight"),g=C("router-link"),b=C("Eye"),v=C("Edit"),w=C("Trash2");return p(),y("div",RJ,[s.loading?(p(),y("div",OJ,e[3]||(e[3]=[c("div",{class:"spinner"},null,-1),c("p",null,"Cargando convenios...",-1)]))):s.error?(p(),y("div",NJ,[c("div",LJ,[x(r,{size:"24"})]),c("p",null,S(s.error),1),c("button",{onClick:e[0]||(e[0]=E=>t.$emit("retry")),class:"btn btn-primary"},[x(a,{size:"16",class:"btn-icon"}),e[4]||(e[4]=V(" Reintentar "))])])):s.convenios.length===0?(p(),y("div",zJ,[i.hasFilters?(p(),y("div",$J,[c("div",VJ,[x(l,{size:"48"})]),e[6]||(e[6]=c("h3",null,"No se encontraron resultados",-1)),e[7]||(e[7]=c("p",null,"No hay convenios que coincidan con los filtros aplicados.",-1)),c("button",{onClick:e[1]||(e[1]=E=>t.$emit("reset-filters")),class:"btn btn-secondary"},[x(d,{size:"16",class:"btn-icon"}),e[5]||(e[5]=V(" Limpiar filtros "))])])):(p(),y("div",BJ,[c("div",UJ,[x(u,{size:"48"})]),e[9]||(e[9]=c("h3",null,"No hay convenios",-1)),e[10]||(e[10]=c("p",null,"Aún no se han creado convenios en el sistema.",-1)),c("button",{onClick:e[2]||(e[2]=E=>t.$emit("add-convenio")),class:"btn btn-primary"},[x(f,{size:"16",class:"btn-icon"}),e[8]||(e[8]=V(" Crear convenio "))])]))])):(p(),y("div",jJ,[c("table",HJ,[e[11]||(e[11]=c("thead",null,[c("tr",null,[c("th",{class:"codigo-column"},"Código"),c("th",{class:"nombre-column"},"Nombre"),c("th",{class:"descripcion-column"},"Descripción"),c("th",{class:"categorias-column"},"Categorías"),c("th",{class:"actions-column"},"Acciones")])],-1)),c("tbody",null,[(p(!0),y(he,null,De(s.convenios,E=>(p(),y("tr",{key:E.id_convenio,class:"table-row"},[c("td",qJ,S(E.codigo||"N/A"),1),c("td",WJ,S(E.nombre),1),c("td",KJ,[c("div",GJ,S(E.descripcion||"Sin descripción"),1)]),c("td",XJ,[x(g,{to:{name:"categorias-convenio",params:{idConvenio:E.id_convenio}},class:"btn-categorias"},{default:Ee(()=>[x(h,{class:"btn-icon-folder",size:"16"}),c("span",null,"Categorías ("+S(i.getCategoriaCount(E))+")",1),x(m,{class:"btn-icon-right",size:"14"})]),_:2},1032,["to"])]),c("td",ZJ,[c("div",YJ,[c("button",{onClick:_=>t.$emit("view-convenio",E),class:"btn-icon-only",title:"Ver detalles"},[x(b,{size:"18"})],8,JJ),c("button",{onClick:_=>t.$emit("edit-convenio",E),class:"btn-icon-only",title:"Editar"},[x(v,{size:"18"})],8,QJ),c("button",{onClick:_=>t.$emit("delete-convenio",E),class:"btn-icon-only btn-danger",title:"Eliminar"},[x(w,{size:"18"})],8,eQ)])])]))),128))])])]))])}const sQ=de(FJ,[["render",tQ],["__scopeId","data-v-eb7586dc"]]),oQ={name:"ConveniosPaginacion",components:{ChevronLeft:Xa,ChevronRight:Pn,ChevronsLeft:H1,ChevronsRight:q1},props:{pagination:{type:Object,required:!0},loading:{type:Boolean,default:!1}},emits:["cambiar-pagina"],computed:{startItem(){return(this.pagination.page-1)*this.pagination.limit+1},endItem(){const t=this.pagination.page*this.pagination.limit;return t>this.pagination.total?this.pagination.total:t},paginationRange(){const t=this.pagination.page,e=this.pagination.totalPages;if(e<=7)return Array.from({length:e},(i,r)=>r+1);let s=[1];t>3&&s.push("...");const o=Math.max(2,t-1),n=Math.min(e-1,t+1);for(let i=o;i<=n;i++)s.push(i);return t<e-2&&s.push("..."),e>1&&s.push(e),s}}},nQ={class:"pagination-container"},iQ={class:"pagination-info"},rQ={class:"pagination-controls"},aQ=["disabled"],lQ=["disabled"],cQ={class:"pagination-pages"},dQ=["onClick","disabled"],uQ={key:1,class:"pagination-ellipsis"},fQ=["disabled"],hQ=["disabled"];function mQ(t,e,s,o,n,i){const r=C("ChevronsLeft"),a=C("ChevronLeft"),l=C("ChevronRight"),d=C("ChevronsRight");return p(),y("div",nQ,[c("div",iQ,[c("span",null,"Mostrando "+S(i.startItem)+" - "+S(i.endItem)+" de "+S(s.pagination.total)+" resultados",1)]),c("div",rQ,[c("button",{onClick:e[0]||(e[0]=u=>t.$emit("cambiar-pagina",1)),class:"pagination-button",disabled:s.pagination.page===1||s.loading,title:"Primera página"},[x(r,{size:"16"})],8,aQ),c("button",{onClick:e[1]||(e[1]=u=>t.$emit("cambiar-pagina",s.pagination.page-1)),class:"pagination-button",disabled:s.pagination.page===1||s.loading,title:"Página anterior"},[x(a,{size:"16"})],8,lQ),c("div",cQ,[(p(!0),y(he,null,De(i.paginationRange,(u,f)=>(p(),y(he,{key:f},[u!=="..."?(p(),y("button",{key:0,onClick:h=>t.$emit("cambiar-pagina",u),class:j(["pagination-page",{active:u===s.pagination.page}]),disabled:s.loading},S(u),11,dQ)):(p(),y("span",uQ,"..."))],64))),128))]),c("button",{onClick:e[2]||(e[2]=u=>t.$emit("cambiar-pagina",s.pagination.page+1)),class:"pagination-button",disabled:s.pagination.page===s.pagination.totalPages||s.loading,title:"Página siguiente"},[x(l,{size:"16"})],8,fQ),c("button",{onClick:e[3]||(e[3]=u=>t.$emit("cambiar-pagina",s.pagination.totalPages)),class:"pagination-button",disabled:s.pagination.page===s.pagination.totalPages||s.loading,title:"Última página"},[x(d,{size:"16"})],8,hQ)])])}const pQ=de(oQ,[["render",mQ],["__scopeId","data-v-c5e91fb5"]]),gQ={name:"ConvenioModal",components:{X:Xe,Save:wo,Edit:Tt,Loader:At},props:{convenio:{type:Object,default:()=>({nombre:"",codigo:"",descripcion:""})},isEdit:{type:Boolean,default:!1},viewMode:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["close","save","edit"],data(){return{form:{id_convenio:this.convenio.id_convenio||null,nombre:this.convenio.nombre||"",codigo:this.convenio.codigo||"",descripcion:this.convenio.descripcion||""},validationErrors:{}}},computed:{isFormValid(){return this.form.nombre.trim()!==""&&Object.keys(this.validationErrors).length===0},canEdit(){const{canWrite:t}=Em();return t("Convenios")||t("Master")}},watch:{convenio:{handler(t){this.form={id_convenio:t.id_convenio||null,nombre:t.nombre||"",codigo:t.codigo||"",descripcion:t.descripcion||""},console.log("Convenio actualizado en modal:",t),console.log("Formulario actualizado:",this.form)},deep:!0,immediate:!0},"form.nombre":function(t){this.validateNombre(t)}},methods:{validateNombre(t){t.trim()?t.length<3?this.validationErrors.nombre="El nombre debe tener al menos 3 caracteres":delete this.validationErrors.nombre:this.validationErrors.nombre="El nombre es obligatorio"},handleSubmit(){if(this.validateNombre(this.form.nombre),!this.isFormValid)return;console.log("Enviando formulario:",this.form);const t={...this.form};console.log("Datos finales a enviar:",t),this.$emit("save",t)}}},bQ={class:"modal-backdrop"},vQ={class:"modal-container"},yQ={class:"modal-header"},_Q={key:0},EQ={key:1},wQ={key:2},CQ={class:"modal-body"},SQ={key:0,class:"form-group"},xQ={class:"form-group"},kQ=["disabled"],DQ={key:0,class:"error-message"},AQ={class:"form-group"},TQ=["disabled"],MQ={key:0,class:"error-message"},PQ={class:"form-group"},IQ=["disabled"],FQ={key:0,class:"error-message"},RQ={class:"modal-footer"},OQ=["disabled"];function NQ(t,e,s,o,n,i){const r=C("X"),a=C("Loader"),l=C("Save"),d=C("Edit");return p(),y("div",bQ,[c("div",vQ,[c("div",yQ,[s.isEdit?s.viewMode?(p(),y("h3",EQ,"Detalles del convenio")):(p(),y("h3",wQ,"Editar convenio")):(p(),y("h3",_Q,"Nuevo convenio")),c("button",{onClick:e[0]||(e[0]=u=>t.$emit("close")),class:"btn-close"},[x(r,{size:"20"})])]),c("div",CQ,[c("form",{onSubmit:e[7]||(e[7]=Ve((...u)=>i.handleSubmit&&i.handleSubmit(...u),["prevent"]))},[s.isEdit?(p(),y("div",SQ,[e[8]||(e[8]=c("label",{for:"id_convenio"},"ID",-1)),se(c("input",{type:"text",id:"id_convenio","onUpdate:modelValue":e[1]||(e[1]=u=>n.form.id_convenio=u),disabled:"",class:"form-control"},null,512),[[fe,n.form.id_convenio]])])):I("",!0),c("div",xQ,[e[9]||(e[9]=c("label",{for:"nombre"},"Nombre *",-1)),se(c("input",{type:"text",id:"nombre","onUpdate:modelValue":e[2]||(e[2]=u=>n.form.nombre=u),disabled:s.viewMode,class:"form-control",placeholder:"Nombre del convenio",maxlength:"100"},null,8,kQ),[[fe,n.form.nombre]]),n.validationErrors.nombre?(p(),y("div",DQ,S(n.validationErrors.nombre),1)):I("",!0)]),c("div",AQ,[e[10]||(e[10]=c("label",{for:"codigo"},"Código",-1)),se(c("input",{type:"text",id:"codigo","onUpdate:modelValue":e[3]||(e[3]=u=>n.form.codigo=u),disabled:s.viewMode,class:"form-control",placeholder:"Ej: CCOD-2023",maxlength:"20"},null,8,TQ),[[fe,n.form.codigo]]),n.validationErrors.codigo?(p(),y("div",MQ,S(n.validationErrors.codigo),1)):I("",!0)]),c("div",PQ,[e[11]||(e[11]=c("label",{for:"descripcion"},"Descripción",-1)),se(c("textarea",{id:"descripcion","onUpdate:modelValue":e[4]||(e[4]=u=>n.form.descripcion=u),disabled:s.viewMode,class:"form-control",placeholder:"Descripción del convenio",rows:"3",maxlength:"255"},null,8,IQ),[[fe,n.form.descripcion]]),n.validationErrors.descripcion?(p(),y("div",FQ,S(n.validationErrors.descripcion),1)):I("",!0)]),c("div",RQ,[c("button",{type:"button",onClick:e[5]||(e[5]=u=>t.$emit("close")),class:"btn btn-secondary"},S(s.viewMode?"Cerrar":"Cancelar"),1),s.viewMode?I("",!0):(p(),y("button",{key:0,type:"submit",class:"btn btn-primary",disabled:!i.isFormValid||s.loading},[s.loading?(p(),q(a,{key:0,size:"16",class:"spinner"})):(p(),q(l,{key:1,size:"16",class:"btn-icon"})),V(" "+S(s.isEdit?"Actualizar":"Guardar"),1)],8,OQ)),s.viewMode&&i.canEdit?(p(),y("button",{key:1,type:"button",onClick:e[6]||(e[6]=u=>t.$emit("edit")),class:"btn btn-primary"},[x(d,{size:"16",class:"btn-icon"}),e[12]||(e[12]=V(" Editar "))])):I("",!0)])],32)])])])}const LQ=de(gQ,[["render",NQ],["__scopeId","data-v-208ef1a8"]]),zQ={name:"ConfirmDialog",components:{X:Xe,Loader:At},props:{title:{type:String,required:!0},message:{type:String,required:!0},confirmText:{type:String,default:"Confirmar"},confirmButtonClass:{type:String,default:"btn-primary"},processing:{type:Boolean,default:!1}},emits:["close","confirm"]},$Q={class:"confirm-dialog-backdrop"},VQ={class:"confirm-dialog"},BQ={class:"confirm-dialog-header"},UQ={class:"confirm-dialog-body"},jQ=["innerHTML"],HQ={class:"confirm-dialog-footer"},qQ=["disabled"],WQ=["disabled"],KQ={key:1};function GQ(t,e,s,o,n,i){const r=C("X"),a=C("Loader");return p(),y("div",$Q,[c("div",VQ,[c("div",BQ,[c("h3",null,S(s.title),1),c("button",{onClick:e[0]||(e[0]=l=>t.$emit("close")),class:"btn-close"},[x(r,{size:"20"})])]),c("div",UQ,[c("div",{innerHTML:s.message,class:"confirm-message"},null,8,jQ)]),c("div",HQ,[c("button",{onClick:e[1]||(e[1]=l=>t.$emit("close")),class:"btn btn-secondary",disabled:s.processing}," Cancelar ",8,qQ),c("button",{onClick:e[2]||(e[2]=l=>t.$emit("confirm")),class:j(["btn",s.confirmButtonClass||"btn-primary"]),disabled:s.processing},[s.processing?(p(),q(a,{key:0,size:"16",class:"spinner"})):(p(),y("span",KQ,S(s.confirmText||"Confirmar"),1))],10,WQ)])])])}const XQ=de(zQ,[["render",GQ],["__scopeId","data-v-8975cd07"]]),ZQ={name:"ConveniosView",components:{DefaultLayout:Yt,ConveniosHeader:xJ,ConveniosFiltros:IJ,ConveniosTabla:sQ,ConveniosPaginacion:pQ,ConvenioModal:LQ,ConfirmDialog:XQ},data(){return{convenios:[],loading:!1,processingForm:!1,error:null,search:"",filters:{},pagination:{total:0,page:1,limit:10,totalPages:0},showModal:!1,isEdit:!1,viewMode:!1,selectedConvenio:null,showConfirmDialog:!1,confirmTitle:"",confirmMessage:"",confirmButtonText:"",confirmButtonClass:"",confirmCallback:null,processing:!1,conveniosStore:null,notificationStore:null}},created(){this.conveniosStore=Ki(),this.notificationStore=X()},mounted(){this.fetchConvenios()},methods:{updateSearch(t){this.search=t},async fetchConvenios(){this.loading=!0,this.error=null;try{const t={page:this.pagination.page,limit:this.pagination.limit,search:this.search,...this.filters};await this.conveniosStore.fetchConvenios(t),this.convenios=this.conveniosStore.convenios,this.pagination={total:this.convenios.length,page:1,limit:10,totalPages:Math.ceil(this.convenios.length/10)},this.pagination.page>this.pagination.totalPages&&this.pagination.totalPages>0&&(this.pagination.page=1,this.fetchConvenios())}catch(t){console.error("Error al cargar convenios:",t),this.error="Error al cargar los convenios. Por favor, inténtelo de nuevo."}finally{this.loading=!1}},resetFilters(){this.search="",this.filters={},this.pagination.page=1,this.fetchConvenios()},changePage(t){this.pagination.page=t,this.fetchConvenios()},openModal(t=null){this.selectedConvenio=t?{...t}:{nombre:"",codigo:"",descripcion:""},this.isEdit=!!t,this.viewMode=!1,this.showModal=!0},viewConvenio(t){this.selectedConvenio={...t},this.isEdit=!0,this.viewMode=!0,this.showModal=!0},editConvenio(t){this.selectedConvenio=JSON.parse(JSON.stringify(t)),this.isEdit=!0,this.viewMode=!1,this.showModal=!0},editMode(){this.viewMode=!1},closeModal(){this.showModal=!1,this.selectedConvenio=null},async saveConvenio(t){this.processingForm=!0;try{this.isEdit?await this.conveniosStore.updateConvenio(t.id_convenio,t):await this.conveniosStore.createConvenio(t),this.closeModal(),await this.fetchConvenios()}catch(e){console.error("Error al guardar convenio:",e)}finally{this.processingForm=!1}},confirmDeleteConvenio(t){this.selectedConvenio=t,this.confirmTitle="Eliminar convenio",this.confirmMessage=`¿Está seguro de que desea eliminar el convenio <strong>${t.nombre}</strong>? Esta acción no se puede deshacer.`,this.confirmButtonText="Eliminar",this.confirmButtonClass="btn-danger",this.confirmCallback=async()=>{try{this.processing=!0,await this.conveniosStore.deleteConvenio(t.id_convenio),await this.fetchConvenios()}catch(e){console.error("Error al eliminar convenio:",e)}finally{this.processing=!1,this.closeConfirmDialog()}},this.showConfirmDialog=!0},confirmAction(){this.confirmCallback&&this.confirmCallback()},closeConfirmDialog(){this.showConfirmDialog=!1,this.confirmCallback=null}}},YQ={class:"convenios-view"},JQ={class:"card"},QQ={key:0,class:"pagination-container"};function eee(t,e,s,o,n,i){const r=C("ConveniosHeader"),a=C("ConveniosFiltros"),l=C("ConveniosTabla"),d=C("ConveniosPaginacion"),u=C("ConvenioModal"),f=C("ConfirmDialog"),h=C("DefaultLayout");return p(),q(h,null,{default:Ee(()=>[c("div",YQ,[x(r,{onNuevoConvenio:e[0]||(e[0]=m=>i.openModal())}),c("div",JQ,[x(a,{search:n.search,filters:n.filters,"onUpdate:search":i.updateSearch,onSearch:i.fetchConvenios},null,8,["search","filters","onUpdate:search","onSearch"]),x(l,{loading:n.loading,error:n.error,convenios:n.convenios,filters:n.filters,onRetry:i.fetchConvenios,onResetFilters:i.resetFilters,onViewConvenio:i.viewConvenio,onEditConvenio:i.editConvenio,onDeleteConvenio:i.confirmDeleteConvenio,onAddConvenio:e[1]||(e[1]=m=>i.openModal())},null,8,["loading","error","convenios","filters","onRetry","onResetFilters","onViewConvenio","onEditConvenio","onDeleteConvenio"]),n.convenios.length>0&&n.pagination.totalPages>1?(p(),y("div",QQ,[x(d,{pagination:n.pagination,loading:n.loading,onCambiarPagina:i.changePage},null,8,["pagination","loading","onCambiarPagina"])])):I("",!0)]),n.showModal?(p(),q(u,{key:0,convenio:n.selectedConvenio,isEdit:n.isEdit,viewMode:n.viewMode,loading:n.processingForm,onClose:i.closeModal,onSave:i.saveConvenio,onEdit:i.editMode},null,8,["convenio","isEdit","viewMode","loading","onClose","onSave","onEdit"])):I("",!0),n.showConfirmDialog?(p(),q(f,{key:1,title:n.confirmTitle,message:n.confirmMessage,confirmText:n.confirmButtonText,confirmButtonClass:n.confirmButtonClass,processing:n.processing,onClose:i.closeConfirmDialog,onConfirm:i.confirmAction},null,8,["title","message","confirmText","confirmButtonClass","processing","onClose","onConfirm"])):I("",!0)])]),_:1})}const tee=de(ZQ,[["render",eee],["__scopeId","data-v-47647c5c"]]),see={name:"CategoriasConveniosView",components:{DefaultLayout:Yt,PermissionCheck:Zo,LoadingSpinner:rs,PlusCircle:K1,Edit:Tt,Trash2:Rt,FolderClosed:Cd,ArrowLeft:Er,X:Xe,AlertTriangle:Ot,RefreshCw:Ft,WifiOff:WT},props:{idConvenio:{type:[Number,String],required:!0}},data(){return{categorias:[],loading:!1,error:null,showModal:!1,showDeleteModal:!1,isEditing:!1,saving:!1,deleting:!1,categoriaToDelete:null,categoriaForm:{nombre:"",descripcion:"",id_convenio:null},conveniosStore:null,categoriasStore:null,notificationStore:null,isServerAvailable:!0}},computed:{convenioId(){return Number(this.idConvenio)},currentConvenio(){var t;return((t=this.conveniosStore)==null?void 0:t.getConvenioById(this.convenioId))||null}},created(){this.conveniosStore=Ki(),this.categoriasStore=_m(),this.notificationStore=X()},mounted(){this.loadData()},methods:{async loadData(){this.loading=!0,this.error=null;try{this.currentConvenio||await this.conveniosStore.fetchConvenioById(this.convenioId),this.categorias=await this.categoriasStore.fetchCategoriasByConvenio(this.convenioId),this.conveniosStore.updateCategorias(this.convenioId,this.categorias)}catch(t){console.error("Error al cargar datos:",t),this.error=t.message||"Error al cargar los datos. Por favor, intente nuevamente.",this.notificationStore.error(this.error,"Error")}finally{this.loading=!1}},goBack(){this.$router.push("/convenios")},showCreateModal(){this.loading||(this.isEditing=!1,this.categoriaForm={nombre:"",descripcion:"",id_convenio:this.convenioId},this.showModal=!0)},editCategoria(t){this.loading||(this.isEditing=!0,this.categoriaForm={...t},this.showModal=!0)},closeModal(){this.showModal=!1},async saveCategoria(){const t=X(),e=Ki();if(!this.isServerAvailable){t.error("No se pueden guardar categorías mientras el servidor no esté disponible","Error de conexión");return}if(!this.categoriaForm.nombre){t.error("El nombre de la categoría es obligatorio","Error de validación");return}if(!this.categoriaForm.descripcion){t.error("La descripcion es obligatorio","Error de validación");return}this.saving=!0;try{if(this.isEditing)await this.categoriasStore.updateCategoria(this.categoriaForm.id_categoria,this.categoriaForm),t.success(`¡Categoría "${this.categoriaForm.nombre}" actualizada correctamente!`,"Categoría actualizada");else{const s=await this.categoriasStore.createCategoria(this.categoriaForm);t.success(`¡Categoría "${s.nombre}" creada correctamente!`,"Categoría creada")}this.closeModal(),await this.loadData(),await e.fetchConvenioById(this.convenioId)}catch(s){console.error("Error al guardar la categoría:",s);let o="Error al guardar la categoría";s.code==="ERR_NETWORK"?(this.isServerAvailable=!1,o="No se pudo establecer conexión con el servidor"):s.response&&s.response.data&&s.response.data.message?o=s.response.data.message:s.message&&(o=s.message),t.error(o,"Error al guardar")}finally{this.saving=!1}},confirmDelete(t){this.loading||(this.categoriaToDelete=t,this.showDeleteModal=!0)},closeDeleteModal(){this.showDeleteModal=!1,this.categoriaToDelete=null},async deleteCategoria(){const t=X(),e=Ki();if(!this.isServerAvailable){t.error("No se pueden eliminar categorías mientras el servidor no esté disponible","Error de conexión");return}if(this.categoriaToDelete){this.deleting=!0;try{await this.categoriasStore.deleteCategoria(this.categoriaToDelete.id_categoria),t.success(`Categoría "${this.categoriaToDelete.nombre}" eliminada correctamente`,"Categoría eliminada"),this.closeDeleteModal(),await this.loadData(),await e.fetchConvenioById(this.convenioId)}catch(s){console.error("Error al eliminar la categoría:",s);let o="Error al eliminar la categoría";s.code==="ERR_NETWORK"?(this.isServerAvailable=!1,o="No se pudo establecer conexión con el servidor"):s.response&&s.response.data&&s.response.data.message?o=s.response.data.message:s.message&&(o=s.message),t.error(o,"Error al eliminar")}finally{this.deleting=!1}}},closeModals(){this.closeModal(),this.closeDeleteModal()}},beforeUnmount(){this.closeModals()}},oee={class:"categorias-page"},nee={class:"page-header"},iee={class:"page-header-left"},ree={class:"page-title"},aee={class:"page-actions"},lee=["disabled"],cee={class:"card"},dee={class:"card-body"},uee={key:0,class:"loading-container"},fee={key:1,class:"error-message"},hee={class:"error-details"},mee={key:2,class:"error-message"},pee={class:"error-details"},gee={key:3,class:"empty-state"},bee=["disabled"],vee={key:4,class:"table-container"},yee={class:"data-table"},_ee={class:"action-buttons"},Eee=["onClick","disabled"],wee=["onClick","disabled"],Cee={key:0,class:"modal-overlay"},See={class:"modal-container"},xee={class:"modal-header"},kee={class:"modal-body"},Dee={class:"form-group"},Aee={class:"form-group"},Tee={class:"modal-footer"},Mee=["disabled"],Pee={key:1,class:"modal-overlay"},Iee={class:"modal-container"},Fee={class:"modal-header"},Ree={class:"modal-body"},Oee={class:"modal-footer"},Nee=["disabled"];function Lee(t,e,s,o,n,i){const r=C("ArrowLeft"),a=C("PlusCircle"),l=C("permission-check"),d=C("loading-spinner"),u=C("AlertTriangle"),f=C("RefreshCw"),h=C("FolderClosed"),m=C("Edit"),g=C("Trash2"),b=C("X"),v=C("DefaultLayout");return p(),q(v,null,{default:Ee(()=>{var w;return[c("div",oee,[c("div",nee,[c("div",iee,[c("button",{onClick:e[0]||(e[0]=(...E)=>i.goBack&&i.goBack(...E)),class:"btn-back"},[x(r,{size:"18"})]),c("h1",ree," Categorías de "+S(i.currentConvenio?i.currentConvenio.nombre:"Convenio"),1)]),c("div",aee,[x(l,{permiso:{nombre:"Master",tipo:"Escritura"}},{default:Ee(()=>[c("button",{onClick:e[1]||(e[1]=(...E)=>i.showCreateModal&&i.showCreateModal(...E)),class:"btn-primary",disabled:n.loading},[x(a,{size:"18",class:"btn-icon-primary"}),e[14]||(e[14]=V(" Nueva Categoría "))],8,lee)]),_:1})])]),c("div",cee,[c("div",dee,[n.loading?(p(),y("div",uee,[x(d,{message:"Cargando categorías..."})])):n.error?(p(),y("div",fee,[c("div",hee,[x(u,{size:"24",class:"error-icon"}),c("p",null,S(n.error),1),c("button",{onClick:e[2]||(e[2]=(...E)=>i.loadData&&i.loadData(...E)),class:"btn-retry"},[x(f,{size:"16",class:"btn-icon"}),e[15]||(e[15]=V(" Reintentar "))])])])):i.currentConvenio?n.categorias.length===0?(p(),y("div",gee,[x(h,{size:"48",class:"empty-icon"}),e[18]||(e[18]=c("h3",null,"No hay categorías registradas en este convenio",-1)),e[19]||(e[19]=c("p",null,"Comienza creando una nueva categoría",-1)),c("button",{onClick:e[4]||(e[4]=(...E)=>i.showCreateModal&&i.showCreateModal(...E)),class:"btn-primary mt-4",disabled:n.loading},[x(a,{size:"18",class:"btn-icon-primary"}),e[17]||(e[17]=V(" Nueva Categoría "))],8,bee)])):(p(),y("div",vee,[c("table",yee,[e[20]||(e[20]=c("thead",null,[c("tr",null,[c("th",null,"ID"),c("th",null,"Nombre"),c("th",null,"Descripción"),c("th",null,"Acciones")])],-1)),c("tbody",null,[(p(!0),y(he,null,De(n.categorias,E=>(p(),y("tr",{key:E.id_categoria},[c("td",null,S(E.id_categoria),1),c("td",null,S(E.nombre),1),c("td",null,S(E.descripcion||"N/A"),1),c("td",null,[c("div",_ee,[x(l,{permiso:{nombre:"Master",tipo:"Escritura"}},{default:Ee(()=>[c("button",{onClick:_=>i.editCategoria(E),class:"btn-icon-only",title:"Editar",disabled:n.loading},[x(m,{size:"16"})],8,Eee),c("button",{onClick:_=>i.confirmDelete(E),class:"btn-icon btn-danger",title:"Eliminar",disabled:n.loading},[x(g,{size:"16"})],8,wee)]),_:2},1024)])])]))),128))])])])):(p(),y("div",mee,[c("div",pee,[x(u,{size:"24",class:"error-icon"}),e[16]||(e[16]=c("p",null,"Convenio no encontrado",-1)),c("button",{onClick:e[3]||(e[3]=(...E)=>i.goBack&&i.goBack(...E)),class:"btn-secondary"}," Volver a convenios ")])]))])]),n.showModal?(p(),y("div",Cee,[c("div",See,[c("div",xee,[c("h2",null,S(n.isEditing?"Editar Categoría":"Nueva Categoría"),1),c("button",{onClick:e[5]||(e[5]=(...E)=>i.closeModal&&i.closeModal(...E)),class:"modal-close"},[x(b,{size:"18"})])]),c("div",kee,[c("form",{onSubmit:e[8]||(e[8]=Ve((...E)=>i.saveCategoria&&i.saveCategoria(...E),["prevent"])),class:"form"},[c("div",Dee,[e[21]||(e[21]=c("label",{for:"nombre",class:"form-label"},"Nombre",-1)),se(c("input",{id:"nombre","onUpdate:modelValue":e[6]||(e[6]=E=>n.categoriaForm.nombre=E),type:"text",class:"form-input",required:""},null,512),[[fe,n.categoriaForm.nombre]])]),c("div",Aee,[e[22]||(e[22]=c("label",{for:"descripcion",class:"form-label"},"Descripción",-1)),se(c("textarea",{id:"descripcion","onUpdate:modelValue":e[7]||(e[7]=E=>n.categoriaForm.descripcion=E),class:"form-textarea",rows:"3"},null,512),[[fe,n.categoriaForm.descripcion]])])],32)]),c("div",Tee,[c("button",{onClick:e[9]||(e[9]=(...E)=>i.closeModal&&i.closeModal(...E)),class:"btn-secondary"},"Cancelar"),c("button",{onClick:e[10]||(e[10]=(...E)=>i.saveCategoria&&i.saveCategoria(...E)),class:"btn-primary",disabled:n.saving},S(n.saving?"Guardando...":"Guardar"),9,Mee)])])])):I("",!0),n.showDeleteModal?(p(),y("div",Pee,[c("div",Iee,[c("div",Fee,[e[23]||(e[23]=c("h2",null,"Confirmar eliminación",-1)),c("button",{onClick:e[11]||(e[11]=(...E)=>i.closeDeleteModal&&i.closeDeleteModal(...E)),class:"modal-close"},[x(b,{size:"18"})])]),c("div",Ree,[c("p",null,[e[24]||(e[24]=V("¿Está seguro que desea eliminar la categoría ")),c("strong",null,S((w=n.categoriaToDelete)==null?void 0:w.nombre),1),e[25]||(e[25]=V("?"))]),e[26]||(e[26]=c("p",{class:"text-danger"},"Esta acción no se puede deshacer.",-1))]),c("div",Oee,[c("button",{onClick:e[12]||(e[12]=(...E)=>i.closeDeleteModal&&i.closeDeleteModal(...E)),class:"btn-secondary"},"Cancelar"),c("button",{onClick:e[13]||(e[13]=(...E)=>i.deleteCategoria&&i.deleteCategoria(...E)),class:"btn-danger",disabled:n.deleting},S(n.deleting?"Eliminando...":"Eliminar"),9,Nee)])])])):I("",!0)])]}),_:1})}const zee=de(see,[["render",Lee],["__scopeId","data-v-5eff89c4"]]),$ee={name:"Unauthorized",components:{Shield:wr}},Vee={class:"unauthorized-page"},Bee={class:"error-container"},Uee={class:"error-icon"},jee={class:"error-actions"};function Hee(t,e,s,o,n,i){const r=C("Shield"),a=C("router-link");return p(),y("div",Vee,[c("div",Bee,[c("div",Uee,[x(r,{size:"64"})]),e[1]||(e[1]=c("h1",{class:"error-title"},"Acceso Denegado",-1)),e[2]||(e[2]=c("p",{class:"error-message"}," No tiene permisos para acceder a esta página. ",-1)),c("div",jee,[x(a,{to:"/",class:"btn btn-primary"},{default:Ee(()=>e[0]||(e[0]=[V(" Volver al Dashboard ")])),_:1})])])])}const qee=de($ee,[["render",Hee],["__scopeId","data-v-494fef71"]]),Wee={name:"NotFound"},Kee={class:"not-found-page"},Gee={class:"error-container"},Xee={class:"error-actions"};function Zee(t,e,s,o,n,i){const r=C("router-link");return p(),y("div",Kee,[c("div",Gee,[e[1]||(e[1]=c("div",{class:"error-code"},"404",-1)),e[2]||(e[2]=c("h1",{class:"error-title"},"Página no encontrada",-1)),e[3]||(e[3]=c("p",{class:"error-message"}," La página que está buscando no existe o ha sido movida. ",-1)),c("div",Xee,[x(r,{to:"/",class:"btn btn-primary"},{default:Ee(()=>e[0]||(e[0]=[V(" Volver al Dashboard ")])),_:1})])])])}const Yee=de(Wee,[["render",Zee],["__scopeId","data-v-2839b8ef"]]),St={getInformesDisponibles(){return $.get("/informes/disponibles")},getOpcionesDepartamentos(){return $.get("/informes/opciones/departamentos")},getOpcionesCentros(){return $.get("/informes/opciones/centros")},getOpcionesZonas(){return $.get("/informes/opciones/zonas")},getOpcionesEmpresas(){return $.get("/informes/opciones/empresas")},getEmpleadosActivos(){return $.get("/informes/empleados/estado/activos",{responseType:"blob"})},getEmpleadosInactivos(){return $.get("/informes/empleados/estado/inactivos",{responseType:"blob"})},getEmpleadosPorDepartamentoGeneral(){return $.get("/informes/empleados/departamento/general",{responseType:"blob"})},getEmpleadosPorDepartamentoEspecifico(t){return $.get(`/informes/empleados/departamento/${t}`,{responseType:"blob"})},getEmpleadosPorCentroGeneral(){return $.get("/informes/empleados/centro/general",{responseType:"blob"})},getEmpleadosPorCentroEspecifico(t){return $.get(`/informes/empleados/centro/${t}`,{responseType:"blob"})},getEmpleadosPorZonaGeneral(){return $.get("/informes/empleados/zona/general",{responseType:"blob"})},getEmpleadosPorZonaEspecifica(t){return $.get(`/informes/empleados/zona/${t}`,{responseType:"blob"})},getEmpleadosPorEmpresaGeneral(){return $.get("/informes/empleados/empresa/general",{responseType:"blob"})},getEmpleadosPorEmpresaEspecifica(t){return $.get(`/informes/empleados/empresa/${t}`,{responseType:"blob"})},getCumpleanosPorRango(t,e){return $.get("/informes/especiales/cumpleanos/rango",{params:{fechaInicio:t,fechaFin:e},responseType:"blob"})},getInformeContactos(){return $.get("/informes/especiales/contactos",{responseType:"blob"})},getDashboardEjecutivo(){return $.get("/informes/dashboard/ejecutivo",{responseType:"blob"})}},Jee=wt("informes",{state:()=>({informesDisponibles:[],opcionesDepartamentos:[],opcionesCentros:[],opcionesZonas:[],opcionesEmpresas:[],loading:!1,error:null,generandoInforme:!1}),getters:{getTotalInformes:t=>t.informesDisponibles.reduce((e,s)=>{var o;return e+(((o=s.informes)==null?void 0:o.length)||0)},0)},actions:{async fetchInformesDisponibles(){this.loading=!0,this.error=null;try{try{const e=(await St.getInformesDisponibles()).data;if(e.success)return this.informesDisponibles=e.data.informes||[],console.log("Informes cargados desde API:",this.informesDisponibles),e.data.informes||[];throw new Error(e.message||"Error al cargar informes disponibles")}catch(t){throw console.error("Error al cargar informes desde API:",t),t}}catch{console.log("Usando datos mock para informes");const e=this.getMockInformes();return this.informesDisponibles=e,e}finally{this.loading=!1}},async fetchOpcionesDepartamentos(){try{const e=(await St.getOpcionesDepartamentos()).data;if(e.success){const s=e.data.departamentos||[];return this.opcionesDepartamentos=s,s}else throw new Error(e.message||"Error al cargar departamentos")}catch{console.log("Usando datos mock para departamentos");const e=[{id:1,nombre:"Recursos Humanos",total_empleados:15},{id:2,nombre:"Desarrollo",total_empleados:25},{id:3,nombre:"Marketing",total_empleados:12}];return this.opcionesDepartamentos=e,e}},async fetchOpcionesCentros(){try{const e=(await St.getOpcionesCentros()).data;if(e.success){const s=e.data.centros||[];return this.opcionesCentros=s,s}else throw new Error(e.message||"Error al cargar centros")}catch{console.log("Usando datos mock para centros");const e=[{id:1,nombre:"Centro Madrid",total_empleados:45},{id:2,nombre:"Centro Barcelona",total_empleados:32},{id:3,nombre:"Centro Valencia",total_empleados:28}];return this.opcionesCentros=e,e}},async fetchOpcionesZonas(){try{const e=(await St.getOpcionesZonas()).data;if(e.success){const s=e.data.zonas||[];return this.opcionesZonas=s,s}else throw new Error(e.message||"Error al cargar zonas")}catch{console.log("Usando datos mock para zonas");const e=[{id:1,nombre:"Zona Norte",total_empleados:65,total_centros:3},{id:2,nombre:"Zona Sur",total_empleados:48,total_centros:2},{id:3,nombre:"Zona Este",total_empleados:52,total_centros:2}];return this.opcionesZonas=e,e}},async fetchOpcionesEmpresas(){try{const e=(await St.getOpcionesEmpresas()).data;if(e.success){const s=e.data.empresas||[];return this.opcionesEmpresas=s,s}else throw new Error(e.message||"Error al cargar empresas")}catch{console.log("Usando datos mock para empresas");const e=[{id:1,nombre:"Empresa Principal S.A.",total_empleados:120,total_contratos:95},{id:2,nombre:"Filial Norte S.L.",total_empleados:45,total_contratos:38},{id:3,nombre:"Subsidiaria Este S.A.",total_empleados:67,total_contratos:52}];return this.opcionesEmpresas=e,e}},async generarInforme(t,e={}){this.generandoInforme=!0,this.error=null;try{console.log(`Generando informe: ${t}`,e),await new Promise(s=>setTimeout(s,1500));try{let s;const o=typeof t=="string"?t:t.id;switch(o){case"empleados-activos":s=await St.getEmpleadosActivos();break;case"empleados-inactivos":s=await St.getEmpleadosInactivos();break;case"departamento-general":s=await St.getEmpleadosPorDepartamentoGeneral();break;case"departamento-especifico":s=await St.getEmpleadosPorDepartamentoEspecifico(e.id);break;case"centro-general":s=await St.getEmpleadosPorCentroGeneral();break;case"centro-especifico":s=await St.getEmpleadosPorCentroEspecifico(e.id);break;case"zona-general":s=await St.getEmpleadosPorZonaGeneral();break;case"zona-especifica":s=await St.getEmpleadosPorZonaEspecifica(e.id);break;case"empresa-general":s=await St.getEmpleadosPorEmpresaGeneral();break;case"empresa-especifica":s=await St.getEmpleadosPorEmpresaEspecifica(e.id);break;case"cumpleanos-rango":s=await St.getCumpleanosPorRango(e.fechaInicio,e.fechaFin);break;case"directorio-contactos":s=await St.getInformeContactos();break;case"dashboard-ejecutivo":s=await St.getDashboardEjecutivo();break;default:throw new Error(`Tipo de informe no reconocido: ${o}`)}const n=new Blob([s.data],{type:"application/pdf"}),i=window.URL.createObjectURL(n),r=document.createElement("a");r.href=i;const a=new Date().toISOString().split("T")[0],l=this.getNombreInforme(o,e);r.download=`${l}_${a}.pdf`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(i)}catch{console.log("API no disponible, simulando descarga de informe"),this.simularDescargaPDF(t,e)}return!0}catch(s){return console.error("Error al generar informe:",s),this.error=s.message||"Error al generar el informe",this.simularDescargaPDF(t,e),!0}finally{this.generandoInforme=!1}},simularDescargaPDF(t,e={}){console.log("Simulando descarga de PDF",t,e);const s=this.generarContenidoSimulado(t,e),o=new Blob([s],{type:"text/plain"}),n=window.URL.createObjectURL(o),i=document.createElement("a");i.href=n;const r=new Date().toISOString().split("T")[0],a=this.getNombreInforme(t,e);i.download=`${a}_${r}_SIMULADO.txt`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)},generarContenidoSimulado(t,e){const s=new Date().toLocaleDateString("es-ES"),o=new Date().toLocaleTimeString("es-ES"),n=typeof t=="string"?t:t.id;return`
INFORME SIMULADO - SISTEMA SGRH
================================

Tipo de Informe: ${this.getNombreInforme(n,e)}
Fecha de Generación: ${s}
Hora de Generación: ${o}
ID del Informe: ${n}

Parámetros utilizados:
${JSON.stringify(e,null,2)}

NOTA: Este es un archivo simulado generado para propósitos de desarrollo.
En el entorno de producción, este archivo contendría el informe real en formato PDF.

Contenido del informe:
- Datos de empleados
- Estadísticas relevantes
- Gráficos y tablas
- Información detallada según el tipo de informe seleccionado

Para más información, contacte con el administrador del sistema.
      `},getMockInformes(){return[{categoria:"Empleados",informes:[{id:"empleados-activos",nombre:"Empleados Activos",descripcion:"Listado completo de todos los empleados activos en la empresa",parametros:[]},{id:"empleados-inactivos",nombre:"Empleados Inactivos",descripcion:"Listado de empleados que han sido dados de baja",parametros:[]}]},{categoria:"Departamentos",informes:[{id:"departamento-general",nombre:"Informe General por Departamentos",descripcion:"Resumen de empleados agrupados por departamento",parametros:[]},{id:"departamento-especifico",nombre:"Informe de Departamento Específico",descripcion:"Detalle de empleados de un departamento en particular",parametros:["Departamento"]}]},{categoria:"Centros",informes:[{id:"centro-general",nombre:"Informe General por Centros",descripcion:"Resumen de empleados agrupados por centro de trabajo",parametros:[]},{id:"centro-especifico",nombre:"Informe de Centro Específico",descripcion:"Detalle de empleados de un centro en particular",parametros:["Centro"]}]},{categoria:"Zonas",informes:[{id:"zona-general",nombre:"Informe General por Zonas",descripcion:"Resumen de empleados agrupados por zona geográfica",parametros:[]},{id:"zona-especifica",nombre:"Informe de Zona Específica",descripcion:"Detalle de empleados de una zona en particular",parametros:["Zona"]}]},{categoria:"Empresas",informes:[{id:"empresa-general",nombre:"Informe General por Empresas",descripcion:"Resumen de empleados agrupados por empresa",parametros:[]},{id:"empresa-especifica",nombre:"Informe de Empresa Específica",descripcion:"Detalle de empleados de una empresa en particular",parametros:["Empresa"]}]},{categoria:"Especiales",informes:[{id:"cumpleanos-rango",nombre:"Cumpleaños por Rango de Fechas",descripcion:"Listado de empleados que cumplen años en un período específico",parametros:["Fecha Inicio","Fecha Fin"]},{id:"directorio-contactos",nombre:"Directorio de Contactos",descripcion:"Directorio completo con información de contacto de todos los empleados",parametros:[]}]},{categoria:"Dashboard",informes:[{id:"dashboard-ejecutivo",nombre:"Dashboard Ejecutivo",descripcion:"Resumen ejecutivo con métricas clave y estadísticas generales",parametros:[]}]}]},getNombreInforme(t,e){return{"empleados-activos":"Empleados_Activos","empleados-inactivos":"Empleados_Inactivos","departamento-general":"Informe_Departamentos","departamento-especifico":"Departamento","centro-general":"Informe_Centros","centro-especifico":"Centro","zona-general":"Informe_Zonas","zona-especifica":"Zona","empresa-general":"Informe_Empresas","empresa-especifica":"Empresa","cumpleanos-rango":"Cumpleanos","directorio-contactos":"Directorio_Contactos","dashboard-ejecutivo":"Dashboard_Ejecutivo"}[t]||`Informe_${t}`}}}),Qee=gr({name:"Informes",components:{DefaultLayout:Yt,FileText:Xt,Users:fn,Building2:Us,MapPin:Cs,Briefcase:zi,Calendar:li,Phone:Cg,BarChart3:Ul,Download:Za,Loader:At,Settings:HT,Eye:Ko,ChevronRight:Pn,ChevronDown:IT,X:Xe,RefreshCw:Ft},setup(){const t=ge([]),e=ge(null),s=ge(!0),o=ge(null),n=ge(null),i=ge(!1),r=ge(null),a=ge([]),l=ge({id:"",fechaInicio:"",fechaFin:""}),d=Jee(),u=X(),f=async()=>{s.value=!0,o.value=null;try{const F=await d.fetchInformesDisponibles();t.value=F,t.value.length>0&&(e.value=t.value[0].categoria)}catch(F){console.error("Error cargando informes:",F),o.value="Error al cargar los informes. Por favor, intente nuevamente."}finally{s.value=!1}},h=async F=>{if(m(F)){g(F);return}try{n.value=F.id,await d.generarInforme(F.id),u.success(`El informe "${F.nombre}" se ha generado correctamente`,"Informe generado")}catch(L){console.error("Error generando informe:",L),u.error(L.message||"Error al generar el informe","Error")}finally{n.value=null}},m=F=>F.parametros&&F.parametros.length>0,g=async F=>{if(r.value=F,l.value={id:"",fechaInicio:"",fechaFin:""},F.id==="cumpleanos-rango"){const N=new Date().getFullYear();l.value.fechaInicio=`${N}-01-01`,l.value.fechaFin=`${N}-12-31`}try{switch(F.id){case"departamento-especifico":a.value=await d.fetchOpcionesDepartamentos();break;case"centro-especifico":a.value=await d.fetchOpcionesCentros();break;case"zona-especifica":a.value=await d.fetchOpcionesZonas();break;case"empresa-especifica":a.value=await d.fetchOpcionesEmpresas();break;default:a.value=[]}i.value=!0}catch(L){console.error("Error cargando opciones:",L),u.error("Error al cargar las opciones para el informe","Error")}},b=()=>{i.value=!1,r.value=null,a.value=[]},v=async()=>{if(M.value)try{n.value=r.value.id;const F={};O.value&&(F.id=l.value.id),P.value&&(F.fechaInicio=l.value.fechaInicio,F.fechaFin=l.value.fechaFin),await d.generarInforme(r.value.id,F),u.success(`El informe "${r.value.nombre}" se ha generado correctamente`,"Informe generado"),b()}catch(F){console.error("Error generando informe con parámetros:",F),u.error(F.message||"Error al generar el informe","Error")}finally{n.value=null}},w=()=>r.value?{"departamento-especifico":"Departamento","centro-especifico":"Centro","zona-especifica":"Zona","empresa-especifica":"Empresa"}[r.value.id]||"Opción":"",E=()=>r.value&&{"departamento-especifico":Us,"centro-especifico":Cs,"zona-especifica":Cs,"empresa-especifica":zi}[r.value.id]||Us,_=F=>({Empleados:fn,Departamentos:Us,Centros:Cs,Zonas:Cs,Empresas:zi,Especiales:li,Dashboard:Ul})[F]||Xt,D=F=>({"empleados-activos":fn,"empleados-inactivos":fn,"departamento-general":Us,"departamento-especifico":Us,"centro-general":Cs,"centro-especifico":Cs,"zona-general":Cs,"zona-especifica":Cs,"empresa-general":zi,"empresa-especifica":zi,"cumpleanos-rango":li,"directorio-contactos":Cg,"dashboard-ejecutivo":Ul})[F]||Xt,k=we(()=>t.value.reduce((F,L)=>F+L.informes.length,0)),T=we(()=>{if(!e.value)return t.value.flatMap(L=>L.informes);const F=t.value.find(L=>L.categoria===e.value);return F?F.informes:[]}),O=we(()=>r.value?["departamento-especifico","centro-especifico","zona-especifica","empresa-especifica"].includes(r.value.id):!1),P=we(()=>r.value&&r.value.id==="cumpleanos-rango"),M=we(()=>O.value?l.value.id!=="":P.value?l.value.fechaInicio!==""&&l.value.fechaFin!=="":!0);return is(()=>{f()}),{informesDisponibles:t,selectedCategoria:e,loading:s,error:o,generando:n,showModal:i,informeSeleccionado:r,opcionesModal:a,parametros:l,totalInformes:k,informesFiltrados:T,requiereSelector:O,esCumpleanos:P,isFormValid:M,loadInformes:f,generarInforme:h,requiereParametros:m,mostrarModal:g,closeModal:b,generarInformeConParametros:v,getSelectorLabel:w,getSelectorIcon:E,getCategoriaIcon:_,getInformeIcon:D}}}),ete={class:"informes-page"},tte={class:"page-header"},ste={class:"header-stats"},ote={class:"stat-item"},nte={class:"stat-number"},ite={class:"stat-item"},rte={class:"stat-number"},ate={key:0,class:"loading-container"},lte={key:1,class:"error-state"},cte={key:2,class:"informes-content"},dte={class:"categorias-sidebar"},ute={class:"sidebar-header"},fte={class:"sidebar-badge"},hte={class:"categorias-list"},mte=["onClick"],pte={class:"categoria-icon"},gte={class:"categoria-info"},bte={class:"categoria-name"},vte={class:"categoria-count"},yte={class:"informes-main"},_te={class:"main-header"},Ete={class:"text-muted"},wte={key:0,class:"empty-state"},Cte={key:1,class:"informes-grid"},Ste={class:"card-header"},xte={class:"card-icon"},kte={key:0,class:"generating-indicator"},Dte={class:"card-content"},Ate={class:"card-title"},Tte={class:"card-description"},Mte={key:0,class:"parametros-section"},Pte={class:"parametros-header"},Ite={class:"parametros-tags"},Fte={class:"preview-section"},Rte={class:"preview-header"},Ote={class:"preview-content"},Nte={class:"preview-mockup"},Lte={class:"preview-header-bar"},zte={class:"preview-title"},$te={class:"card-footer"},Vte=["onClick","disabled"],Bte={class:"modal-container"},Ute={class:"modal-header"},jte={class:"modal-title-section"},Hte={class:"modal-subtitle"},qte={class:"modal-body"},Wte={key:0,class:"form-group"},Kte={class:"form-label"},Gte={class:"select-wrapper"},Xte={value:"",disabled:""},Zte=["value"],Yte={key:0},Jte={key:1,class:"form-group"},Qte={class:"form-label"},ese={class:"date-range"},tse={class:"date-field"},sse={class:"date-field"},ose={class:"modal-preview-section"},nse={class:"preview-header"},ise={class:"modal-preview-content"},rse={class:"preview-mockup large"},ase={class:"preview-header-bar"},lse={class:"preview-title"},cse={class:"modal-footer"},dse=["disabled"];function use(t,e,s,o,n,i){const r=C("RefreshCw"),a=C("ChevronRight"),l=C("FileText"),d=C("Settings"),u=C("Eye"),f=C("X"),h=C("ChevronDown"),m=C("Calendar"),g=C("Download"),b=C("DefaultLayout");return p(),q(b,null,{default:Ee(()=>{var v,w,E,_;return[c("div",ete,[c("div",tte,[e[10]||(e[10]=c("div",{class:"header-title"},[c("h1",null,"Informes PDF"),c("p",{class:"text-muted"},"Genera informes detallados en formato PDF de empleados, departamentos, centros y más")],-1)),c("div",ste,[c("div",ote,[c("span",nte,S(t.informesDisponibles.length),1),e[8]||(e[8]=c("span",{class:"stat-label"},"Categorías",-1))]),c("div",ite,[c("span",rte,S(t.totalInformes),1),e[9]||(e[9]=c("span",{class:"stat-label"},"Informes",-1))])])]),t.loading?(p(),y("div",ate,e[11]||(e[11]=[c("div",{class:"loading-spinner"},null,-1),c("p",null,"Cargando informes disponibles...",-1)]))):t.error?(p(),y("div",lte,[e[13]||(e[13]=c("div",{class:"error-icon"},"⚠️",-1)),e[14]||(e[14]=c("h3",null,"Error al cargar informes",-1)),c("p",null,S(t.error),1),c("button",{onClick:e[0]||(e[0]=(...D)=>t.loadInformes&&t.loadInformes(...D)),class:"btn btn-primary"},[x(r,{size:"16",class:"btn-icon"}),e[12]||(e[12]=V(" Reintentar "))])])):(p(),y("div",cte,[c("div",dte,[c("div",ute,[e[15]||(e[15]=c("h3",null,"Categorías",-1)),c("span",fte,S(t.informesDisponibles.length),1)]),c("div",hte,[(p(!0),y(he,null,De(t.informesDisponibles,D=>(p(),y("div",{key:D.categoria,class:j(["categoria-item",{active:t.selectedCategoria===D.categoria}]),onClick:k=>t.selectedCategoria=D.categoria},[c("div",pte,[(p(),q(mo(t.getCategoriaIcon(D.categoria)),{size:"20"}))]),c("div",gte,[c("div",bte,S(D.categoria),1),c("div",vte,S(D.informes.length)+" informes",1)]),x(a,{size:"16",class:"categoria-arrow"})],10,mte))),128))])]),c("div",yte,[c("div",_te,[c("h2",null,S(t.selectedCategoria||"Todos los informes"),1),c("p",Ete,S(t.informesFiltrados.length)+" informes disponibles",1)]),t.informesFiltrados.length===0?(p(),y("div",wte,[x(l,{size:"48",class:"empty-icon"}),e[16]||(e[16]=c("h3",null,"No hay informes disponibles",-1)),e[17]||(e[17]=c("p",null,"No se encontraron informes en esta categoría",-1))])):(p(),y("div",Cte,[(p(!0),y(he,null,De(t.informesFiltrados,D=>(p(),y("div",{key:D.id,class:j(["informe-card",{generating:t.generando===D.id}])},[c("div",Ste,[c("div",xte,[(p(),q(mo(t.getInformeIcon(D.id)),{size:"24"}))]),t.generando===D.id?(p(),y("div",kte,e[18]||(e[18]=[c("div",{class:"spinner-small"},null,-1)]))):I("",!0)]),c("div",Dte,[c("h3",Ate,S(D.nombre),1),c("p",Tte,S(D.descripcion),1),D.parametros&&D.parametros.length?(p(),y("div",Mte,[c("div",Pte,[x(d,{size:"14"}),e[19]||(e[19]=c("span",null,"Parámetros requeridos",-1))]),c("div",Ite,[(p(!0),y(he,null,De(D.parametros,(k,T)=>(p(),y("span",{key:T,class:"parametro-tag"},S(k),1))),128))])])):I("",!0),c("div",Fte,[c("div",Rte,[x(u,{size:"14"}),e[20]||(e[20]=c("span",null,"Vista previa",-1))]),c("div",Ote,[c("div",Nte,[c("div",Lte,[e[21]||(e[21]=c("div",{class:"preview-dots"},[c("span"),c("span"),c("span")],-1)),c("span",zte,S(D.nombre)+".pdf",1)]),e[22]||(e[22]=c("div",{class:"preview-body"},[c("div",{class:"preview-lines"},[c("div",{class:"preview-line long"}),c("div",{class:"preview-line medium"}),c("div",{class:"preview-line short"}),c("div",{class:"preview-line long"}),c("div",{class:"preview-line medium"})]),c("div",{class:"preview-chart"},[c("div",{class:"chart-bars"},[c("div",{class:"bar",style:{height:"60%"}}),c("div",{class:"bar",style:{height:"80%"}}),c("div",{class:"bar",style:{height:"40%"}}),c("div",{class:"bar",style:{height:"90%"}})])])],-1))])])])]),c("div",$te,[c("button",{onClick:k=>t.generarInforme(D),class:"btn btn-primary btn-full",disabled:t.generando===D.id},[(p(),q(mo(t.generando===D.id?"Loader":"Download"),{size:"16",class:j(["btn-icon",{"animate-spin":t.generando===D.id}])},null,8,["class"])),V(" "+S(t.generando===D.id?"Generando...":"Generar PDF"),1)],8,Vte)])],2))),128))]))])])),t.showModal?(p(),y("div",{key:3,class:"modal-overlay",onClick:e[7]||(e[7]=Ve((...D)=>t.closeModal&&t.closeModal(...D),["self"]))},[c("div",Bte,[c("div",Ute,[c("div",jte,[(p(),q(mo(t.getInformeIcon((v=t.informeSeleccionado)==null?void 0:v.id)),{size:"24",class:"modal-icon"})),c("div",null,[c("h2",null,S((w=t.informeSeleccionado)==null?void 0:w.nombre),1),c("p",Hte,S((E=t.informeSeleccionado)==null?void 0:E.descripcion),1)])]),c("button",{onClick:e[1]||(e[1]=(...D)=>t.closeModal&&t.closeModal(...D)),class:"modal-close"},[x(f,{size:"18"})])]),c("div",qte,[t.requiereSelector?(p(),y("div",Wte,[c("label",Kte,[(p(),q(mo(t.getSelectorIcon()),{size:"16",class:"label-icon"})),V(" "+S(t.getSelectorLabel()),1)]),c("div",Gte,[se(c("select",{"onUpdate:modelValue":e[2]||(e[2]=D=>t.parametros.id=D),class:"form-select"},[c("option",Xte,"Seleccionar "+S(t.getSelectorLabel().toLowerCase()),1),(p(!0),y(he,null,De(t.opcionesModal,D=>(p(),y("option",{key:D.id,value:D.id},[V(S(D.nombre)+" ",1),D.total_empleados?(p(),y("span",Yte,"("+S(D.total_empleados)+" empleados)",1)):I("",!0)],8,Zte))),128))],512),[[_t,t.parametros.id]]),x(h,{size:"16",class:"select-arrow"})])])):I("",!0),t.esCumpleanos?(p(),y("div",Jte,[c("label",Qte,[x(m,{size:"16",class:"label-icon"}),e[23]||(e[23]=V(" Rango de fechas "))]),c("div",ese,[c("div",tse,[e[24]||(e[24]=c("label",{class:"date-label"},"Fecha inicio",-1)),se(c("input",{"onUpdate:modelValue":e[3]||(e[3]=D=>t.parametros.fechaInicio=D),type:"date",class:"form-input"},null,512),[[fe,t.parametros.fechaInicio]])]),e[26]||(e[26]=c("div",{class:"date-separator"},"—",-1)),c("div",sse,[e[25]||(e[25]=c("label",{class:"date-label"},"Fecha fin",-1)),se(c("input",{"onUpdate:modelValue":e[4]||(e[4]=D=>t.parametros.fechaFin=D),type:"date",class:"form-input"},null,512),[[fe,t.parametros.fechaFin]])])])])):I("",!0),c("div",ose,[c("div",nse,[x(u,{size:"16"}),e[27]||(e[27]=c("span",null,"Vista previa del informe",-1))]),c("div",ise,[c("div",rse,[c("div",ase,[e[28]||(e[28]=c("div",{class:"preview-dots"},[c("span"),c("span"),c("span")],-1)),c("span",lse,S((_=t.informeSeleccionado)==null?void 0:_.nombre)+".pdf",1)]),e[29]||(e[29]=c("div",{class:"preview-body"},[c("div",{class:"preview-content-large"},[c("div",{class:"preview-header-section"},[c("div",{class:"preview-logo"}),c("div",{class:"preview-title-section"},[c("div",{class:"preview-line extra-long"}),c("div",{class:"preview-line medium"})])]),c("div",{class:"preview-data-section"},[c("div",{class:"preview-table"},[c("div",{class:"table-row header"},[c("div",{class:"table-cell"}),c("div",{class:"table-cell"}),c("div",{class:"table-cell"})]),c("div",{class:"table-row"},[c("div",{class:"table-cell"}),c("div",{class:"table-cell"}),c("div",{class:"table-cell"})]),c("div",{class:"table-row"},[c("div",{class:"table-cell"}),c("div",{class:"table-cell"}),c("div",{class:"table-cell"})])]),c("div",{class:"preview-chart-large"},[c("div",{class:"chart-bars"},[c("div",{class:"bar",style:{height:"45%"}}),c("div",{class:"bar",style:{height:"70%"}}),c("div",{class:"bar",style:{height:"30%"}}),c("div",{class:"bar",style:{height:"85%"}}),c("div",{class:"bar",style:{height:"55%"}})])])])])],-1))])])])]),c("div",cse,[c("button",{onClick:e[5]||(e[5]=(...D)=>t.closeModal&&t.closeModal(...D)),class:"btn-secondary"},[x(f,{size:"16",class:"btn-icon"}),e[30]||(e[30]=V(" Cancelar "))]),c("button",{onClick:e[6]||(e[6]=(...D)=>t.generarInformeConParametros&&t.generarInformeConParametros(...D)),class:"btn btn-primary",disabled:!t.isFormValid},[x(g,{size:"16",class:"btn-icon"}),e[31]||(e[31]=V(" Generar PDF "))],8,dse)])])])):I("",!0)])]}),_:1})}const fse=de(Qee,[["render",use],["__scopeId","data-v-70650aa9"]]),hse=[{path:"/",redirect:"/dashboard"},{path:"/dashboard",name:"dashboard",component:r4,meta:{title:"Dashboard",icon:"LayoutDashboard"}},{path:"/login",name:"login",component:X4,meta:{public:!0,title:"Login"}},{path:"/usuarios",name:"usuarios",component:BN,meta:{title:"Usuarios",icon:"Users",requiredPermission:{nombre:"Usuarios",tipo:"Lectura"}}},{path:"/usuarios/nuevo",name:"usuario-nuevo",component:vz,meta:{title:"Nuevo Usuario",requiredPermission:{nombre:"Usuarios",tipo:"Escritura"}}},{path:"/usuarios/:id",name:"usuario-detalle",component:k5,props:!0,meta:{title:"Detalle de Usuario",requiredPermission:{nombre:"Usuarios",tipo:"Lectura"}}},{path:"/empleados",name:"empleados",component:M8,meta:{title:"Empleados",icon:"UserRound",requiredPermission:{nombre:"Empleados",tipo:"Lectura"}}},{path:"/empleados/nuevo",name:"empleado-nuevo",component:F6,meta:{title:"Nuevo Empleado",requiredPermission:{nombre:"Empleados",tipo:"Escritura"}}},{path:"/empleados/:id",name:"empleado-detalle",component:Tq,props:!0,meta:{title:"Detalle de Empleado",requiredPermission:{nombre:"Empleados",tipo:"Lectura"}}},{path:"/roles",name:"roles",component:EK,meta:{title:"Gestión de Roles",icon:"Shield",requiredPermission:{nombre:"Usuarios",tipo:"Escritura"}}},{path:"/centros",name:"centros",component:iG,meta:{title:"Centros",icon:"Building2",requiredPermission:{nombre:"Master",tipo:"Escritura"}}},{path:"/centros/:idCentro/departamentos",name:"departamentos",component:zG,props:!0,meta:{title:"Departamentos por Centro",requiredPermission:{nombre:"Master",tipo:"Escritura"}}},{path:"/zonas",name:"zonas",component:pX,meta:{requiresAuth:!0,requiredPermission:{nombre:"Master",tipo:"Escritura"},title:"Gestión de Zonas"}},{path:"/tipos-contrato",name:"tipos-contrato",component:GZ,meta:{title:"Tipos de Contrato",icon:"FileText",requiredPermission:{nombre:"Master",tipo:"Escritura"}}},{path:"/empresas",name:"empresas",component:EJ,meta:{title:"Empresas",icon:"Building",requiredPermission:{nombre:"Master",tipo:"Escritura"}}},{path:"/convenios",name:"convenios",component:tee,meta:{title:"Convenios Colectivos",icon:"FileContract",requiredPermission:{nombre:"Master",tipo:"Escritura"}}},{path:"/convenios/:idConvenio/categorias",name:"categorias-convenio",component:zee,props:!0,meta:{title:"Categorías de Convenio",requiredPermission:{nombre:"Master",tipo:"Escritura"}}},{path:"/informes",name:"informes",component:fse,meta:{requiresAuth:!0,permission:{nombre:"Informes",tipo:"Lectura"}}},{path:"/unauthorized",name:"unauthorized",component:qee,meta:{title:"Acceso Denegado",requiresAuth:!0}},{path:"/:pathMatch(.*)*",name:"not-found",component:Yee,meta:{title:"Página No Encontrada",public:!0}}],wm=yT({history:GA(),routes:hse});i0(wm);const mse={mounted(t,e){const{value:s}=e,o=ns();if(!(!s||!s.nombre||!s.tipo)){if(o.isAuthenticated&&!o.permissionsLoaded){t.style.display="none";const n=o.$subscribe((i,r)=>{r.permissionsLoaded&&(_u(t,s,o),n())});return}_u(t,s,o)}},updated(t,e){const{value:s}=e,o=ns();!s||!s.nombre||!s.tipo||_u(t,s,o)}};function _u(t,e,s){if(s.isAdmin){t.style.display="";return}if(!s.isAuthenticated||!s.permissionsLoaded){t.style.display="none";return}let o=!1;e.tipo==="Escritura"?o=s.hasPermission(e):e.tipo==="Lectura"&&(o=s.hasPermission(e)||s.hasPermission({...e,tipo:"Escritura"})),t.style.display=o?"":"none"}const pse=Nk(),Od=_c(IM);Od.use(pse);i0(wm);Od.use(wm);Od.directive("permission",mse);Od.mount("#app");
